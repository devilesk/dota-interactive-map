!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.InteractiveMap=t()}}(function(){var t;return function t(e,i,n){function r(a,s){if(!i[a]){if(!e[a]){var h="function"==typeof require&&require;if(!s&&h)return h(a,!0);if(o)return o(a,!0);var l=new Error("Cannot find module '"+a+"'");throw l.code="MODULE_NOT_FOUND",l}var u=i[a]={exports:{}};e[a][0].call(u.exports,function(t){var i=e[a][1][t];return r(i?i:t)},u,u.exports,t,e,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)r(n[a]);return r}({1:[function(e,i,n){!function(e,r){if("object"==typeof n&&"object"==typeof i)i.exports=r();else if("function"==typeof t&&t.amd)t([],r);else{var o=r();for(var a in o)("object"==typeof n?n:e)[a]=o[a]}}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){t.exports=i(1)},function(t,e,i){"use strict";function n(){var t="undefined"==typeof JSON?{}:JSON;r.setupJSON(t)}var r=i(2),o=i(3);n();var a=window._rollbarConfig,s=a&&a.globalAlias||"Rollbar",h=window[s]&&"undefined"!=typeof window[s].shimId;!h&&a?r.wrapper.init(a):(window.Rollbar=r.wrapper,window.RollbarNotifier=o.Notifier),t.exports=r.wrapper},function(t,e,i){"use strict";function n(t,e,i){!i[4]&&window._rollbarWrappedError&&(i[4]=window._rollbarWrappedError,window._rollbarWrappedError=null),t.uncaughtError.apply(t,i),e&&e.apply(window,i)}function r(t,e){if(e.hasOwnProperty&&e.hasOwnProperty("addEventListener")){var i=e.addEventListener;e.addEventListener=function(e,n,r){i.call(this,e,t.wrap(n),r)};var n=e.removeEventListener;e.removeEventListener=function(t,e,i){n.call(this,t,e&&e._wrapped||e,i)}}}var o=i(3),a=i(8),s=o.Notifier;window._rollbarWrappedError=null;var h={};h.init=function(t,e){var i=new s(e);if(i.configure(t),t.captureUncaught){var o;e&&a.isType(e._rollbarOldOnError,"function")?o=e._rollbarOldOnError:window.onerror&&!window.onerror.belongsToShim&&(o=window.onerror),window.onerror=function(){var t=Array.prototype.slice.call(arguments,0);n(i,o,t)};var h,l,u=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"];for(h=0;h<u.length;++h)l=u[h],window[l]&&window[l].prototype&&r(i,window[l].prototype)}return t.captureUnhandledRejections&&(e&&a.isType(e._unhandledRejectionHandler,"function")&&window.removeEventListener("unhandledrejection",e._unhandledRejectionHandler),i._unhandledRejectionHandler=function(t){var e=t.reason,n=t.promise,r=t.detail;!e&&r&&(e=r.reason,n=r.promise),i.unhandledRejection(e,n)},window.addEventListener("unhandledrejection",i._unhandledRejectionHandler)),window.Rollbar=i,s.processPayloads(),i},t.exports={wrapper:h,setupJSON:o.setupJSON}},function(t,e,i){"use strict";function n(t){x=t,m.setupJSON(t)}function r(t,e){return function(){var i=e||this;try{return t.apply(i,arguments)}catch(t){}}}function o(){p||(p=setTimeout(f,1e3))}function a(){return M}function s(t){M=M||this;var e="https://"+s.DEFAULT_ENDPOINT;this.options={enabled:!0,endpoint:e,environment:"production",scrubFields:v([],s.DEFAULT_SCRUB_FIELDS),checkIgnore:null,logLevel:s.DEFAULT_LOG_LEVEL,reportLevel:s.DEFAULT_REPORT_LEVEL,uncaughtErrorLevel:s.DEFAULT_UNCAUGHT_ERROR_LEVEL,payload:{}},this.lastError=null,this.plugins={},this.parentNotifier=t,t&&(t.hasOwnProperty("shimId")?t.notifier=this:this.configure(t.options))}function h(t){window._rollbarPayloadQueue.push(t),o()}function l(t){return r(function(){var e=this._getLogArgs(arguments);return this._log(t||e.level||this.options.logLevel||s.DEFAULT_LOG_LEVEL,e.message,e.err,e.custom,e.callback)})}function u(t,e){t||(t=e?x.stringify(e):"");var i={body:t};return e&&(i.extra=v(!0,{},e)),{message:i}}function c(t,e,i){var n=g.guessErrorClass(e.message),r=e.name||n[0],o=n[1],a={exception:{class:r,message:o}};if(t&&(a.exception.description=t||"uncaught exception"),e.stack){var s,h,l,c,f,d,p,m;for(a.frames=[],p=0;p<e.stack.length;++p)s=e.stack[p],h={filename:s.url?y.sanitizeUrl(s.url):"(unknown)",lineno:s.line||null,method:s.func&&"?"!==s.func?s.func:"[anonymous]",colno:s.column},l=c=f=null,d=s.context?s.context.length:0,d&&(m=Math.floor(d/2),c=s.context.slice(0,m),l=s.context[m],f=s.context.slice(m)),l&&(h.code=l),(c||f)&&(h.context={},c&&c.length&&(h.context.pre=c),f&&f.length&&(h.context.post=f)),s.args&&(h.args=s.args),a.frames.push(h);return a.frames.reverse(),i&&(a.extra=v(!0,{},i)),{trace:a}}return u(r+": "+o,i)}function f(){var t;try{for(;t=window._rollbarPayloadQueue.shift();)d(t)}finally{p=void 0}}function d(t){var e=t.endpointUrl,i=t.accessToken,n=t.payload,r=t.callback||function(){},o=(new Date).getTime();o-C>=6e4&&(C=o,k=0);var a=window._globalRollbarOptions.maxItems,l=window._globalRollbarOptions.itemsPerMinute,u=function(){return!n.ignoreRateLimit&&a>=1&&L>=a},c=function(){return!n.ignoreRateLimit&&l>=1&&k>=l};return u()?void r(new Error(a+" max items reached")):c()?void r(new Error(l+" items per minute reached")):(L++,k++,u()&&M._log(M.options.uncaughtErrorLevel,"maxItems has been hit. Ignoring errors for the remainder of the current page load.",null,{maxItems:a},null,!1,!0),n.ignoreRateLimit&&delete n.ignoreRateLimit,void b.post(e,i,n,function(e,i){return e?(e instanceof w&&(t.callback=function(){},setTimeout(function(){h(t)},s.RETRY_DELAY)),r(e)):r(null,i)}))}var p,v=i(4),g=i(5),y=i(8),m=i(10),b=m.XHR,w=m.ConnectionError,x=null;s.NOTIFIER_VERSION="1.9.2",s.DEFAULT_ENDPOINT="api.rollbar.com/api/1/",s.DEFAULT_SCRUB_FIELDS=["pw","pass","passwd","password","secret","confirm_password","confirmPassword","password_confirmation","passwordConfirmation","access_token","accessToken","secret_key","secretKey","secretToken"],s.DEFAULT_LOG_LEVEL="debug",s.DEFAULT_REPORT_LEVEL="debug",s.DEFAULT_UNCAUGHT_ERROR_LEVEL="error",s.DEFAULT_ITEMS_PER_MIN=60,s.DEFAULT_MAX_ITEMS=0,s.LEVELS={debug:0,info:1,warning:2,error:3,critical:4},s.RETRY_DELAY=1e4,window._rollbarPayloadQueue=window._rollbarPayloadQueue||[],window._globalRollbarOptions={startTime:(new Date).getTime(),maxItems:s.DEFAULT_MAX_ITEMS,itemsPerMinute:s.DEFAULT_ITEMS_PER_MIN};var M,S=s.prototype;S._getLogArgs=function(t){for(var e,i,n,o,a,h,l=this.options.logLevel||s.DEFAULT_LOG_LEVEL,u=[],c=0;c<t.length;++c)h=t[c],a=y.typeName(h),"string"===a?e?u.push(h):e=h:"function"===a?o=r(h,this):"date"===a?u.push(h):"error"===a||h instanceof Error||"undefined"!=typeof DOMException&&h instanceof DOMException?i?u.push(h):i=h:"object"!==a&&"array"!==a||(n?u.push(h):n=h);return u.length&&(n=n||{},n.extraArgs=u),{level:l,message:e,err:i,custom:n,callback:o}},S._route=function(t){var e=this.options.endpoint,i=/\/$/.test(e),n=/^\//.test(t);return i&&n?t=t.substring(1):i||n||(t="/"+t),e+t},S._processShimQueue=function(t){for(var e,i,n,r,o,a,h,l={};i=t.shift();)e=i.shim,n=i.method,r=i.args,o=e.parentShim,h=l[e.shimId],h||(o?(a=l[o.shimId],h=new s(a)):h=this,l[e.shimId]=h),h[n]&&y.isType(h[n],"function")&&h[n].apply(h,r)},S._buildPayload=function(t,e,i,n,r){var o=this.options.accessToken,a=this.options.environment,h=v(!0,{},this.options.payload),l=y.uuid4();if(void 0===s.LEVELS[e])throw new Error("Invalid level");if(!i&&!n&&!r)throw new Error("No message, stack info or custom data");var u={environment:a,endpoint:this.options.endpoint,uuid:l,level:e,platform:"browser",framework:"browser-js",language:"javascript",body:this._buildBody(i,n,r),request:{url:window.location.href,query_string:window.location.search,user_ip:"$remote_ip"},client:{runtime_ms:t.getTime()-window._globalRollbarOptions.startTime,timestamp:Math.round(t.getTime()/1e3),javascript:{browser:window.navigator.userAgent,language:window.navigator.language,cookie_enabled:window.navigator.cookieEnabled,screen:{width:window.screen.width,height:window.screen.height},plugins:this._getBrowserPlugins()}},server:{},notifier:{name:"rollbar-browser-js",version:s.NOTIFIER_VERSION}};h.body&&delete h.body;var c={access_token:o,data:v(!0,u,h)};return this._scrub(c.data),c},S._buildBody=function(t,e,i){var n;return n=e?c(t,e,i):u(t,i)},S._getBrowserPlugins=function(){if(!this._browserPlugins){var t,e,i=window.navigator.plugins||[],n=i.length,r=[];for(e=0;e<n;++e)t=i[e],r.push({name:t.name,description:t.description});this._browserPlugins=r}return this._browserPlugins},S._scrub=function(t){function e(t,e,i,n,r,o){return e+y.redact(o)}function i(t){var i;if(y.isType(t,"string"))for(i=0;i<s.length;++i)t=t.replace(s[i],e);return t}function n(t,e){var i;for(i=0;i<a.length;++i)if(a[i].test(t)){e=y.redact(e);break}return e}function r(t,e){var r=n(t,e);return r===e?i(r):r}var o=this.options.scrubFields,a=this._getScrubFieldRegexs(o),s=this._getScrubQueryParamRegexs(o);return y.traverse(t,r),t},S._getScrubFieldRegexs=function(t){for(var e,i=[],n=0;n<t.length;++n)e="\\[?(%5[bB])?"+t[n]+"\\[?(%5[bB])?\\]?(%5[dD])?",i.push(new RegExp(e,"i"));return i},S._getScrubQueryParamRegexs=function(t){for(var e,i=[],n=0;n<t.length;++n)e="\\[?(%5[bB])?"+t[n]+"\\[?(%5[bB])?\\]?(%5[dD])?",i.push(new RegExp("("+e+"=)([^&\\n]+)","igm"));return i},S._urlIsWhitelisted=function(t){var e,i,n,r,o,a,s,h,l,u;try{if(e=this.options.hostWhiteList,i=t&&t.data&&t.data.body&&t.data.body.trace,!e||0===e.length)return!0;if(!i)return!0;for(s=e.length,o=i.frames.length,l=0;l<o;l++){if(n=i.frames[l],r=n.filename,!y.isType(r,"string"))return!0;for(u=0;u<s;u++)if(a=e[u],h=new RegExp(a),h.test(r))return!0}}catch(t){return this.configure({hostWhiteList:null}),!0}return!1},S._messageIsIgnored=function(t){var e,i,n,r,o,a,s,h,l;try{if(o=!1,n=this.options.ignoredMessages,!n||0===n.length)return!1;if(s=t&&t.data&&t.data.body,h=s&&s.trace&&s.trace.exception&&s.trace.exception.message,l=s&&s.message&&s.message.body,e=h||l,!e)return!1;for(r=n.length,i=0;i<r&&(a=new RegExp(n[i],"gi"),!(o=a.test(e)));i++);}catch(t){void this.configure({ignoredMessages:null})}return o},S._enqueuePayload=function(t,e,i,n){var r={callback:n,accessToken:this.options.accessToken,endpointUrl:this._route("item/"),payload:t},o=function(){if(n){var t="This item was not sent to Rollbar because it was ignored. This can happen if a custom checkIgnore() function was used or if the item's level was less than the notifier' reportLevel. See https://rollbar.com/docs/notifier/rollbar.js/configuration for more details.";n(null,{err:0,result:{id:null,uuid:null,message:t}})}};if(this._internalCheckIgnore(e,i,t))return void o();try{if(y.isType(this.options.checkIgnore,"function")&&this.options.checkIgnore(e,i,t))return void o()}catch(t){void this.configure({checkIgnore:null})}if(this._urlIsWhitelisted(t)&&!this._messageIsIgnored(t)){if(this.options.verbose&&t.data&&t.data.body&&t.data.body.trace){var a=t.data.body.trace;a.exception.message}y.isType(this.options.logFunction,"function")&&this.options.logFunction(r);try{y.isType(this.options.transform,"function")&&this.options.transform(t)}catch(t){void this.configure({transform:null})}this.options.enabled&&h(r)}},S._internalCheckIgnore=function(t,e,i){var n=e[0],r=s.LEVELS[n]||0,o=s.LEVELS[this.options.reportLevel]||0;if(r<o)return!0;var a=this.options?this.options.plugins:{};if(a&&a.jquery&&a.jquery.ignoreAjaxErrors)try{return!!i.data.body.message.extra.isAjax}catch(t){return!1}return!1},S._log=function(t,e,i,n,r,o,a){var s=null;if(i)try{if(s=i._savedStackTrace?i._savedStackTrace:g.parse(i),i===this.lastError)return;this.lastError=i}catch(t){e=i.message||i.description||e||String(i),i=null}var h=this._buildPayload(new Date,t,e,s,n);a&&(h.ignoreRateLimit=!0),this._enqueuePayload(h,!!o,[t,e,i,n],r)},S.log=l(),S.debug=l("debug"),S.info=l("info"),S.warn=l("warning"),S.warning=l("warning"),S.error=l("error"),S.critical=l("critical"),S.uncaughtError=r(function(t,e,i,n,r,o){if(o=o||null,r&&y.isType(r,"error"))return void this._log(this.options.uncaughtErrorLevel,t,r,o,null,!0);if(e&&y.isType(e,"error"))return void this._log(this.options.uncaughtErrorLevel,t,e,o,null,!0);var a={url:e||"",line:i};a.func=g.guessFunctionName(a.url,a.line),a.context=g.gatherContext(a.url,a.line);var s={mode:"onerror",message:r?String(r):t||"uncaught exception",url:document.location.href,stack:[a],useragent:navigator.userAgent},h=this._buildPayload(new Date,this.options.uncaughtErrorLevel,t,s,o);this._enqueuePayload(h,!0,[this.options.uncaughtErrorLevel,t,e,i,n,r])}),S.unhandledRejection=r(function(t,e){if(null==t)return void M._log(M.options.uncaughtErrorLevel,"unhandled rejection was null or undefined!",null,{},null,!1,!1);var i=t.message||(t?String(t):"unhandled rejection"),n=t._rollbarContext||e._rollbarContext||null;if(t&&y.isType(t,"error"))return void this._log(this.options.uncaughtErrorLevel,i,t,n,null,!0);var r={url:"",line:0};r.func=g.guessFunctionName(r.url,r.line),r.context=g.gatherContext(r.url,r.line);var o={mode:"unhandledrejection",message:i,url:document.location.href,stack:[r],useragent:navigator.userAgent},a=this._buildPayload(new Date,this.options.uncaughtErrorLevel,i,o,n);this._enqueuePayload(a,!0,[this.options.uncaughtErrorLevel,i,r.url,r.line,0,t,e])}),S.global=r(function(t){t=t||{};var e={startTime:t.startTime,maxItems:t.maxItems,itemsPerMinute:t.itemsPerMinute};v(!0,window._globalRollbarOptions,e),void 0!==t.maxItems&&(L=0),void 0!==t.itemsPerMinute&&(k=0)}),S.configure=r(function(t,e){var i=v(!0,{},t);v(!e,this.options,i),this.global(i)}),S.scope=r(function(t){var e=new s(this);return v(!0,e.options.payload,t),e}),S.wrap=function(t,e){try{var i;if(i=y.isType(e,"function")?e:function(){return e||{}},!y.isType(t,"function"))return t;if(t._isWrap)return t;if(!t._wrapped){t._wrapped=function(){try{return t.apply(this,arguments)}catch(e){throw"string"==typeof e&&(e=new String(e)),e.stack||(e._savedStackTrace=g.parse(e)),e._rollbarContext=i()||{},e._rollbarContext._wrappedSource=t.toString(),window._rollbarWrappedError=e,e}},t._wrapped._isWrap=!0;for(var n in t)t.hasOwnProperty(n)&&(t._wrapped[n]=t[n])}return t._wrapped}catch(e){return t}},S.loadFull=function(){},s.processPayloads=function(t){return t?void f():void o()};var C=(new Date).getTime(),L=0,k=0;t.exports={Notifier:s,setupJSON:n,topLevelNotifier:a}},function(t,e){"use strict";var i=Object.prototype.hasOwnProperty,n=Object.prototype.toString,r=function(t){return"function"==typeof Array.isArray?Array.isArray(t):"[object Array]"===n.call(t)},o=function(t){if(!t||"[object Object]"!==n.call(t))return!1;var e=i.call(t,"constructor"),r=t.constructor&&t.constructor.prototype&&i.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!e&&!r)return!1;var o;for(o in t);return"undefined"==typeof o||i.call(t,o)};t.exports=function t(){var e,i,n,a,s,h,l=arguments[0],u=1,c=arguments.length,f=!1;for("boolean"==typeof l?(f=l,l=arguments[1]||{},u=2):("object"!=typeof l&&"function"!=typeof l||null==l)&&(l={});u<c;++u)if(e=arguments[u],null!=e)for(i in e)n=l[i],a=e[i],l!==a&&(f&&a&&(o(a)||(s=r(a)))?(s?(s=!1,h=n&&r(n)?n:[]):h=n&&o(n)?n:{},l[i]=t(f,h,a)):"undefined"!=typeof a&&(l[i]=a));return l}},function(t,e,i){"use strict";function n(){return u}function r(){return null}function o(t){var e={};return e._stackFrame=t,e.url=t.fileName,e.line=t.lineNumber,e.func=t.functionName,e.column=t.columnNumber,e.args=t.args,e.context=r(e.url,e.line),e}function a(t){function e(){var e=[];try{e=l.parse(t)}catch(t){e=[]}for(var i=[],n=0;n<e.length;n++)i.push(new o(e[n]));return i}return{stack:e(),message:t.message,name:t.name}}function s(t){return new a(t)}function h(t){if(!t)return["Unknown error. There was no error message to display.",""];var e=t.match(c),i="(unknown)";return e&&(i=e[e.length-1],t=t.replace((e[e.length-2]||"")+i+":",""),t=t.replace(/(^[\s]+|[\s]+$)/g,"")),[i,t]}var l=i(6),u="?",c=new RegExp("^(([a-zA-Z0-9-_$ ]*): *)?(Uncaught )?([a-zA-Z0-9-_$ ]*): ");t.exports={guessFunctionName:n,guessErrorClass:h,gatherContext:r,parse:s,Stack:a,Frame:o}},function(t,e,i){var n,r,o;!function(a,s){"use strict";r=[i(7)],n=s,o="function"==typeof n?n.apply(e,r):n,!(void 0!==o&&(t.exports=o))}(this,function(t){"use strict";function e(t,e,i){if("function"==typeof Array.prototype.map)return t.map(e,i);for(var n=new Array(t.length),r=0;r<t.length;r++)n[r]=e.call(i,t[r]);return n}function i(t,e,i){if("function"==typeof Array.prototype.filter)return t.filter(e,i);for(var n=[],r=0;r<t.length;r++)e.call(i,t[r])&&n.push(t[r]);return n}var n=/(^|@)\S+\:\d+/,r=/^\s*at .*(\S+\:\d+|\(native\))/m,o=/^(eval@)?(\[native code\])?$/;return{parse:function(t){if("undefined"!=typeof t.stacktrace||"undefined"!=typeof t["opera#sourceloc"])return this.parseOpera(t);if(t.stack&&t.stack.match(r))return this.parseV8OrIE(t);if(t.stack)return this.parseFFOrSafari(t);throw new Error("Cannot parse given Error object")},extractLocation:function(t){if(t.indexOf(":")===-1)return[t];var e=t.replace(/[\(\)\s]/g,"").split(":"),i=e.pop(),n=e[e.length-1];if(!isNaN(parseFloat(n))&&isFinite(n)){var r=e.pop();return[e.join(":"),r,i]}return[e.join(":"),i,void 0]},parseV8OrIE:function(n){var o=i(n.stack.split("\n"),function(t){return!!t.match(r)},this);return e(o,function(e){e.indexOf("(eval ")>-1&&(e=e.replace(/eval code/g,"eval").replace(/(\(eval at [^\()]*)|(\)\,.*$)/g,""));var i=e.replace(/^\s+/,"").replace(/\(eval code/g,"(").split(/\s+/).slice(1),n=this.extractLocation(i.pop()),r=i.join(" ")||void 0,o="eval"===n[0]?void 0:n[0];return new t(r,void 0,o,n[1],n[2],e)},this)},parseFFOrSafari:function(n){var r=i(n.stack.split("\n"),function(t){return!t.match(o)},this);return e(r,function(e){if(e.indexOf(" > eval")>-1&&(e=e.replace(/ line (\d+)(?: > eval line \d+)* > eval\:\d+\:\d+/g,":$1")),e.indexOf("@")===-1&&e.indexOf(":")===-1)return new t(e);var i=e.split("@"),n=this.extractLocation(i.pop()),r=i.shift()||void 0;return new t(r,void 0,n[0],n[1],n[2],e)},this)},parseOpera:function(t){return!t.stacktrace||t.message.indexOf("\n")>-1&&t.message.split("\n").length>t.stacktrace.split("\n").length?this.parseOpera9(t):t.stack?this.parseOpera11(t):this.parseOpera10(t)},parseOpera9:function(e){for(var i=/Line (\d+).*script (?:in )?(\S+)/i,n=e.message.split("\n"),r=[],o=2,a=n.length;o<a;o+=2){var s=i.exec(n[o]);s&&r.push(new t(void 0,void 0,s[2],s[1],void 0,n[o]))}return r},parseOpera10:function(e){for(var i=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,n=e.stacktrace.split("\n"),r=[],o=0,a=n.length;o<a;o+=2){var s=i.exec(n[o]);s&&r.push(new t(s[3]||void 0,void 0,s[2],s[1],void 0,n[o]))}return r},parseOpera11:function(r){var o=i(r.stack.split("\n"),function(t){return!!t.match(n)&&!t.match(/^Error created at/)},this);return e(o,function(e){var i,n=e.split("@"),r=this.extractLocation(n.pop()),o=n.shift()||"",a=o.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^\)]*\)/g,"")||void 0;o.match(/\(([^\)]*)\)/)&&(i=o.replace(/^[^\(]+\(([^\)]*)\)$/,"$1"));var s=void 0===i||"[arguments not available]"===i?void 0:i.split(",");return new t(a,s,r[0],r[1],r[2],e)},this)}}})},function(t,e,i){var n,r,o;!function(i,a){"use strict";r=[],n=a,o="function"==typeof n?n.apply(e,r):n,!(void 0!==o&&(t.exports=o))}(this,function(){"use strict";function t(t){return!isNaN(parseFloat(t))&&isFinite(t)}function e(t,e,i,n,r,o){void 0!==t&&this.setFunctionName(t),void 0!==e&&this.setArgs(e),void 0!==i&&this.setFileName(i),void 0!==n&&this.setLineNumber(n),void 0!==r&&this.setColumnNumber(r),void 0!==o&&this.setSource(o)}return e.prototype={getFunctionName:function(){return this.functionName},setFunctionName:function(t){this.functionName=String(t)},getArgs:function(){return this.args},setArgs:function(t){if("[object Array]"!==Object.prototype.toString.call(t))throw new TypeError("Args must be an Array");this.args=t},getFileName:function(){return this.fileName},setFileName:function(t){this.fileName=String(t)},getLineNumber:function(){return this.lineNumber},setLineNumber:function(e){if(!t(e))throw new TypeError("Line Number must be a Number");this.lineNumber=Number(e)},getColumnNumber:function(){return this.columnNumber},setColumnNumber:function(e){if(!t(e))throw new TypeError("Column Number must be a Number");this.columnNumber=Number(e)},getSource:function(){return this.source},setSource:function(t){this.source=String(t)},toString:function(){var e=this.getFunctionName()||"{anonymous}",i="("+(this.getArgs()||[]).join(",")+")",n=this.getFileName()?"@"+this.getFileName():"",r=t(this.getLineNumber())?":"+this.getLineNumber():"",o=t(this.getColumnNumber())?":"+this.getColumnNumber():"";return e+i+n+r+o}},e})},function(t,e,i){"use strict";function n(t){return{}.toString.call(t).match(/\s([a-zA-Z]+)/)[1].toLowerCase()}function r(t,e){return n(t)===e}function o(t){if(!r(t,"string"))throw new Error("received invalid input");for(var e=u,i=e.parser[e.strictMode?"strict":"loose"].exec(t),n={},o=14;o--;)n[e.key[o]]=i[o]||"";return n[e.q.name]={},n[e.key[12]].replace(e.q.parser,function(t,i,r){i&&(n[e.q.name][i]=r)}),n}function a(t){var e=o(t);return""===e.anchor&&(e.source=e.source.replace("#","")),t=e.source.replace("?"+e.query,"")}function s(t,e){var i,n,o,a=r(t,"object"),h=r(t,"array"),l=[];if(a)for(i in t)t.hasOwnProperty(i)&&l.push(i);else if(h)for(o=0;o<t.length;++o)l.push(o);for(o=0;o<l.length;++o)i=l[o],n=t[i],a=r(n,"object"),h=r(n,"array"),a||h?t[i]=s(n,e):t[i]=e(i,n);return t}function h(t){return t=String(t),new Array(t.length+1).join("*")}function l(){var t=(new Date).getTime(),e="xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var i=(t+16*Math.random())%16|0;return t=Math.floor(t/16),("x"===e?i:7&i|8).toString(16)});return e}i(9);var u={strictMode:!1,key:["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],q:{name:"queryKey",parser:/(?:^|&)([^&=]*)=?([^&]*)/g},parser:{strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/}},c={isType:r,parseUri:o,parseUriOptions:u,redact:h,sanitizeUrl:a,traverse:s,typeName:n,uuid4:l};t.exports=c},function(t,e){!function(t){"use strict";t.console=t.console||{};for(var e,i,n=t.console,r={},o=function(){},a="memory".split(","),s="assert,clear,count,debug,dir,dirxml,error,exception,group,groupCollapsed,groupEnd,info,log,markTimeline,profile,profiles,profileEnd,show,table,time,timeEnd,timeline,timelineEnd,timeStamp,trace,warn".split(",");e=a.pop();)n[e]||(n[e]=r);for(;i=s.pop();)n[i]||(n[i]=o)}("undefined"==typeof window?this:window)},function(t,e,i){"use strict";function n(t){a=t}function r(t){this.name="Connection Error",this.message=t,this.stack=(new Error).stack}var o=i(8),a=null;r.prototype=Object.create(Error.prototype),r.prototype.constructor=r;var s={XMLHttpFactories:[function(){return new XMLHttpRequest},function(){return new ActiveXObject("Msxml2.XMLHTTP")},function(){return new ActiveXObject("Msxml3.XMLHTTP")},function(){return new ActiveXObject("Microsoft.XMLHTTP")}],createXMLHTTPObject:function(){var t,e=!1,i=s.XMLHttpFactories,n=i.length;for(t=0;t<n;t++)try{e=i[t]();break}catch(t){}return e},post:function(t,e,i,n){if(!o.isType(i,"object"))throw new Error("Expected an object to POST");i=a.stringify(i),n=n||function(){};var h=s.createXMLHTTPObject();if(h)try{try{var l=function(){try{if(l&&4===h.readyState){l=void 0;var t=a.parse(h.responseText);200===h.status?n(null,t):o.isType(h.status,"number")&&h.status>=400&&h.status<600?(403==h.status&&void 0,n(new Error(String(h.status)))):n(new r("XHR response had no status code (likely connection failure)"))}}catch(t){var e;e=t&&t.stack?t:new Error(t),n(e)}};h.open("POST",t,!0),h.setRequestHeader&&(h.setRequestHeader("Content-Type","application/json"),h.setRequestHeader("X-Rollbar-Access-Token",e)),h.onreadystatechange=l,h.send(i)}catch(e){if("undefined"!=typeof XDomainRequest){"http:"===window.location.href.substring(0,5)&&"https"===t.substring(0,5)&&(t="http"+t.substring(5));var u=function(){n(new r("Request timed out"))},c=function(){n(new Error("Error during request"))},f=function(){n(null,a.parse(h.responseText))};h=new XDomainRequest,h.onprogress=function(){},h.ontimeout=u,h.onerror=c,h.onload=f,h.open("POST",t,!0),h.send(i)}}}catch(t){n(t)}}};t.exports={XHR:s,setupJSON:n,ConnectionError:r}}])})},{}],2:[function(t,e,i){function n(e){var i=this;this.map_tile_path=e,this.MODE="navigation",this.layerDefs=t("./layerDefinitions"),this.baseLayerDefs=t("./baseLayerDefinitions"),this.view=new o.View({zoom:0,center:a.imgCenter,projection:r.pixel,resolutions:a.resolutions,extent:[0,0,a.map_w,a.map_h]}),this.data={},this.layerIndex={},this.version="700",this.visionRadius=a.visionRadius.observer,this.movementSpeed=a.defaultMovementSpeed,this.isNight=!1,this.isDarkness=!1,this.layerFilters={marker:function(t){var e=t.get("layerDef");return t.getVisible()&&e&&("structure"==e.group||"object"==e.group)}},this.map=new o.Map({controls:o.control.defaults({zoom:!1,attribution:!1,rotate:!1}),interactions:o.interaction.defaults({altShiftDragRotate:!1,pinchRotate:!1}),target:"map",view:this.view}),this.highlightSource=new o.source.Vector({defaultDataProjection:"pixel"}),this.highlightLayer=new o.layer.Vector({source:this.highlightSource,style:s.highlight}),this.selectSource=new o.source.Vector({defaultDataProjection:"pixel"}),this.selectLayer=new o.layer.Vector({source:this.selectSource,style:s.select}),this.wardRangeSource=new o.source.Vector({defaultDataProjection:"pixel"}),this.wardRangeLayer=new o.layer.Vector({source:this.wardRangeSource}),this.rangeSources={dayVision:new o.source.Vector({defaultDataProjection:"pixel"}),nightVision:new o.source.Vector({defaultDataProjection:"pixel"}),trueSight:new o.source.Vector({defaultDataProjection:"pixel"}),attackRange:new o.source.Vector({defaultDataProjection:"pixel"})},this.rangeLayers={dayVision:new o.layer.Vector({source:this.rangeSources.dayVision,style:s.dayVision}),nightVision:new o.layer.Vector({source:this.rangeSources.nightVision,style:s.nightVision}),trueSight:new o.layer.Vector({source:this.rangeSources.trueSight,style:s.trueSight}),attackRange:new o.layer.Vector({source:this.rangeSources.attackRange,style:s.attackRange})},this.baseLayers=this.baseLayerDefs.map(function(t){var e=new o.layer.Tile({title:t.name,type:"base",extent:r.pixel.getExtent(),source:new o.source.TileImage({tileGrid:new o.tilegrid.TileGrid({origin:[0,a.map_h],resolutions:a.resolutions}),projection:r.pixel,url:i.map_tile_path+t.group+"/"+t.id+"/{z}/tile_{x}_{y}.jpg"}),visible:!!t.visible});return e.set("layerId",t.group+"-"+t.id,!0),e.set("layerDef",t,!0),e}),this.baseLayerGroup=new o.layer.Group({title:"Base Layers",layers:new o.Collection(this.baseLayers)})}var r=t("./projections"),o=t("openlayers"),a=t("./mapConstants"),s=t("./styleDefinitions"),h=(t("./dataLoader").loadGeoJSON,t("./dataLoader").loadJSON,t("./dataLoader").loadLayerGroupFromData),l=t("./util/getJSON"),u=t("./conversionFunctions").worldToLatLon,c=t("./conversionFunctions").getScaledRadius;t("./util/queryString");n.prototype.getMapData=function(t){return this.data[t||this.version]},n.prototype.getData=function(t){return this.data[t||this.version].data},n.prototype.getOverlayData=function(t){return this.data[t||this.version].data.data},n.prototype.getStatData=function(t){return this.data[t||this.version].data.stats},n.prototype.getMapLayerIndex=function(t){return t=t||this.version,this.layerIndex[t]||(this.layerIndex[t]={}),this.layerIndex[t]},n.prototype.getMapDataPath=function(t){return t=t||this.version,"data/"+t+"/mapdata2.json"},n.prototype.setMapLayers=function(t,e){var i=this;this.getDataJSON(t,function(t){var n=i.map.getLayerGroup();n.setVisible(!1),i.map.setLayerGroup(t.layerGroup),i.map.getLayerGroup().setVisible(!0),e&&e()})},n.prototype.getDataJSON=function(t,e){var i=this;this.data[t]?e(i.data[t]):l(i.getMapDataPath(t),function(n){i.data[t]={data:n,layerGroup:new o.layer.Group({title:t+" Layers",layers:new o.Collection([i.baseLayerGroup,h(i,n,t,i.getMapLayerIndex(t),i.layerDefs)])})},e(i.data[t])})},n.prototype.panTo=function(t,e){null==e&&(e=1e3),this.view.animate({center:t,duration:1e3})},n.prototype.checkAndHighlightWard=function(t){var e=this,i=this.map.forEachFeatureAtPixel(t,function(t,e){return t},{layerFilter:e.wardControl.layerFilter});return this.highlightWard(i),i},n.prototype.highlightWard=function(t){t!==this.highlightedWard&&(this.highlightedWard&&this.highlightedWard.setStyle(s[this.highlightedWard.get("wardType")].normal),t&&t.setStyle(s[t.get("wardType")]["navigate"==this.MODE?"highlight":"remove"]),this.highlightedWard=t)},n.prototype.unhighlightWard=function(){this.highlightedWard&&this.highlightedWard.setStyle(s[this.highlightedWard.get("wardType")].normal),this.highlightedWard=null},n.prototype.highlight=function(t){t!==this.highlightedFeature&&(this.highlightedFeature&&this.highlightSource.removeFeature(this.highlightedFeature),t&&this.highlightSource.addFeature(t),this.highlightedFeature=t)},n.prototype.unhighlight=function(){this.highlightedFeature&&this.highlightSource.removeFeature(this.highlightedFeature),this.highlightedFeature=null},n.prototype.toggle=function(t){if(t)return t.get("clicked")?(this.deselect(t),!1):(this.select(t),!0)},n.prototype.select=function(t){t&&!t.get("clicked")&&(t==this.highlightedFeature&&this.unhighlight(),this.selectSource.addFeature(t),t.set("clicked",!0,!0))},n.prototype.deselectAll=function(){this.selectSource.getFeatures().forEach(function(t){t.set("clicked",!1,!0)}),this.selectSource.clear()},n.prototype.deselect=function(t){t&&t.get("clicked")&&(t==this.highlightedFeature&&this.unhighlight(),this.selectSource.removeFeature(t),t.set("clicked",!1,!0))},n.prototype.hasVisionRadius=function(t){return null!=this.getFeatureVisionRadius(t)},n.prototype.getFeatureVisionRadius=function(t,e,i,n){e=e||t.get("dotaProps"),i=i||e.unitClass;var r,o=this.getStatData();if("observer"==i)r=this.visionRadius||a.visionRadius[i],this.isDarkness&&(r=Math.min(a.visionRadius.darkness,r));else if("sentry"==i)r=a.visionRadius[i];else{if(n&&!o[i].hasOwnProperty(n))return null;switch(n){case"dayVision":case"nightVision":r=o[i][n],this.isDarkness&&(r=Math.min(a.visionRadius.darkness,r));case"trueSight":case"attackRange":r=o[i][n];break;default:r=this.isNight?o[i].nightVision:o[i].dayVision,this.isDarkness&&(r=Math.min(a.visionRadius.darkness,r))}}return r},n.prototype.getRangeCircle=function(t,e,i,n,r){var a=t.get("dotaProps"),r=r||this.getFeatureVisionRadius(t,a,i,n);if(null==r)return null;e||(e=u([a.x,a.y]));var s=new o.Feature(new o.geom.Circle(e,c(r)));return s},e.exports=n},{"./baseLayerDefinitions":3,"./conversionFunctions":13,"./dataLoader":14,"./layerDefinitions":18,"./mapConstants":20,"./projections":21,"./styleDefinitions":23,"./util/getJSON":28,"./util/queryString":29,openlayers:19}],3:[function(t,e,i){var n=[{id:"default",name:"Default",group:"700"},{id:"journey",name:"New Journey",group:"700"},{id:"default",name:"Default",group:"687"},{id:"desert",name:"Desert",group:"687"},{id:"immortalgardens",name:"Immortal Gardens",group:"687"}];e.exports=n},{}],4:[function(t,e,i){function n(t){this.InteractiveMap=t,this.postComposeListener=null,this.postComposeHandler=this.animateCreeps.bind(this),this.playbackSpeed=1,this.paused=!0,this.pauseTime=null,this.title="Lane Animation"}function r(t,e){return t*e/1e3*s.scale}function o(t,e,i,n){
e*=i;var o=s.creepBaseMovementSpeed;if(n)return r(o,e);switch(t){case"npc_dota_spawner_good_bot":return e<1e4?r(1.25*o,e):r(1.25*o,1e4)+r(o,e-1e4);case"npc_dota_spawner_bad_top":return e<2e3?r(1.25*o,e):r(1.25*o,2e3)+r(o,e-2e3);case"npc_dota_spawner_good_top":return e<2e3?r(.75*o,e):r(.75*o,2e3)+r(o,e-2e3);case"npc_dota_spawner_bad_bot":return e<22e3?r(.75*o,e):r(.75*o,22e3)+r(o,e-22e3);default:return r(o,e)}}var a=t("openlayers"),s=t("./../mapConstants"),h=t("./../styleDefinitions");n.prototype.show=function(t){this.setContent(t),this.info.classList.remove("slideUp"),this.info.classList.add("slideDown")},n.prototype.setContent=function(t){this.infoContent.innerHTML=t},n.prototype.open=function(){this.info.classList.add("slideDown"),this.info.classList.remove("slideUp")},n.prototype.close=function(){this.info.classList.add("slideUp"),this.info.classList.remove("slideDown")},n.prototype.initialize=function(t){var e=this;this.id=t,this.info=document.getElementById(t),this.infoContent=document.querySelector("#timer-time"),this.playPauseBtn=document.querySelector("#timer-playPause"),this.playPauseHandler=function(t){e.playPause.call(e,!0)},this.playPauseBtn.addEventListener("click",this.playPauseHandler,!1),this.stopBtn=document.querySelector("#timer-stop"),this.stopHandler=function(t){e.stop.call(e,!0)},this.stopBtn.addEventListener("click",this.stopHandler,!1),this.fasterBtn=document.querySelector("#timer-faster"),this.fasterHandler=function(t){e.faster.call(e,!0)},this.fasterBtn.addEventListener("click",this.fasterHandler,!1),this.slowerBtn=document.querySelector("#timer-slower"),this.slowerHandler=function(t){e.slower.call(e,!0)},this.slowerBtn.addEventListener("click",this.slowerHandler,!1)},n.prototype.slower=function(){var t=this.playbackSpeed;this.playbackSpeed=Math.max(1,this.playbackSpeed-1),this.updatePlayback(t,this.playbackSpeed)},n.prototype.faster=function(){var t=this.playbackSpeed;this.playbackSpeed+=1,this.updatePlayback(t,this.playbackSpeed)},n.prototype.updatePlayback=function(t,e){var i=this.InteractiveMap.getMapLayerIndex().npc_dota_spawner.getSource().getFeatures(),n=this.currentTime-this.startTime,r=n*t/e;this.startTime=this.currentTime-r;for(var o=0;o<i.length;o++){var a=i[o],s=a.get("waveTimes");if(s)for(var h=s.length;h--;){var n=this.currentTime-s[h],r=n*t/e;s[h]=this.currentTime-r}}},n.prototype.start=function(){this.postComposeListener||(this.postComposeListener=this.InteractiveMap.map.on("postcompose",this.postComposeHandler)),this.paused&&this.playPause(),this.InteractiveMap.map.render()},n.prototype.stop=function(){a.Observable.unByKey(this.postComposeListener),this.postComposeListener=null;for(var t=this.InteractiveMap.getMapLayerIndex().npc_dota_spawner.getSource().getFeatures(),e=0;e<t.length;e++){var i=t[e];i.set("waveTimes",null,!0)}this.startTime=null,this.paused||this.playPause(),this.pauseTime=null,this.InteractiveMap.map.render(),this.setContent(this.title)},n.prototype.playPause=function(){this.paused=!this.paused,this.paused?(this.playPauseBtn.classList.add("icon-play"),this.playPauseBtn.classList.remove("icon-pause")):(this.playPauseBtn.classList.add("icon-pause"),this.playPauseBtn.classList.remove("icon-play"),this.start())},n.prototype.activate=function(){this.InteractiveMap.toggleLayerMenuOption("npc_dota_spawner",!0),this.InteractiveMap.toggleLayerMenuOption("path_corner",!0),this.show(this.title)},n.prototype.deactivate=function(){this.InteractiveMap.toggleLayerMenuOption("npc_dota_spawner",!1),this.InteractiveMap.toggleLayerMenuOption("path_corner",!1),this.stop(),this.close()},n.prototype.animateCreeps=function(t){var e=t.vectorContext,i=t.frameState;this.currentTime=i.time;var n=this.InteractiveMap.getMapLayerIndex().npc_dota_spawner.getSource().getFeatures(),r=this.InteractiveMap.getMapLayerIndex().path_corner;if(this.startTime||(this.startTime=this.currentTime),this.paused)null==this.pauseTime&&(this.pauseTime=i.time),this.currentTime=this.pauseTime;else if(null!=this.pauseTime){for(var s=0;s<n.length;s++){var l=n[s],u=l.get("waveTimes");if(u)for(var c=u.length;c--;)u[c]+=this.currentTime-this.pauseTime}this.startTime+=this.currentTime-this.pauseTime,this.pauseTime=null}for(var s=0;s<n.length;s++){var l=n[s],f=l.getId(),d=r.getSource().getFeatureById(f),u=l.get("waveTimes");u||(u=[this.currentTime],l.set("waveTimes",u,!0)),this.currentTime-u[u.length-1]>=3e4/this.playbackSpeed&&u.push(this.currentTime);for(var c=u.length;c--;){var p=l.get("path");if(!p){var p=d.getGeometry().clone(),v=p.getCoordinates();v[0]=l.getGeometry().getCoordinates(),p.setCoordinates(v),l.set("path",p,!0)}var g=p.getLength(),v=p.getCoordinates(),y=this.currentTime-u[c],m=o(f,y,this.playbackSpeed),b=Math.max(0,m/g);if(b>=1){var w=v[v.length-1];u.splice(c,1)}else var w=p.getCoordinateAt(b);var x=new a.geom.Circle(w);e.setStyle(h.creepColor(l)),e.drawCircle(x)}}var M=((this.currentTime-this.startTime)%(6e4/this.playbackSpeed)/1e3*this.playbackSpeed).toFixed(1)+"s";this.playbackSpeed>1&&(M+=", "+this.playbackSpeed+"x"),this.setContent(M),i.animate=!0},e.exports=n},{"./../mapConstants":20,"./../styleDefinitions":23,openlayers:19}],5:[function(t,e,i){function n(t){var e=this;this.InteractiveMap=t,this.source=new r.source.Vector({defaultDataProjection:"pixel"}),this.layer=new r.layer.Vector({source:this.source,style:o.cursor}),this.layerFilter=function(t){return t===e.layer}}var r=t("openlayers"),o=t("./../styleDefinitions");e.exports=n},{"./../styleDefinitions":23,openlayers:19}],6:[function(t,e,i){function n(t){var e=this;this.InteractiveMap=t,this.lastPointerMoveTime=Date.now(),this.pointerMoveHandler=function(t){if(!t.dragging){var i=e.InteractiveMap.map.getEventPixel(t.originalEvent),n=e.InteractiveMap.map.forEachFeatureAtPixel(i,function(t){return t},{layerFilter:e.InteractiveMap.layerFilters.marker});if(n)e.isActive()||e.displayFeatureInfo(n,!1),e.highlight(n);else{e.close(!1);var n=e.InteractiveMap.checkAndHighlightWard(i);n?e.InteractiveMap.wardControl.showVisibilityInfo(n.get("visionFeature")):e.isActive()||e.unhighlight()}}},this.pointerMoveListener=null,this.clickHandler=function(t){e.unhighlight();var i=e.InteractiveMap.map.forEachFeatureAtPixel(t.pixel,function(t,e){return t},{layerFilter:e.InteractiveMap.layerFilters.marker});if(i)if(i.get("clicked"))e.InteractiveMap.deselectAll(),e.close(!0);else{e.InteractiveMap.deselectAll();var n=i.get("dotaProps");"ent_dota_tree"==i.get("dotaProps").id?e.InteractiveMap.treeControl.toggleTree(i,n):(e.displayFeatureInfo(i,!0),e.select(i),e.InteractiveMap.panTo(t.coordinate))}else{var i=e.InteractiveMap.checkAndHighlightWard(t.pixel);if(i){var r=i.get("visionFeature");r?e.InteractiveMap.wardControl.showVisibilityInfo(i.get("visionFeature"),!0):e.close(!0),e.InteractiveMap.panTo(t.coordinate)}else e.isActive()||(e.unhighlight(),e.close(!0));e.InteractiveMap.deselectAll()}},this.clickListener=null}var r=t("openlayers"),o=t("./../getPopupContent"),a=(t("./../styleDefinitions"),t("./../mapConstants")),s=t("./../conversionFunctions").worldToLatLon,h=t("./../util/createCirclePointCoords");n.prototype.activate=function(){this.pointerMoveListener||(this.pointerMoveListener=this.InteractiveMap.map.on("pointermove",this.pointerMoveHandler)),this.clickListener||(this.clickListener=this.InteractiveMap.map.on("click",this.clickHandler))},n.prototype.deactivate=function(){this.InteractiveMap.unhighlightWard(),r.Observable.unByKey(this.pointerMoveListener),this.pointerMoveListener=null,r.Observable.unByKey(this.clickListener),this.clickListener=null},n.prototype.setContent=function(t){this.infoContent.innerHTML=t},n.prototype.isActive=function(){return this.info.classList.contains("active")},n.prototype.open=function(t){this.info.classList.add("slideUp"),this.info.classList.remove("slideDown"),t&&this.info.classList.add("active")},n.prototype.close=function(t){this.isActive()&&!t||(this.info.classList.add("slideDown"),this.info.classList.remove("slideUp"),this.info.classList.remove("active"))},n.prototype.initialize=function(t){var e=this;this.id=t,this.info=document.getElementById(t),this.infoContent=document.querySelector("#"+t+" .message-content"),this.closeBtn=document.querySelector("#"+t+" .btn-close"),this.closeHandler=function(t){e.close.call(e,!0)},this.closeBtn.addEventListener("click",this.closeHandler,!1)},n.prototype.displayFeatureInfo=function(t,e){this.setContent(o(this.InteractiveMap.getMapData(),t)),this.open(e)},n.prototype.unhighlight=function(t){var e=t||this.InteractiveMap.highlightedFeature;if(e&&!e.get("clicked")){var i=e.get("dotaProps");if(i&&"npc_dota_neutral_spawner"==i.id){var n=e.get("pullRange");n&&(this.InteractiveMap.getMapLayerIndex().pullRange.getSource().removeFeature(n),e.set("pullRange",null,!0));var r=e.get("guardRange");r&&(this.InteractiveMap.getMapLayerIndex().pullRange.getSource().removeFeature(r),e.set("guardRange",null,!0))}}this.InteractiveMap.unhighlight()},n.prototype.highlight=function(t){this.unhighlight();var e=t.get("dotaProps");if(e&&"npc_dota_neutral_spawner"==e.id&&!t.get("pullRange")){var i=this.InteractiveMap.getRangeCircle(t,null,null,null,400);t.set("guardRange",i,!0),this.InteractiveMap.getMapLayerIndex().pullRange.getSource().addFeature(i);var n=s([e.x,e.y]),o=a.pullRangeTiming[e.pullType],l=h(n[0],n[1],400+350*o,360),u=h(n[0],n[1],400+270*o,360),c=new r.geom.Polygon([l]);c.appendLinearRing(new r.geom.LinearRing(u));var i=new r.Feature(c);t.set("pullRange",i,!0),this.InteractiveMap.getMapLayerIndex().pullRange.getSource().addFeature(i)}this.InteractiveMap.highlight(t)},n.prototype.select=function(t){t&&!t.get("clicked")&&(t==this.InteractiveMap.highlightedFeature&&this.unhighlight(),this.InteractiveMap.selectSource.addFeature(t),t.set("clicked",!0,!0))},e.exports=n},{"./../conversionFunctions":13,"./../getPopupContent":16,"./../mapConstants":20,"./../styleDefinitions":23,"./../util/createCirclePointCoords":25,openlayers:19}],7:[function(t,e,i){function n(t){function e(){var t="circle"==n.type?"Circle":"LineString";p=new r.interaction.Draw({source:n.source,type:t,style:o.measure}),n.map.addInteraction(p),i();var e;p.on("drawstart",function(t){n.source.clear(!0),n.info.setContent(""),n.info.close(!0),a=t.feature;var i=t.coordinate;e=a.getGeometry().on("change",function(t){var e,o=t.target;o instanceof r.geom.Circle?(e=g(o),i=o.getLastCoordinate()):o instanceof r.geom.LineString&&(e=v(o),i=o.getLastCoordinate()),n.info.setContent(e),n.info.open(!0)})},n),p.on("drawend",function(){a=null,r.Observable.unByKey(e)},n)}function i(){s&&s.parentNode.removeChild(s),s=document.createElement("div"),s.className="tooltip hidden",h=new r.Overlay({element:s,offset:[15,0],positioning:"center-left"}),n.map.addOverlay(h)}var n=this;this.InteractiveMap=t,this.map=t.map,this.info=t.infoControl,this.source=new r.source.Vector({defaultDataProjection:"pixel"}),this.layer=new r.layer.Vector({source:this.source});var a,s,h,l,u="Click to continue drawing the polygon",c="Click to continue drawing the line",f=function(t){if(!t.dragging){var e="Click to start drawing";if(a){var i=a.getGeometry();i instanceof r.geom.Polygon?e=u:i instanceof r.geom.LineString&&(e=c)}s.innerHTML=e,h.setPosition(t.coordinate),s.classList.remove("hidden")}},d=function(){s.classList.add("hidden")};this.type="line";var p,v=function(t){var e,i=Math.round(t.getLength());return e="Distance: "+i+" units<br>Travel Time: "+(i/n.InteractiveMap.movementSpeed).toFixed(2)+"s at "+n.InteractiveMap.movementSpeed+"ms"},g=function(t){var e,i=Math.round(t.getRadius());return e="Radius: "+i+" units<br>Area: "+(Math.PI*i*i).toFixed(2)+" units<sup>2</sup>"},n=this;this.change=function(t){n.type=t,r.Observable.unByKey(l),n.map.getViewport().removeEventListener("mouseout",d),n.map.removeInteraction(p),n.source.clear(!0),e.call(this),this.active=!0},this.active=!1,this.activate=function(){this.active||(l=n.map.on("pointermove",f),n.map.getViewport().addEventListener("mouseout",d),e()),this.active=!0},this.deactivate=function(){r.Observable.unByKey(l),n.map.getViewport().removeEventListener("mouseout",d),n.map.removeInteraction(p),n.source.clear(!0),this.active=!1}}var r=t("openlayers"),o=t("./../styleDefinitions");e.exports=n},{"./../styleDefinitions":23,openlayers:19}],8:[function(t,e,i){function n(t,e,i,n){this.panelId=t,this.openId=e,this.closeId=i,this.fullscreen=n,this.initialize()}function r(t){this.InteractiveMap=t,this.leftPanel=new n("menu-left","menu-left-open-btn","menu-left-close-btn"),this.rightPanel=new n("menu-right","menu-right-open-btn","menu-right-close-btn"),this.leftPanel.otherMenu=this.rightPanel,this.rightPanel.otherMenu=this.leftPanel}n.prototype.initialize=function(){this.panel=document.getElementById(this.panelId),this.openBtn=document.getElementById(this.openId),this.closeBtn=document.getElementById(this.closeId),this.openBtn.addEventListener("click",this.open.bind(this),!1),this.closeHandler=this.close.bind(this),this.closeBtn.addEventListener("click",this.closeHandler,!1)},n.prototype.open=function(t){this.panel.classList.add("expand-horizontal"),this.panel.classList.remove("collapsed-horizontal"),this.openBtn.classList.add("collapsed-horizontal"),this.openBtn.classList.remove("expand-horizontal"),this.otherMenu.close(t)},n.prototype.close=function(t){this.panel.classList.remove("expand-horizontal"),this.panel.classList.add("collapsed-horizontal"),this.openBtn.classList.remove("collapsed-horizontal"),this.openBtn.classList.add("expand-horizontal")},n.prototype.createToggle=function(t,e){var i=document.createElement("div");i.classList.add("btn-toggle");var n=document.createElement("input");n.setAttribute("type","checkbox"),n.id="toggle-"+t.id,n.addEventListener("change",e,!1),i.appendChild(n);var r=document.createElement("label");return r.setAttribute("for",n.id),i.appendChild(r),i},n.prototype.createMenuPanelItem=function(t,e,i,r,o){function a(){var i=t.getMapLayerIndex()[e.id];"ent_dota_tree"==e.id?t.treeControl.toggleAllTrees(this.checked):t.wardControl.toggleAll(i,this.checked)}var s=e.id,h=document.createElement("div");h.classList.add("menu-item"),h.classList.add(o||"data-layer");var l=document.createElement("input");l.setAttribute("type",r||"checkbox"),"radio"==r&&(s=e.group+"-"+e.id,l.setAttribute("name",o),l.setAttribute("value",s)),l.id="option-"+s,l.setAttribute("data-layer-id",s),l.addEventListener("change",i,!1),h.appendChild(l);var u=document.createElement("label");if(u.classList.add("checkbox"),u.setAttribute("for",l.id),u.innerHTML=e.name,h.appendChild(u),e.toggle){var c=n.prototype.createToggle(e,a);h.appendChild(c)}return h},r.prototype.initialize=function(t,e){var i=this;this.InteractiveMap.layerDefs.forEach(function(e){var r=e.group,o=document.querySelector("#"+r+"-menu"),a=n.prototype.createMenuPanelItem(i.InteractiveMap,e,t);o.appendChild(a)}),this.InteractiveMap.baseLayerDefs.forEach(function(t){var r=t.group,o=document.querySelector("#base-"+r+"-menu"),a=n.prototype.createMenuPanelItem(i.InteractiveMap,t,e,"radio","base-layer");o.appendChild(a)})},e.exports=r},{}],9:[function(t,e,i){function n(){this.timer=null}t("./../styleDefinitions");n.prototype.show=function(t){this.setContent(t),this.info.classList.remove("slideUp"),this.info.classList.add("slideDown"),clearTimeout(this.timer);var e=this;this.timer=setTimeout(function(){e.info.classList.add("slideUp"),e.info.classList.remove("slideDown")},1500)},n.prototype.setContent=function(t){this.infoContent.innerHTML=t},n.prototype.open=function(){this.info.classList.add("slideDown"),this.info.classList.remove("slideUp")},n.prototype.close=function(){this.info.classList.add("slideUp"),this.info.classList.remove("slideDown")},n.prototype.initialize=function(t){this.id=t,this.info=document.getElementById(t),this.infoContent=document.querySelector("#"+t+" .message-content")},e.exports=n},{"./../styleDefinitions":23}],10:[function(t,e,i){function n(t){this.InteractiveMap=t,this.allTreesCutState=!1}var r=t("./../util/queryString");n.prototype.updateQueryString=function(){var t=this,e=["cut_trees","uncut_trees"],i=this.InteractiveMap.getMapLayerIndex().ent_dota_tree,n=i.getSource(),o=n.getFeatures(),a=o.filter(function(e){return!!e.get("isCut")!=t.allTreesCutState}).map(function(t){var e=t.get("dotaProps");return e.x+","+e.y}).join(";");r.setQueryString(e[this.allTreesCutState?1:0],a||null),r.setQueryString(e[this.allTreesCutState?0:1],null),document.getElementById("toggle-ent_dota_tree").checked=this.allTreesCutState},n.prototype.parseQueryString=function(){var t=this,e=this.InteractiveMap.getMapLayerIndex().ent_dota_tree,i=e.getSource(),n=i.getFeatures(),o={};n.forEach(function(t){var e=t.get("dotaProps"),i=e.x+","+e.y;o[i]=t}),["uncut_trees","cut_trees"].forEach(function(e,i){var n=r.getParameterByName(e);n&&(t.toggleAllTrees(!i,!0),n=n.split(";"),n.forEach(function(e){var n=o[e];n&&!!n.get("isCut")==!i&&t.toggleTree(n,n.get("dotaProps"),!0)}))}),this.updateQueryString()},n.prototype.toggleTree=function(t,e,i){var n=this.InteractiveMap.vs.WorldXYtoGridXY(e.x,e.y);this.InteractiveMap.vs.toggleTree(n.x,n.y),t.set("isCut",!t.get("isCut")),i||this.updateQueryString()},n.prototype.toggleAllTrees=function(t,e){var i=this;this.allTreesCutState=t;var n=this.InteractiveMap.getMapLayerIndex().ent_dota_tree,r=n.getSource(),o=r.getFeatures();o.forEach(function(e){!!e.get("isCut")!=t&&i.toggleTree(e,e.get("dotaProps"),!0)}),e||this.updateQueryString()},e.exports=n},{"./../util/queryString":29}],11:[function(t,e,i){function n(t){this.InteractiveMap=t,this.vs=t.vs,this.source=new r.source.Vector({defaultDataProjection:"pixel"}),this.layer=new r.layer.Vector({source:this.source,style:l.visionSimulation})}var r=t("openlayers"),o=t("./../conversionFunctions").latLonToWorld,a=t("./../conversionFunctions").worldToLatLon,s=t("./../conversionFunctions").getTileRadius,h=t("./../getLightUnion"),l=t("./../styleDefinitions");n.prototype.getVisionFeature=function(t,e,i){var n,l=this.vs;if(e)n=o(e);else{var u=t.get("dotaProps");n=[u.x,u.y]}if(i=i||this.InteractiveMap.getFeatureVisionRadius(t,u),null!=i){var c=l.WorldXYtoGridXY(n[0],n[1]);if(l.isValidXY(c.x,c.y,!0,!0,!0)){l.updateVisibility(c.x,c.y,s(i));var f=h(l.grid,l.lights).map(function(t){return t.map(function(t){var e=l.GridXYtoWorldXY(t.x,t.y);return a([e.x,e.y])})}),d=new r.geom.MultiPolygon([f],"XY"),t=new r.Feature({geometry:d});return t.set("visionData",{area:l.area,lightArea:l.lightArea},!1),t}}},n.prototype.toggleVisionFeature=function(t){var e=t.get("visionFeature");return e?(this.source.removeFeature(e),t.set("visionFeature",null),null):this.setVisionFeature(t)},n.prototype.removeVisionFeature=function(t){var e=t.get("visionFeature");e&&(this.source.removeFeature(e),t.set("visionFeature",null))},n.prototype.setVisionFeature=function(t,e,i){this.removeVisionFeature(t);var n=this.InteractiveMap.getFeatureVisionRadius(t,t.get("dotaProps"),i);return visionFeature=this.getVisionFeature(t,e,n),visionFeature&&this.source.addFeature(visionFeature),t.set("visionFeature",visionFeature,!0),visionFeature},e.exports=n},{"./../conversionFunctions":13,"./../getLightUnion":15,"./../styleDefinitions":23,openlayers:19}],12:[function(t,e,i){function n(t,e){var i=this;this.InteractiveMap=t,this.source=new r.source.Vector({defaultDataProjection:"pixel"}),this.layer=new r.layer.Vector({source:this.source}),this.layerFilter=function(t){return t===i.layer},this.placedWardCoordinates={observer:{},sentry:{}},this.lastPointerMoveTime=Date.now(),this.pointerMoveHandler=function(n){if(!n.dragging){var r=i.InteractiveMap.map.getEventPixel(n.originalEvent),o=!1,a=i.InteractiveMap.map.forEachFeatureAtPixel(r,function(t){return t},{layerFilter:i.InteractiveMap.layerFilters.marker});if(a)o=i.highlight(a),o&&i.showVisibilityInfo();else{var a=t.checkAndHighlightWard(r);a?i.showVisibilityInfo():i.unhighlight()}if(!(Date.now()-i.lastPointerMoveTime<e)){if(i.lastPointerMoveTime=Date.now(),o)if(a.get("visionFeature"))i.InteractiveMap.cursorControl.source.clear(!0);else var s=i.InteractiveMap.visionControl.getVisionFeature(a);else var s=i.InteractiveMap.visionControl.getVisionFeature(null,n.coordinate,i.InteractiveMap.visionRadius);s?(i.InteractiveMap.cursorControl.source.clear(!0),i.InteractiveMap.cursorControl.source.addFeature(s),o||i.showVisibilityInfo()):o||i.clearInfo()}}},this.pointerMoveListener=null,this.clickHandler=function(t){i.unhighlight();var e=i.InteractiveMap.map.forEachFeatureAtPixel(t.pixel,function(t,e){return t},{layerFilter:i.InteractiveMap.layerFilters.marker});e&&i.InteractiveMap.hasVisionRadius(e)?(i.InteractiveMap.toggle(e),i.InteractiveMap.visionControl.toggleVisionFeature(e)?i.showVisibilityInfo():i.clearInfo(),i.InteractiveMap.cursorControl.source.clear(!0)):(e=i.InteractiveMap.map.forEachFeatureAtPixel(t.pixel,function(t,e){return t},{layerFilter:i.layerFilter}),e?(i.removeWard(e),i.clearInfo(!0)):(i.addWard(t.coordinate,i.InteractiveMap.MODE),i.InteractiveMap.cursorControl.source.clear(!0)))},this.clickListener=null}var r=t("openlayers"),o=t("./../styleDefinitions"),a=t("./../mapConstants"),s=t("./../conversionFunctions").latLonToWorld,h=t("./../conversionFunctions").worldToLatLon,l=t("./../util/queryString");n.prototype.toggleAll=function(t,e){e?this.showAll(t):this.hideAll(t)},n.prototype.showAll=function(t){var e=this,i=t.getSource(),n=i.getFeatures();n.forEach(function(t){e.InteractiveMap.select(t),e.highlight(t)})},n.prototype.hideAll=function(t){var e=this,i=t.getSource(),n=i.getFeatures();n.forEach(function(t){e.InteractiveMap.deselect(t),e.unhighlight(t)})},n.prototype.showVisibilityInfo=function(t,e){var i=this.InteractiveMap.infoControl,n=this.InteractiveMap.vs,r=n.lightArea,o=n.area;if(t){var a=t.get("visionData");a&&(r=a.lightArea,o=a.area,i.setContent("Visibility: "+(r/o*100).toFixed()+"% "+r+"/"+o),i.open(e))}else i.setContent("Visibility: "+(r/o*100).toFixed()+"% "+r+"/"+o),i.open(e)},n.prototype.clearInfo=function(t){this.InteractiveMap.infoControl.setContent(""),this.InteractiveMap.infoControl.close(t)},n.prototype.activate=function(){this.pointerMoveListener||(this.pointerMoveListener=this.InteractiveMap.map.on("pointermove",this.pointerMoveHandler)),this.clickListener||(this.clickListener=this.InteractiveMap.map.on("click",this.clickHandler))},n.prototype.deactivate=function(){this.InteractiveMap.unhighlightWard(),this.InteractiveMap.cursorControl.source.clear(!0),r.Observable.unByKey(this.pointerMoveListener),this.pointerMoveListener=null,r.Observable.unByKey(this.clickListener),this.clickListener=null},n.prototype.parseQueryString=function(){var t=this;["observer","sentry"].forEach(function(e){var i=l.getParameterByName(e);i&&(i=i.split(";"),i.forEach(function(i){if(i=i.split(","),2==i.length&&(i=i.map(parseFloat),!i.some(isNaN))){var n=h(i);t.addWard(n,e,!0)}})),t.updateQueryString(e)})},n.prototype.updateQueryString=function(t){var e=Object.keys(this.placedWardCoordinates[t]).join(";");l.setQueryString(t,e||null)},n.prototype.addWard=function(t,e,i){if(!(t[0]<0||t[0]>a.map_w||t[1]<0||t[1]>a.map_h)){var n=new r.geom.Point(t),h=new r.Feature(n);h.set("wardType",e,!0),h.setStyle(o[e].normal),this.source.addFeature(h),"observer"==e&&this.InteractiveMap.visionControl.setVisionFeature(h,t,e)&&this.showVisibilityInfo();var l=this.InteractiveMap.getRangeCircle(h,t,e);l&&(l.setStyle("observer"==e?o.dayVision:o.trueSight),h.set("wardRange",l,!0),this.InteractiveMap.wardRangeSource.addFeature(l));var u=s(t).map(Math.round).join(",");this.placedWardCoordinates[e][u]=!0,i||this.updateQueryString(e)}},n.prototype.removeWard=function(t){var e=t.get("wardRange");e&&this.InteractiveMap.wardRangeSource.removeFeature(e),this.source.removeFeature(t),this.InteractiveMap.visionControl.removeVisionFeature(t);var i=s(t.getGeometry().getCoordinates()).map(Math.round).join(","),n=t.get("wardType");delete this.placedWardCoordinates[n][i],this.updateQueryString(n)},n.prototype.highlight=function(t){this.InteractiveMap.cursorControl.source.clear(!0),this.unhighlight();var e=this.InteractiveMap.visionControl.setVisionFeature(t);return this.addRangeCircles(t),this.InteractiveMap.highlight(t),e},n.prototype.unhighlight=function(t){var e=t||this.InteractiveMap.highlightedFeature;e&&!e.get("clicked")&&(this.InteractiveMap.visionControl.removeVisionFeature(e),this.removeRangeCircles(e)),this.InteractiveMap.unhighlight()},n.prototype.addRangeCircles=function(t){this.addRangeCircle(t,"dayVision"),this.addRangeCircle(t,"nightVision"),this.addRangeCircle(t,"trueSight"),this.addRangeCircle(t,"attackRange")},n.prototype.removeRangeCircles=function(t){this.removeRangeCircle(t,"dayVision"),this.removeRangeCircle(t,"nightVision"),this.removeRangeCircle(t,"trueSight"),this.removeRangeCircle(t,"attackRange")},n.prototype.addRangeCircle=function(t,e){if(!t.get(e)){var i=this.InteractiveMap.getRangeCircle(t,null,null,e);i&&(t.set(e,i,!0),this.InteractiveMap.rangeSources[e].addFeature(i))}},n.prototype.removeRangeCircle=function(t,e){var i=t.get(e);i&&(t.set(e,null,!0),this.InteractiveMap.rangeSources[e].removeFeature(i))},e.exports=n},{"./../conversionFunctions":13,"./../mapConstants":20,"./../styleDefinitions":23,"./../util/queryString":29,openlayers:19}],13:[function(t,e,i){function n(t,e,i){return i*(e-t)+t}function r(t,e,i){return(i-t)/(e-t)}function o(t){var e=n(u.map_x_boundaries[0],u.map_x_boundaries[1],t[0]/u.map_w),i=n(u.map_y_boundaries[0],u.map_y_boundaries[1],(u.map_h-t[1])/u.map_h);return[e,i]}function a(t){var e=r(u.map_x_boundaries[0],u.map_x_boundaries[1],t[0])*u.map_w,i=u.map_h-r(u.map_y_boundaries[0],u.map_y_boundaries[1],t[1])*u.map_h;return[e,i]}function s(t){return parseInt(Math.floor(t/64))}function h(t){return t/(u.map_x_boundaries[1]-u.map_x_boundaries[0])*u.map_w}function l(t,e,i){return 1==t&&"km"==e?i*u.scale*1e3:i*u.scale}var u=t("./mapConstants");e.exports={lerp:n,reverseLerp:r,latLonToWorld:o,worldToLatLon:a,getTileRadius:s,getScaledRadius:h,calculateDistance:l}},{"./mapConstants":20}],14:[function(t,e,i){function n(t,e){var i=new h.source.Vector({url:"data/700/"+e.filename,format:new h.format.GeoJSON({defaultDataProjection:e.projection||l.pixel})}),n=new h.layer.Vector({title:e.name,projection:e.projection||l.pixel,source:i,visible:!!e.visible,style:e.style});return n}function r(t,e,i,n){var r=[];r=i.data[e.id].map(function(t){var i=t.points,n=i.map(function(t){return h.proj.transform([t.x,t.y],l.dota,l.pixel)});n.push(h.proj.transform([i[0].x,i[0].y],l.dota,l.pixel));var r=new h.geom.Polygon([n]),o=new h.Feature(r);return t.id=e.id,o.set("dotaProps",t,!0),o});var o=new h.source.Vector({defaultDataProjection:"dota",features:r});return n?n.setSource(o):(n=new h.layer.Vector({title:e.name,source:o,visible:!!e.visible,style:e.style}),n.set("layerId",e.id,!0),n.set("layerDef",e,!0),n.set("showInfo",!1,!0)),n}function o(t,e,i,n){var r=[];r=i.data[e.id].map(function(t){var n=t.subType?e.id+"_"+t.subType:e.id,r=i.stats[n],o="ent_dota_tree"==e.id?[64,64]:r.bounds;if(o&&o[0]>0&&o[1]>0)var a=new h.geom.Polygon([[h.proj.transform([t.x-o[0],t.y-o[1]],l.dota,l.pixel),h.proj.transform([t.x-o[0],t.y+o[1]],l.dota,l.pixel),h.proj.transform([t.x+o[0],t.y+o[1]],l.dota,l.pixel),h.proj.transform([t.x+o[0],t.y-o[1]],l.dota,l.pixel),h.proj.transform([t.x-o[0],t.y-o[1]],l.dota,l.pixel)]]);else var a=new h.geom.Point(h.proj.transform([t.x,t.y],l.dota,l.pixel));var s=new h.Feature(a);return t.id=e.id,t.unitClass=n,s.set("dotaProps",t,!0),s});var o=new h.source.Vector({defaultDataProjection:"dota",features:r});return n?n.setSource(o):(n=new h.layer.Vector({title:e.name,source:o,visible:!!e.visible,style:e.style}),n.set("layerId",e.id,!0),n.set("layerDef",e,!0),n.set("showInfo",!1,!0)),n}function a(t,e,i,n){var r=new h.source.Vector({defaultDataProjection:"pixel",features:[]});return n?n.setSource(r):(n=new h.layer.Vector({title:e.name,source:r,visible:!!e.visible,style:e.style}),n.set("layerId",e.id,!0),n.set("layerDef",e,!0),n.set("showInfo",!1,!0)),n}function s(t,e,i,s,l){for(var u=[],c=0;c<l.length;c++){var f=l[c];if(e.data[f.id]||("pullRange"===f.type||"GeoJSON"===f.type)&&"687"!=i){var d;switch(f.type){case"GeoJSON":d=n(t.map,f,s[f.id]);break;case"polygon":d=r(t.map,f,e,s[f.id]);break;case"pullRange":d=a(t,f,e,s[f.id]);break;default:d=o(t.map,f,e,s[f.id])}s[f.id]=d,u.push(d)}}var p=new h.layer.Group({title:"Layers",layers:new h.Collection(u)});return p}var h=t("openlayers"),l=t("./projections");e.exports={loadGeoJSON:n,loadJSON:o,loadLayerGroupFromData:s}},{"./projections":21,openlayers:19}],15:[function(t,e,i){function n(t,e,i,r,o){for(var a=f(r),s=[[1,0],[0,-1],[-1,0],[0,1]],h=0;h<s.length;h++){var l=a.x+s[h][0],u=a.y+s[h][1];if(t[l]&&t[l][u]){var c=t[l][u].key;!i[c]&&e[c]&&(i[c]=o,n(t,e,i,c,o))}}}function r(t,e){var i={},r=1;for(var o in e)i[o]||(i[o]=r,n(t,e,i,o,r),r++);for(var a=[],s=1;s<r;s++)a.push(h(t,i,s));return a}function o(t,e,i,n){var r=i.x+n[0],o=i.y+n[1];if(!t[r]||!t[r][o])return!0;var a=t[r][o].key;return!e[a]}function a(t,e,i){for(var n=0;n<8;n+=2){var r=i.x+Math.round(Math.cos(2*Math.PI-Math.PI/4*n)),o=i.y+Math.round(Math.sin(2*Math.PI-Math.PI/4*n));if(!t[r]||!t[r][o])return n;var a=t[r][o].key;if(!e[a])return n}return null}function s(t,e){return(t%e+e)%e}function h(t,e,i){var n,r=[],o=null;for(var s in e){var h=f(s);if(o=a(t,e,h),e[s]==i&&null!==o){n=s;break}}for(var l=u(t,e,n,o);n!==l.key||o!==l.dir;)r.push(l.point),l=u(t,e,l.key,l.dir);return r.push(l.point),r}function l(t,e,i,n,r,a,s){var h=i.x+r[0],l=i.y+r[1];if(t[h]&&t[h][l]){var u=t[i.x+r[0]][i.y+r[1]];return e[u.key]==e[n]&&o(t,e,u,s)?{key:u.key,dir:a}:void 0}}function u(t,e,i,n){var r,a=f(i),h=Math.round(Math.cos(2*Math.PI-Math.PI/4*n)),u=Math.round(Math.sin(2*Math.PI-Math.PI/4*n)),c=s(n+2,8),p=Math.round(Math.cos(2*Math.PI-Math.PI/4*c)),v=Math.round(Math.sin(2*Math.PI-Math.PI/4*c)),g=s(n-1,8),y=Math.round(Math.cos(2*Math.PI-Math.PI/4*g)),m=Math.round(Math.sin(2*Math.PI-Math.PI/4*g));if(o(t,e,a,[p,v]))return{key:i,dir:s(n+2,8),point:d(a.x+y/2,a.y+m/2)};if(r||(r=l(t,e,a,i,[p,v],n,[h,u])),!r){var b=s(n+1,8),w=Math.round(Math.cos(2*Math.PI-Math.PI/4*b)),x=Math.round(Math.sin(2*Math.PI-Math.PI/4*b)),M=s(n-2,8),S=Math.round(Math.cos(2*Math.PI-Math.PI/4*M)),C=Math.round(Math.sin(2*Math.PI-Math.PI/4*M));r=l(t,e,a,i,[w,x],M,[S,C])}return r?(r.point=d(a.x+y/2,a.y+m/2),r):void 0}var c=t("dota-vision-simulation"),f=c.prototype.key2pt,d=(c.prototype.xy2key,c.prototype.xy2pt);e.exports=r},{"dota-vision-simulation":35}],16:[function(t,e,i){function n(t,e){return(e?o(e.replace("tower","Tier ").replace("range","Ranged"))+" ":"")+a[t]}function r(t,e){var i=e.get("dotaProps"),r=i.subType?i.id+"_"+i.subType:i.id,o=t.data.stats[r],a='<div class="info"><span class="info-header">'+n(i.id,i.subType)+'</span><span class="info-body">';return null!=i.pullType&&(a+='<br><span class="info-line">Pull Type: '+s[i.pullType]+"</span>"),null!=i.neutralType&&(a+='<br><span class="info-line">Difficulty: '+h[i.neutralType]+"</span>"),o.hasOwnProperty("damageMin")&&o.hasOwnProperty("damageMax")&&(a+='<br><span class="info-line">Damage: '+o.damageMin+"&ndash;"+o.damageMax+"</span>"),o.hasOwnProperty("bat")&&(a+='<br><span class="info-line">BAT: '+o.bat+"</span>"),o.hasOwnProperty("attackRange")&&(a+='<br><span class="info-line">Attack Range: '+o.attackRange+"</span>"),o.hasOwnProperty("health")&&(a+='<br><span class="info-line">Health: '+o.health+"</span>"),o.hasOwnProperty("armor")&&(a+='<br><span class="info-line">Armor: '+o.armor+"</span>"),o.hasOwnProperty("dayVision")&&o.hasOwnProperty("nightVision")&&(a+='<br><span class="info-line">Vision: '+o.dayVision+"/"+o.nightVision+"</span>"),a+="</span></div>"}var o=t("./util/capitalize"),a={npc_dota_roshan_spawner:"Roshan",dota_item_rune_spawner_powerup:"Rune",dota_item_rune_spawner_bounty:"Bounty Rune",ent_dota_tree:"Tree",npc_dota_healer:"Shrine",ent_dota_fountain:"Fountain",npc_dota_fort:"Ancient",ent_dota_shop:"Shop",npc_dota_tower:"Tower",npc_dota_barracks:"Barracks",npc_dota_filler:"Building",trigger_multiple:"Neutral Camp Spawn Box",npc_dota_neutral_spawner:"Neutral Camp",
observer:"Observer Ward",sentry:"Sentry Ward"},s=["Normal","Fast","Slow"],h=["Easy","Medium","Hard","Ancient"];e.exports=r},{"./util/capitalize":24}],17:[function(t,e,i){function n(e,i){function n(t){switch(t){case"observer":case"sentry":document.querySelector('input[name="ward-type"][value="'+t+'"]').checked=!0;case"ward":document.querySelector('input[name="mode"][value="ward"]').checked=!0,A.MODE=document.querySelector('input[name="ward-type"]:checked').value,document.getElementById("btn-ward").setAttribute("ward-type",A.MODE),document.getElementById("btn-ward").classList.add("active"),document.getElementById("btn-tree").classList.remove("active"),document.getElementById("btn-measure").classList.remove("active"),a.setQueryString("mode",A.MODE),A.measureControl.deactivate(),A.wardControl.activate(),A.infoControl.deactivate();break;case"line":case"circle":document.querySelector('input[name="measure-type"][value="'+t+'"]').checked=!0;case"measure":document.querySelector('input[name="mode"][value="measure"]').checked=!0,A.MODE=document.querySelector('input[name="measure-type"]:checked').value,document.getElementById("btn-ward").classList.remove("active"),document.getElementById("btn-tree").classList.remove("active"),document.getElementById("btn-measure").classList.add("active"),document.getElementById("btn-measure").setAttribute("measure-type",A.MODE),a.setQueryString("mode",A.MODE),A.measureControl.change(A.MODE),A.wardControl.deactivate(),A.infoControl.deactivate();break;default:document.querySelector('input[name="mode"][value="navigate"]').checked=!0,A.MODE=t||"navigate",document.getElementById("btn-ward").classList.remove("active"),document.getElementById("btn-tree").classList.add("active"),document.getElementById("btn-measure").classList.remove("active"),a.setQueryString("mode","navigate"==A.MODE?null:A.MODE),A.measureControl.deactivate(),A.wardControl.deactivate(),A.infoControl.activate()}A.notificationControl.show(I[A.MODE])}function w(t,e){e=e||t.getAttribute("data-layer-id");var i=A.getMapLayerIndex()[e];i.setVisible(t.checked);var n=i.get("title").replace(/ /g,"");a.setQueryString(n,!!t.checked||null),"ent_dota_tree"==e&&document.getElementById("btn-tree").setAttribute("trees-enabled",t.checked?"yes":"no")}function x(){w(this)}function M(){var t=this.getAttribute("data-layer-id");A.baseLayers.forEach(function(e){e.setVisible(e.get("layerId")===t)}),a.setQueryString("BaseLayer",t)}function S(){E(document.querySelectorAll(".data-layer > input"),function(t){var e=t.nextSibling,i=t.getAttribute("data-layer-id"),n=A.getMapLayerIndex(),r=n[i];r?(e.style.display="block",r.setVisible(t.checked)):e.style.display="none"},this)}function C(){var t=a.getParameterByName("x"),e=a.getParameterByName("y"),i=a.getParameterByName("zoom");if(i&&A.view.setZoom(i),t&&e){var r=s.proj.transform([t,e],h.dota,h.pixel);s.extent.containsXY([-100,-100,l.map_w+100,l.map_h+100],r[0],r[1])&&A.panTo(r)}document.getElementById("btn-ward").setAttribute("ward-type","observer");var o=a.getParameterByName("mode");n(o);var u,c=a.getParameterByName("BaseLayer");c&&(u=document.querySelector('input[name="base-layer"][value="'+c+'"]'),u&&(u.checked=!0,A.baseLayers.filter(function(t){return t.get("layerId")==c})[0].setVisible(!0))),u||(a.setQueryString("BaseLayer",null),A.baseLayers[0].setVisible(!0),document.querySelector('input[name="base-layer"][value="'+A.baseLayers[0].get("layerId")+'"]').checked=!0),A.layerDefs.forEach(function(t){var e=t.name.replace(/ /g,""),i=a.getParameterByName(e);i&&"false"!==i?(t.visible=!0,document.querySelector('input[data-layer-id="'+t.id+'"]').checked=!0,a.setQueryString(e,!0)):a.setQueryString(e,null),"ent_dota_tree"==t.id&&document.getElementById("btn-tree").setAttribute("trees-enabled",t.visible?"yes":"no")})}function L(t){var e=t.map,i=e.getView().calculateExtent(e.getSize()),n=s.extent.getCenter(i),r=s.proj.transform(n,h.pixel,h.dota),o=[Math.round(r[0]),Math.round(r[1])];a.setQueryString("x",o[0]),a.setQueryString("y",o[1]),a.setQueryString("zoom",Math.round(A.view.getZoom()))}function k(){A.infoControl.activate(),C(),A.setMapLayers(A.version,function(){S(),A.map.addLayer(A.measureControl.layer),A.map.addLayer(A.cursorControl.layer),A.map.addLayer(A.visionControl.layer),A.map.addLayer(A.wardControl.layer),A.map.addLayer(A.highlightLayer),A.map.addLayer(A.selectLayer),A.map.addLayer(A.wardRangeLayer),A.map.addLayer(A.rangeLayers.dayVision),A.map.addLayer(A.rangeLayers.nightVision),A.map.addLayer(A.rangeLayers.trueSight),A.map.addLayer(A.rangeLayers.attackRange),A.treeControl.parseQueryString(),A.wardControl.parseQueryString()}),A.map.on("moveend",L),document.getElementById("option-dayVision").addEventListener("change",function(){A.rangeLayers.dayVision.setVisible(this.checked)}),document.getElementById("option-nightVision").addEventListener("change",function(){A.rangeLayers.nightVision.setVisible(this.checked)}),document.getElementById("option-trueSight").addEventListener("change",function(){A.rangeLayers.trueSight.setVisible(this.checked)}),document.getElementById("option-attackRange").addEventListener("change",function(){A.rangeLayers.attackRange.setVisible(this.checked)}),document.getElementById("version-select").addEventListener("change",function(){A.setMapLayers(this.value)}),document.getElementById("btn-zoom-in").addEventListener("click",function(){A.view.animate({zoom:A.view.getZoom()+1})}),document.getElementById("btn-zoom-out").addEventListener("click",function(){A.view.animate({zoom:A.view.getZoom()-1})}),document.getElementById("btn-tree").addEventListener("click",function(){this.classList.contains("active")&&this.setAttribute("trees-enabled","yes"==this.getAttribute("trees-enabled")?"no":"yes"),this.classList.add("active"),document.getElementById("btn-ward").classList.remove("active"),document.getElementById("btn-measure").classList.remove("active"),A.toggleLayerMenuOption("ent_dota_tree","yes"==this.getAttribute("trees-enabled")),n("navigate"),A.notificationControl.show("yes"==this.getAttribute("trees-enabled")?I.treeEnable:I.treeDisable)}),document.getElementById("btn-ward").addEventListener("click",function(){this.classList.contains("active")&&this.setAttribute("ward-type","observer"==this.getAttribute("ward-type")?"sentry":"observer"),"sentry"==this.getAttribute("ward-type")?(document.querySelector('input[name="mode"][value="ward"]').checked=!0,document.querySelector('input[name="ward-type"][value="sentry"]').checked=!0):(document.querySelector('input[name="mode"][value="ward"]').checked=!0,document.querySelector('input[name="ward-type"][value="observer"]').checked=!0),this.classList.add("active"),document.getElementById("btn-tree").classList.remove("active"),document.getElementById("btn-measure").classList.remove("active"),n("ward")}),document.getElementById("btn-measure").addEventListener("click",function(){this.classList.contains("active")&&this.setAttribute("measure-type","line"==this.getAttribute("measure-type")?"circle":"line"),"circle"==this.getAttribute("measure-type")?(document.querySelector('input[name="mode"][value="measure"]').checked=!0,document.querySelector('input[name="measure-type"][value="circle"]').checked=!0):(document.querySelector('input[name="mode"][value="measure"]').checked=!0,document.querySelector('input[name="measure-type"][value="line"]').checked=!0),this.classList.add("active"),document.getElementById("btn-tree").classList.remove("active"),document.getElementById("btn-ward").classList.remove("active"),n("measure")})}var A=new b(e);A.toggleLayerMenuOption=function(t,e){var i=document.querySelector('input[data-layer-id="'+t+'"]');null!=e&&(i.checked=e),w(i,t)};var E=t("./util/forEach");A.vs=new r(o,i,k),A.menuControl=new u(A),A.menuControl.initialize(x,M),A.infoControl=new c(A),A.infoControl.initialize("info"),A.notificationControl=new f,A.notificationControl.initialize("notification"),A.visionControl=new v(A,20),A.wardControl=new g(A),A.treeControl=new y(A),A.cursorControl=new m(A),A.measureControl=new d(A),A.creepControl=new p(A),A.creepControl.initialize("timer");var I={observer:"Ward Mode: Observer",sentry:"Ward Mode: Sentry",navigate:"Navigation Mode",line:"Measure Mode: Line",circle:"Measure Mode: Circle",treeEnable:"<span>Navigation Mode</span><span>Trees: On</span>",treeDisable:"<span>Navigation Mode</span><span>Trees: Off</span>",nightOn:"Nighttime Vision",nightOff:"Daytime Vision",darknessOn:"Darkness: On",darknessOff:"Darkness: Off",creepControlOn:"Lane Animation: On",creepControlOff:"Lane Animation: Off"};E(document.querySelectorAll('input[name="mode"], input[name="ward-type"], input[name="measure-type"]'),function(t){t.addEventListener("change",function(){n(this.value)},!1)},this),document.getElementById("nightControl").addEventListener("change",function(){A.isNight=this.checked,this.checked?A.notificationControl.show(I.nightOn):A.notificationControl.show(I.nightOff)},!1),document.getElementById("darknessControl").addEventListener("change",function(){A.isDarkness=this.checked,this.checked?A.notificationControl.show(I.darknessOn):A.notificationControl.show(I.darknessOff)},!1),document.getElementById("creepControl").addEventListener("change",function(){this.checked?(A.creepControl.activate(),A.notificationControl.show(I.creepControlOn)):(A.creepControl.deactivate(),A.notificationControl.show(I.creepControlOff))},!1),document.getElementById("version-select").addEventListener("change",function(){A.version=this.value},!1),document.getElementById("vision-radius").addEventListener("change",function(){A.visionRadius=this.value},!1),document.getElementById("movementSpeed").addEventListener("change",function(){A.movementSpeed=this.value},!1)}var r=t("dota-vision-simulation"),o=t("dota-vision-simulation/src/worlddata.json"),a=t("./util/queryString"),s=t("openlayers"),h=t("./projections"),l=t("./mapConstants"),u=t("./controls/menuControl"),c=t("./controls/infoControl"),f=t("./controls/notificationControl"),d=t("./controls/measureControl"),p=t("./controls/creepControl"),v=t("./controls/visionControl"),g=t("./controls/wardControl"),y=t("./controls/treeControl"),m=t("./controls/cursorControl"),b=t("./InteractiveMap");t("./rollbar");e.exports=n},{"./InteractiveMap":2,"./controls/creepControl":4,"./controls/cursorControl":5,"./controls/infoControl":6,"./controls/measureControl":7,"./controls/menuControl":8,"./controls/notificationControl":9,"./controls/treeControl":10,"./controls/visionControl":11,"./controls/wardControl":12,"./mapConstants":20,"./projections":21,"./rollbar":22,"./util/forEach":26,"./util/queryString":29,"dota-vision-simulation":35,"dota-vision-simulation/src/worlddata.json":36,openlayers:19}],18:[function(t,e,i){var n=t("openlayers"),r=t("./styleDefinitions"),o=t("./projections"),a=[{id:"path_corner",name:"Lanes",filename:"path_corner.json",type:"GeoJSON",group:"overlay",projection:o.dota,style:r.teamColor},{id:"npc_dota_spawner",name:"Lane Spawns",filename:"npc_dota_spawner.json",type:"GeoJSON",group:"overlay",projection:o.dota,style:r.creepSpawn},{id:"ent_fow_blocker_node",name:"Vision Blocker",filename:"ent_fow_blocker_node2.json",type:"GeoJSON",group:"overlay",style:new n.style.Style({fill:new n.style.Fill({color:[0,0,255,.3]}),stroke:new n.style.Stroke({color:[0,0,255,.8]})})},{id:"no_wards",name:"Invalid Wards",filename:"no_wards2.json",type:"GeoJSON",group:"overlay",style:new n.style.Style({fill:new n.style.Fill({color:[255,0,0,.3]}),stroke:new n.style.Stroke({color:[255,0,0,.8]})})},{id:"trigger_multiple",name:"Spawn Boxes",type:"polygon",group:"overlay",style:new n.style.Style({fill:new n.style.Fill({color:[0,255,125,.3]}),stroke:new n.style.Stroke({color:[0,255,125,.8]})})},{id:"npc_dota_neutral_spawner",name:"Neutral Camps",group:"object",style:function(t,e){return r.neutralCamp[parseInt(t.get("dotaProps").neutralType)]}},{id:"ent_dota_tree",name:"Trees",group:"object",style:function(t,e){return t.get("isCut")?r.tree.dead:r.tree.alive},toggle:!0},{id:"npc_dota_roshan_spawner",name:"Roshan",group:"object",style:r.roshan},{id:"dota_item_rune_spawner_powerup",name:"Runes",group:"object",style:r.rune},{id:"dota_item_rune_spawner_bounty",name:"Bounty Runes",group:"object",style:r.bountyRune},{id:"ent_dota_fountain",name:"Fountain",group:"structure",style:r.ent_dota_fountain,toggle:!0},{id:"npc_dota_barracks",name:"Barracks",group:"structure",style:r.npc_dota_barracks,toggle:!0},{id:"npc_dota_filler",name:"Buildings",group:"structure",style:r.npc_dota_filler,toggle:!0},{id:"npc_dota_tower",name:"Towers",group:"structure",style:r.npc_dota_tower,toggle:!0},{id:"ent_dota_shop",name:"Shops",group:"structure",style:r.ent_dota_shop},{id:"npc_dota_fort",name:"Ancients",group:"structure",style:r.npc_dota_fort,toggle:!0},{id:"npc_dota_healer",name:"Shrines",group:"structure",style:r.npc_dota_healer,toggle:!0},{id:"pullRange",name:"Pull Range",type:"pullRange",group:"overlay",style:r.pullRange,visible:!0}];e.exports=a},{"./projections":21,"./styleDefinitions":23,openlayers:19}],19:[function(e,i,n){(function(r){!function(e,r){"object"==typeof n?i.exports=r():"function"==typeof t&&t.amd?t([],r):e.ol=r()}(this,function(){function t(t,e){var i=t.split("."),n=mu||bu;i[0]in n||!n.execScript||n.execScript("var "+i[0]);for(var r;i.length&&(r=i.shift());)i.length||void 0===e?n=n[r]?n[r]:n[r]={}:n[r]=e}function i(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t}function n(){}function o(t){return t.Ne||(t.Ne=++wu)}function a(t){this.message="Assertion failed. See /doc/errors/#"+t+" for details.",this.code=t,this.name="AssertionError"}function s(t,e){if(!t)throw new a(e)}function h(t,e,i){return Math.min(Math.max(t,e),i)}function l(t){return s(0<t,29),Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function u(t,e){var i=t%e;return 0>i*e?i+e:i}function c(t){return function(e){if(e)return[h(e[0],t[0],t[2]),h(e[1],t[1],t[3])]}}function f(t){return t}function d(t,e,i){this.center=t,this.resolution=e,this.rotation=i}function p(t){for(var e in t)delete t[e]}function v(t){var e,i=[];for(e in t)i.push(t[e]);return i}function g(t){for(var e in t)return!1;return!e}function y(t){function e(e){var i=t.listener,n=t.Kc||t.target;return t.Nc&&C(t),i.call(n,e)}return t.Lc=e}function m(t,e,i,n){for(var r,o=0,a=t.length;o<a;++o)if(r=t[o],r.listener===e&&r.Kc===i)return n&&(r.deleteIndex=o),r}function b(t,e){var i=t.ja;return i?i[e]:void 0}function w(t){var e=t.ja;return e||(e=t.ja={}),e}function x(t,e){var i=b(t,e);if(i){for(var n=0,r=i.length;n<r;++n)t.removeEventListener(e,i[n].Lc),p(i[n]);i.length=0,(i=t.ja)&&(delete i[e],0===Object.keys(i).length&&delete t.ja)}}function M(t,e,i,n,r){var o=w(t),a=o[e];return a||(a=o[e]=[]),(o=m(a,i,n,!1))?r||(o.Nc=!1):(o={Kc:n,Nc:!!r,listener:i,target:t,type:e},t.addEventListener(e,y(o)),a.push(o)),o}function S(t,e,i,n){(t=b(t,e))&&(i=m(t,i,n,!0))&&C(i)}function C(t){if(t&&t.target){t.target.removeEventListener(t.type,t.Lc);var e=b(t.target,t.type);if(e){var i="deleteIndex"in t?t.deleteIndex:e.indexOf(t);-1!==i&&e.splice(i,1),0===e.length&&x(t.target,t.type)}p(t)}}function L(t){var e,i=w(t);for(e in i)x(t,e)}function k(){}function A(t){t.xa||(t.xa=!0,t.Z())}function E(t){this.type=t,this.target=null}function I(t){t.stopPropagation()}function T(){this.Y={},this.F={},this.D={}}function P(t,e){var i="string"==typeof e?new E(e):e,r=i.type;i.target=t;var o,a=t.D[r];if(a){r in t.F||(t.F[r]=0,t.Y[r]=0),++t.F[r];for(var s=0,h=a.length;s<h;++s)if(!1===a[s].call(t,i)||i.Ve){o=!1;break}if(--t.F[r],0===t.F[r]){for(i=t.Y[r],delete t.Y[r];i--;)t.removeEventListener(r,n);delete t.F[r]}return o}}function F(t,e){return e?e in t.D:0<Object.keys(t.D).length}function _(){T.call(this),this.c=0}function D(t){_.call(this),o(this),this.o={},void 0!==t&&j(this,t)}function R(t){return Su.hasOwnProperty(t)?Su[t]:Su[t]="change:"+t}function j(t,e){for(var i in e)t.set(i,e[i],void 0)}function N(t,e,i){E.call(this,t),this.key=e,this.oldValue=i}function O(t,e){return t>e?1:t<e?-1:0}function B(t,e,i){var n=t.length;if(t[0]<=e)return 0;if(!(e<=t[n-1]))if(0<i){for(i=1;i<n;++i)if(t[i]<e)return i-1}else if(0>i){for(i=1;i<n;++i)if(t[i]<=e)return i}else for(i=1;i<n;++i){if(t[i]==e)return i;if(t[i]<e)return t[i-1]-e<e-t[i]?i-1:i}return n-1}function V(t,e){var i,n=Array.isArray(e)?e:[e],r=n.length;for(i=0;i<r;i++)t[t.length]=n[i]}function U(t,e){var i=t.length;if(i!==e.length)return!1;for(var n=0;n<i;n++)if(t[n]!==e[n])return!1;return!0}function W(t){var e,i=pr,n=t.length,r=Array(t.length);for(e=0;e<n;e++)r[e]={index:e,value:t[e]};for(r.sort(function(t,e){return i(t.value,e.value)||t.index-e.index}),e=0;e<t.length;e++)t[e]=r[e].value}function X(t,e){var i=e||O;return t.every(function(e,n){if(0===n)return!0;var r=i(t[n-1],e);return!(0<r||0===r)})}function H(t){return function(e,i,n){if(void 0!==e)return e=B(t,e,n),e=h(e+i,0,t.length-1),i=Math.floor(e),e!=i&&i<t.length-1?t[i]/Math.pow(t[i]/t[i+1],e-i):t[i]}}function G(t,e,i){return function(n,r,o){if(void 0!==n)return n=Math.max(Math.floor(Math.log(e/n)/Math.log(t)+(-o/2+.5))+r,0),void 0!==i&&(n=Math.min(n,i)),e/Math.pow(t,n)}}function z(t){if(void 0!==t)return 0}function Y(t,e){if(void 0!==t)return t+e}function q(t){var e=2*Math.PI/t;return function(t,i){if(void 0!==t)return t=Math.floor((t+i)/e+.5)*e}}function J(){var t=5*Math.PI/180;return function(e,i){if(void 0!==e)return Math.abs(e+i)<=t?0:e+i}}function K(t){t=""+t;var e=t.indexOf("."),e=-1===e?t.length:e;return 2<e?t:Array(3-e).join("0")+t}function Z(t,e){var i=Math.cos(e),n=Math.sin(e),r=t[1]*i+t[0]*n;t[0]=t[0]*i-t[1]*n,t[1]=r}function Q(t){return 1-Math.pow(1-t,3)}function $(t){return 3*t*t-2*t*t*t}function tt(t){return t}function et(t){for(var e=at(),i=0,n=t.length;i<n;++i)ft(e,t[i]);return e}function it(t,e,i){return i?(i[0]=t[0]-e,i[1]=t[1]-e,i[2]=t[2]+e,i[3]=t[3]+e,i):[t[0]-e,t[1]-e,t[2]+e,t[3]+e]}function nt(t,e){return e?(e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e):t.slice()}function rt(t,e){return t[0]<=e[0]&&e[2]<=t[2]&&t[1]<=e[1]&&e[3]<=t[3]}function ot(t,e,i){return t[0]<=e&&e<=t[2]&&t[1]<=i&&i<=t[3]}function at(){return[1/0,1/0,-(1/0),-(1/0)]}function st(t,e,i,n,r){return r?(r[0]=t,r[1]=e,r[2]=i,r[3]=n,r):[t,e,i,n]}function ht(t){return st(1/0,1/0,-(1/0),-(1/0),t)}function lt(t,e){var i=t[0],n=t[1];return st(i,n,i,n,e)}function ut(t,e){return t[0]==e[0]&&t[2]==e[2]&&t[1]==e[1]&&t[3]==e[3]}function ct(t,e){e[0]<t[0]&&(t[0]=e[0]),e[2]>t[2]&&(t[2]=e[2]),e[1]<t[1]&&(t[1]=e[1]),e[3]>t[3]&&(t[3]=e[3])}function ft(t,e){e[0]<t[0]&&(t[0]=e[0]),e[0]>t[2]&&(t[2]=e[0]),e[1]<t[1]&&(t[1]=e[1]),e[1]>t[3]&&(t[3]=e[1])}function dt(t,e,i,n,r){for(;i<n;i+=r){var o=t,a=e[i],s=e[i+1];o[0]=Math.min(o[0],a),o[1]=Math.min(o[1],s),o[2]=Math.max(o[2],a),o[3]=Math.max(o[3],s)}return t}function pt(t){var e=0;return t[2]<t[0]||t[3]<t[1]||(e=bt(t)*yt(t)),e}function vt(t){return[(t[0]+t[2])/2,(t[1]+t[3])/2]}function gt(t,e,i,n,r){var o=e*n[0]/2;n=e*n[1]/2,e=Math.cos(i);var a=Math.sin(i);i=o*e,o*=a,e*=n;var s=n*a,h=t[0],l=t[1];t=h-i+s,n=h-i-s,a=h+i-s,i=h+i+s;var s=l-o-e,h=l-o+e,u=l+o+e,o=l+o-e;return st(Math.min(t,n,a,i),Math.min(s,h,u,o),Math.max(t,n,a,i),Math.max(s,h,u,o),r)}function yt(t){return t[3]-t[1]}function mt(t,e){var i=at();return wt(t,e)&&(i[0]=t[0]>e[0]?t[0]:e[0],i[1]=t[1]>e[1]?t[1]:e[1],i[2]=t[2]<e[2]?t[2]:e[2],i[3]=t[3]<e[3]?t[3]:e[3]),i}function bt(t){return t[2]-t[0]}function wt(t,e){return t[0]<=e[2]&&t[2]>=e[0]&&t[1]<=e[3]&&t[3]>=e[1]}function xt(){return!0}function Mt(){return!1}function St(t){this.radius=t}function Ct(t,e){var i=t[1]*Math.PI/180,n=e[1]*Math.PI/180,r=(n-i)/2,o=(e[0]-t[0])*Math.PI/180/2,i=Math.sin(r)*Math.sin(r)+Math.sin(o)*Math.sin(o)*Math.cos(i)*Math.cos(n);return 2*Lu.radius*Math.atan2(Math.sqrt(i),Math.sqrt(1-i))}function Lt(t){this.a=t.code,this.b=t.units,this.i=void 0!==t.extent?t.extent:null,this.f=void 0!==t.global&&t.global,this.c=!(!this.f||!this.i),this.j=t.getPointResolution,this.g=null,this.o=t.metersPerUnit;var e=t.code,i=window.proj4;"function"==typeof i&&(e=i.ec(e),void 0!==e&&(void 0===t.metersPerUnit&&(this.o=e.Jf),void 0===t.units&&(this.b=e.units)))}function kt(t){return t.o||ku[t.b]}function At(t,e,i){t=t.a,e=e.a,t in Eu||(Eu[t]={}),Eu[t][e]=i}function Et(t,e){var i;return t in Eu&&e in Eu[t]&&(i=Eu[t][e]),i}function It(t,e,i){var n=t.j;return n?e=n(e,i):"degrees"!=t.b&&(n=Bt(t,jt("EPSG:4326")),e=[i[0]-e/2,i[1],i[0]+e/2,i[1],i[0],i[1]-e/2,i[0],i[1]+e/2],e=n(e,e,2),e=(Ct(e.slice(0,2),e.slice(2,4))+Ct(e.slice(4,6),e.slice(6,8)))/2,t=kt(t),void 0!==t&&(e/=t)),e}function Tt(t){Ft(t),t.forEach(function(e){t.forEach(function(t){e!==t&&At(e,t,Ut)})})}function Pt(t){Au[t.a]=t,At(t,t,Ut)}function Ft(t){var e=[];t.forEach(function(t){e.push(Pt(t))})}function _t(t){return t?"string"==typeof t?jt(t):t:jt("EPSG:3857")}function Dt(t,e,i,n){t=jt(t),e=jt(e),At(t,e,Rt(i)),At(e,t,Rt(n))}function Rt(t){return function(e,i,n){var r=e.length;n=void 0!==n?n:2,i=void 0!==i?i:Array(r);var o,a;for(a=0;a<r;a+=n)for(o=t([e[a],e[a+1]]),i[a]=o[0],i[a+1]=o[1],o=n-1;2<=o;--o)i[a+o]=e[a+o];return i}}function jt(t){var e=null;if(t instanceof Lt)e=t;else if("string"==typeof t){var e=Au[t]||null,i=window.proj4;e||"function"!=typeof i||void 0===i.ec(t)||(e=new Lt({code:t}),Pt(e))}return e}function Nt(t,e){if(t===e)return!0;var i=t.b===e.b;return t.a===e.a?i:Bt(t,e)===Ut&&i}function Ot(t,e){var i=jt(t),n=jt(e);return Bt(i,n)}function Bt(t,e){var i=t.a,n=e.a,r=Et(i,n);if(!r){var o=window.proj4;if("function"==typeof o){var a=o.ec(i),s=o.ec(n);void 0!==a&&void 0!==s&&(a===s?Tt([e,t]):(r=o(n,i),Dt(e,t,r.forward,r.inverse)),r=Et(i,n))}}return r||(r=Vt),r}function Vt(t,e){if(void 0!==e&&t!==e){for(var i=0,n=t.length;i<n;++i)e[i]=t[i];t=e}return t}function Ut(t,e){var i;if(void 0!==e){i=0;for(var n=t.length;i<n;++i)e[i]=t[i];i=e}else i=t.slice();return i}function Wt(t,e,i){return Ot(e,i)(t,void 0,t.length)}function Xt(t,e,i){e=Ot(e,i),t=[t[0],t[1],t[0],t[3],t[2],t[1],t[2],t[3]],e(t,t,2),i=[t[0],t[2],t[4],t[6]];var n=[t[1],t[3],t[5],t[7]];return t=Math.min.apply(null,i),e=Math.min.apply(null,n),i=Math.max.apply(null,i),n=Math.max.apply(null,n),st(t,e,i,n,void 0)}function Ht(){D.call(this),this.u=at(),this.B=-1,this.g={},this.l=this.i=0}function Gt(t,e,i,n,r,o){for(var a=o?o:[],s=0;e<i;e+=n){var h=t[e],l=t[e+1];a[s++]=r[0]*h+r[2]*l+r[4],a[s++]=r[1]*h+r[3]*l+r[5]}return o&&a.length!=s&&(a.length=s),a}function zt(t,e,i,n,r,o){var a,s,h=o?o:[],l=0;for(a=0;a<e;a+=i)for(h[l++]=t[a]+n,h[l++]=t[a+1]+r,s=a+2;s<a+i;++s)h[l++]=t[s];return o&&h.length!=l&&(h.length=l),h}function Yt(){Ht.call(this),this.X="XY",this.a=2,this.s=null}function qt(t){var e;return"XY"==t?e=2:"XYZ"==t||"XYM"==t?e=3:"XYZM"==t&&(e=4),e}function Jt(t,e,i){t.a=qt(e),t.X=e,t.s=i}function Kt(t,e,i,n){if(e)i=qt(e);else{for(e=0;e<n;++e){if(0===i.length)return t.X="XY",void(t.a=2);i=i[0]}i=i.length;var r;2==i?r="XY":3==i?r="XYZ":4==i&&(r="XYZM"),e=r}t.X=e,t.a=i}function Zt(t,e){var i,n,r=0;for(i=0,n=e.length;i<n;++i)t[r++]=e[i];return r}function Qt(t,e,i,n){var r,o;for(r=0,o=i.length;r<o;++r){var a,s=i[r];for(a=0;a<n;++a)t[e++]=s[a]}return e}function $t(t,e,i,n,r){r=r?r:[];var o,a,s=0;for(o=0,a=i.length;o<a;++o)e=Qt(t,e,i[o],n),r[s++]=e;return r.length=s,r}function te(t,e,i,n,r){r=void 0!==r?r:[];for(var o=0;e<i;e+=n)r[o++]=t.slice(e,e+n);return r.length=o,r}function ee(t,e,i,n,r){r=void 0!==r?r:[];var o,a,s=0;for(o=0,a=i.length;o<a;++o){var h=i[o];r[s++]=te(t,e,h,n,r[s]),e=h}return r.length=s,r}function ie(t,e,i,n,r,o,a){var s=(i-e)/n;if(3>s){for(;e<i;e+=n)o[a++]=t[e],o[a++]=t[e+1];return a}var h=Array(s);h[0]=1,h[s-1]=1,i=[e,i-n];for(var l,u=0;0<i.length;){var c=i.pop(),f=i.pop(),d=0,p=t[f],v=t[f+1],g=t[c],y=t[c+1];for(l=f+n;l<c;l+=n){var m,b=t[l];m=t[l+1];var w=p,x=v,M=g-w,S=y-x;if(0!==M||0!==S){var C=((b-w)*M+(m-x)*S)/(M*M+S*S);1<C?(w=g,x=y):0<C&&(w+=M*C,x+=S*C)}b=w-b,m=x-m,m=b*b+m*m,m>d&&(u=l,d=m)}d>r&&(h[(u-e)/n]=1,f+n<u&&i.push(f,u),u+n<c&&i.push(u,c))}for(l=0;l<s;++l)h[l]&&(o[a++]=t[e+l*n],o[a++]=t[e+l*n+1]);return a}function ne(t,e,i,n,r,o,a,s){var h,l;for(h=0,l=i.length;h<l;++h){var u=i[h];t:{var c=t,f=u,d=n,p=r,v=o;if(e!=f){var g=p*Math.round(c[e]/p),y=p*Math.round(c[e+1]/p);e+=d,v[a++]=g,v[a++]=y;var m,b;do if(m=p*Math.round(c[e]/p),b=p*Math.round(c[e+1]/p),e+=d,e==f){v[a++]=m,v[a++]=b;break t}while(m==g&&b==y);for(;e<f;){var w,x;if(w=p*Math.round(c[e]/p),x=p*Math.round(c[e+1]/p),e+=d,w!=m||x!=b){var M=m-g,S=b-y,C=w-g,L=x-y;M*L==S*C&&(0>M&&C<M||M==C||0<M&&C>M)&&(0>S&&L<S||S==L||0<S&&L>S)||(v[a++]=m,v[a++]=b,g=m,y=b),m=w,b=x}}v[a++]=m,v[a++]=b}}s.push(a),e=u}return a}function re(t,e){Yt.call(this),this.ea(t,e)}function oe(t,e){Yt.call(this),this.ea(t,e)}function ae(t,e,i,n,r,o){for(var a=0,s=t[i-n],h=t[i-n+1];e<i;e+=n){var l=t[e],u=t[e+1];h<=o?u>o&&0<(l-s)*(o-h)-(r-s)*(u-h)&&a++:u<=o&&0>(l-s)*(o-h)-(r-s)*(u-h)&&a--,s=l,h=u}return 0!==a}function se(t,e,i,n,r,o,a){var s,h,l,u,c,f=r[o+1],d=[],p=i[0];for(l=t[p-n],c=t[p-n+1],s=e;s<p;s+=n)u=t[s],h=t[s+1],(f<=c&&h<=f||c<=f&&f<=h)&&(l=(f-c)/(h-c)*(u-l)+l,d.push(l)),l=u,c=h;for(p=NaN,c=-(1/0),d.sort(O),l=d[0],s=1,h=d.length;s<h;++s){u=d[s];var v=Math.abs(u-l);if(v>c){l=(l+u)/2;var g;t:if(0!==i.length&&ae(t,e,i[0],n,l,f)){var y;for(g=1,y=i.length;g<y;++g)if(ae(t,i[g-1],i[g],n,l,f)){g=!1;break t}g=!0}else g=!1;g&&(p=l,c=v)}l=u}return isNaN(p)&&(p=r[o]),a?(a.push(p,f),a):[p,f]}function he(t,e,i,n){for(var r=0,o=t[i-n],a=t[i-n+1];e<i;e+=n)var s=t[e],h=t[e+1],r=r+(s-o)*(h+a),o=s,a=h;return 0<r}function le(t,e,i,n){var r=0;n=void 0!==n&&n;var o,a;for(o=0,a=e.length;o<a;++o){var s=e[o],r=he(t,r,s,i);if(0===o){if(n&&r||!n&&!r)return!1}else if(n&&!r||!n&&r)return!1;r=s}return!0}function ue(t,e,i,n,r){r=void 0!==r&&r;var o,a;for(o=0,a=i.length;o<a;++o){var s=i[o],h=he(t,e,s,n);if(0===o?r&&h||!r&&!h:r&&!h||!r&&h)for(var h=t,l=s,u=n;e<l-u;){var c;for(c=0;c<u;++c){var f=h[e+c];h[e+c]=h[l-u+c],h[l-u+c]=f}e+=u,l-=u}e=s}return e}function ce(t,e,i,n){var r,o,a=0;for(r=0,o=e.length;r<o;++r)a=ue(t,a,e[r],i,n);return a}function fe(t,e){Yt.call(this),this.f=[],this.A=-1,this.C=null,this.G=-1,this.j=null,this.ea(t,e)}function de(t){if(t.A!=t.c){var e=vt(t.M());t.C=se(ve(t),0,t.f,t.a,e,0),t.A=t.c}return t.C}function pe(t){var e=t.X,i=t.s;t=t.f;var n,r,o=[],a=0;for(n=0,r=t.length;n<r;++n){var s=t[n],h=new re(null),l=h;Jt(l,e,i.slice(a,s)),l.v(),o.push(h),a=s}return o}function ve(t){if(t.G!=t.c){var e=t.s;le(e,t.f,t.a)?t.j=e:(t.j=e.slice(),t.j.length=ue(t.j,0,t.f,t.a)),t.G=t.c}return t.j}function ge(t){D.call(this),t=t||{},this.g=[0,0],this.a=[],this.Sb=this.Sb.bind(this);var e={};e[Iu]=void 0!==t.center?t.center:null,this.B=_t(t.projection);var i,n,r,o=void 0!==t.minZoom?t.minZoom:0;i=void 0!==t.maxZoom?t.maxZoom:28;var a=void 0!==t.zoomFactor?t.zoomFactor:2;if(void 0!==t.resolutions)i=t.resolutions,n=i[0],r=i[i.length-1],i=H(i);else{n=_t(t.projection),r=n.M();var s=(r?Math.max(bt(r),yt(r)):360*ku.degrees/kt(n))/256/Math.pow(2,0),h=s/Math.pow(2,28);n=t.maxResolution,void 0!==n?o=0:n=s/Math.pow(a,o),r=t.minResolution,void 0===r&&(r=void 0!==t.maxZoom?void 0!==t.maxResolution?n/Math.pow(a,i):s/Math.pow(a,i):h),i=o+Math.floor(Math.log(n/r)/Math.log(a)),r=n/Math.pow(a,i-o),i=G(a,n,i-o)}this.b=n,this.u=r,this.A=a,this.i=t.resolutions,this.j=o,o=void 0!==t.extent?c(t.extent):f,(void 0!==t.enableRotation?t.enableRotation:1)?(a=t.constrainRotation,a=void 0===a||!0===a?J():!1===a?Y:"number"==typeof a?q(a):Y):a=z,this.f=new d(o,i,a),void 0!==t.resolution?e[Tu]=t.resolution:void 0!==t.zoom&&(e[Tu]=this.constrainResolution(this.b,t.zoom-this.j)),e[Pu]=void 0!==t.rotation?t.rotation:0,j(this,e)}function ye(t){return 0<xe(t)[Fu]}function me(t){Ce(t,Fu,-xe(t)[Fu]);for(var e=0,i=t.a.length;e<i;++e){var n=t.a[e];n[0].Bb&&n[0].Bb(!1)}t.a.length=0}function be(t,e,i){var n,r=t.get(Iu);return void 0!==r&&(n=[r[0]-i[0],r[1]-i[1]],Z(n,e-t.get(Pu)),t=n,t[0]+=i[0],t[1]+=i[1]),n}function we(t,e,i){var n,r=t.get(Iu);return t=Me(t),void 0!==r&&void 0!==t&&(n=[i[0]-e*(i[0]-r[0])/t,i[1]-e*(i[1]-r[1])/t]),n}function xe(t,e){return void 0!==e?(e[0]=t.g[0],e[1]=t.g[1],e):t.g.slice()}function Me(t){return t.get(Tu)}function Se(t,e){t.set(Iu,e),ye(t)&&me(t)}function Ce(t,e,i){t.g[e]+=i,t.v()}function Le(t,e){t.set(Tu,e),ye(t)&&me(t)}function ke(t,e,i,n){this.K=t,this.J=e,this.N=i,this.R=n}function Ae(t,e,i){return t.K<=e&&e<=t.J&&t.N<=i&&i<=t.R}function Ee(t,e){return t.K==e.K&&t.N==e.N&&t.J==e.J&&t.R==e.R}function Ie(t,e){return t.K<=e.J&&t.J>=e.K&&t.N<=e.R&&t.R>=e.N}function Te(t,e){return Array.isArray(t)?t:(void 0===e?e=[t,t]:e[0]=e[1]=t,e)}function Pe(t){this.minZoom=void 0!==t.minZoom?t.minZoom:0,this.a=t.resolutions,s(X(this.a,function(t,e){return e-t}),17),this.maxZoom=this.a.length-1,this.b=void 0!==t.origin?t.origin:null,this.f=null,void 0!==t.origins&&(this.f=t.origins,s(this.f.length==this.a.length,20));var e=t.extent;void 0===e||this.b||this.f||(this.b=[e[0],e[3]]),s(!this.b&&this.f||this.b&&!this.f,18),this.g=null,void 0!==t.tileSizes&&(this.g=t.tileSizes,s(this.g.length==this.a.length,19)),this.i=void 0!==t.tileSize?t.tileSize:this.g?null:256,s(!this.i&&this.g||this.i&&!this.g,22),this.j=void 0!==e?e:null,this.c=null,this.o=[0,0],void 0!==t.sizes?this.c=t.sizes.map(function(t){return new ke(Math.min(0,t[0]),Math.max(t[0]-1,-1),Math.min(0,t[1]),Math.max(t[1]-1,-1))},this):e&&We(this,e)}function Fe(t,e,i,n,r){for(r=Oe(t,e,r),e=e[0]-1;e>=t.minZoom;){if(i.call(null,e,je(t,r,e,n)))return!0;--e}return!1}function _e(t,e){return t.b?t.b:t.f[e]}function De(t,e,i,n){return e[0]<t.maxZoom?(n=Oe(t,e,n),je(t,n,e[0]+1,i)):null}function Re(t,e,i,n){Be(t,e[0],e[1],i,!1,_u);var r=_u[1],o=_u[2];return Be(t,e[2],e[3],i,!0,_u),t=_u[1],e=_u[2],void 0!==n?(n.K=r,n.J=t,n.N=o,n.R=e):n=new ke(r,t,o,e),n}function je(t,e,i,n){return Re(t,e,t.a[i],n)}function Ne(t,e){var i=_e(t,e[0]),n=t.a[e[0]],r=Te(Ve(t,e[0]),t.o);return[i[0]+(e[1]+.5)*r[0]*n,i[1]+(e[2]+.5)*r[1]*n]}function Oe(t,e,i){var n=_e(t,e[0]),r=t.a[e[0]];t=Te(Ve(t,e[0]),t.o);var o=n[0]+e[1]*t[0]*r;return e=n[1]+e[2]*t[1]*r,st(o,e,o+t[0]*r,e+t[1]*r,i)}function Be(t,e,i,n,r,o){var a=Ue(t,n),s=n/t.a[a],h=_e(t,a);return t=Te(Ve(t,a),t.o),e=s*Math.floor((e-h[0])/n+(r?.5:0))/t[0],i=s*Math.floor((i-h[1])/n+(r?0:.5))/t[1],r?(e=Math.ceil(e)-1,i=Math.ceil(i)-1):(e=Math.floor(e),i=Math.floor(i)),r=e,void 0!==o?(o[0]=a,o[1]=r,o[2]=i):o=[a,r,i],o}function Ve(t,e){return t.i?t.i:t.g[e]}function Ue(t,e,i){return h(B(t.a,e,i||0),t.minZoom,t.maxZoom)}function We(t,e){for(var i=t.a.length,n=Array(i),r=t.minZoom;r<i;++r)n[r]=je(t,e,r);t.c=n}function Xe(t){var e=t.g;if(!e){for(var e=He(t),i=Te(256),i=Math.max(bt(e)/i[0],yt(e)/i[1]),n=Array(43),r=0;43>r;++r)n[r]=i/Math.pow(2,r);e=new Pe({extent:e,origin:[e[0],e[3]],resolutions:n,tileSize:void 0}),t.g=e}return e}function He(t){t=jt(t);var e=t.M();return e||(t=180*ku.degrees/kt(t),e=st(-t,-t,t,t)),e}function Ge(t){this.c=t.html,this.a=t.tileRanges?t.tileRanges:null}function ze(t){D.call(this),this.a=t?t:[],qe(this)}function Ye(t,e){var i=t.a[e];return t.a.splice(e,1),qe(t),P(t,new Je(ju,i)),i}function qe(t){t.set(Du,t.a.length)}function Je(t,e){E.call(this,t),this.element=e}function Ke(t){return Array.isArray(t)?t:Bu(t)}function Ze(t){if("string"!=typeof t){var e=t[0];e!=(0|e)&&(e=e+.5|0);var i=t[1];i!=(0|i)&&(i=i+.5|0);var n=t[2];n!=(0|n)&&(n=n+.5|0),t="rgba("+e+","+i+","+n+","+(void 0===t[3]?1:t[3])+")"}return t}function Qe(t){var e=[];return e[0]=h(t[0]+.5|0,0,255),e[1]=h(t[1]+.5|0,0,255),e[2]=h(t[2]+.5|0,0,255),e[3]=h(t[3],0,1),e}function $e(t){return"string"==typeof t||t instanceof CanvasPattern||t instanceof CanvasGradient?t:Ze(t)}function ti(t,e){var i=document.createElement("CANVAS");return t&&(i.width=t),e&&(i.height=e),i.getContext("2d")}function ei(t){t&&t.parentNode&&t.parentNode.removeChild(t)}function ii(t,e,i){E.call(this,t),this.map=e,this.frameState=void 0!==i?i:null}function ni(t){D.call(this),this.element=t.element?t.element:null,this.l=this.G=null,this.u=[],this.render=t.render?t.render:n,t.target&&(t=t.target,this.G="string"==typeof t?document.getElementById(t):t)}function ri(t){t=t?t:{},this.C=document.createElement("UL"),this.g=document.createElement("LI"),this.C.appendChild(this.g),this.g.style.display="none",
this.f=void 0===t.collapsed||t.collapsed,this.B=void 0===t.collapsible||t.collapsible,this.B||(this.f=!1);var e=void 0!==t.className?t.className:"ol-attribution",i=void 0!==t.tipLabel?t.tipLabel:"Attributions",n=void 0!==t.collapseLabel?t.collapseLabel:"";"string"==typeof n?(this.i=document.createElement("span"),this.i.textContent=n):this.i=n,n=void 0!==t.label?t.label:"i","string"==typeof n?(this.j=document.createElement("span"),this.j.textContent=n):this.j=n;var r=this.B&&!this.f?this.i:this.j,n=document.createElement("button");n.setAttribute("type","button"),n.title=i,n.appendChild(r),M(n,"click",this.P,this),i=document.createElement("div"),i.className=e+" ol-unselectable ol-control"+(this.f&&this.B?" ol-collapsed":"")+(this.B?"":" ol-uncollapsible"),i.appendChild(this.C),i.appendChild(n),ni.call(this,{element:i,render:t.render?t.render:oi,target:t.target}),this.A=!0,this.b={},this.a={},this.L={}}function oi(t){if(t=t.frameState){var e,i,n,r,a,s,h,l,c,f,d,p=t.layerStatesArray,v=Mu({},t.attributions),y={},m={},b=t.viewState.projection;for(i=0,e=p.length;i<e;i++)if((s=p[i].layer.oa())&&(f=o(s).toString(),c=s.B))for(n=0,r=c.length;n<r;n++)if(h=c[n],l=o(h).toString(),!(l in v)){if(a=t.usedTiles[f]){var w=s.Ga(b);t:{d=h;var x=b;if(d.a){var M,S,C,L=void 0;for(L in a)if(L in d.a){C=a[L];var k;for(M=0,S=d.a[L].length;M<S;++M){if(k=d.a[L][M],Ie(k,C)){d=!0;break t}var A=je(w,He(x),parseInt(L,10)),E=A.J-A.K+1;if((C.K<A.K||C.J>A.J)&&(Ie(k,new ke(u(C.K,E),u(C.J,E),C.N,C.R))||C.J-C.K+1>E&&Ie(k,A))){d=!0;break t}}}d=!1}else d=!0}}else d=!1;d?(l in y&&delete y[l],d=h.c,d in m||(m[d]=!0,v[l]=h)):y[l]=h}e=[v,y],i=e[0],e=e[1];for(var I in this.b)I in i?(this.a[I]||(this.b[I].style.display="",this.a[I]=!0),delete i[I]):I in e?(this.a[I]&&(this.b[I].style.display="none",delete this.a[I]),delete e[I]):(ei(this.b[I]),delete this.b[I],delete this.a[I]);for(I in i)n=document.createElement("LI"),n.innerHTML=i[I].c,this.C.appendChild(n),this.b[I]=n,this.a[I]=!0;for(I in e)n=document.createElement("LI"),n.innerHTML=e[I].c,n.style.display="none",this.C.appendChild(n),this.b[I]=n;I=!g(this.a)||!g(t.logos),this.A!=I&&(this.element.style.display=I?"":"none",this.A=I),I&&g(this.a)?this.element.classList.add("ol-logo-only"):this.element.classList.remove("ol-logo-only");var T;t=t.logos,I=this.L;for(T in I)T in t||(ei(I[T]),delete I[T]);for(var P in t)e=t[P],e instanceof HTMLElement&&(this.g.appendChild(e),I[P]=e),P in I||(T=new Image,T.src=P,""===e?i=T:(i=document.createElement("a"),i.href=e,i.appendChild(T)),this.g.appendChild(i),I[P]=i);this.g.style.display=g(t)?"none":""}else this.A&&(this.element.style.display="none",this.A=!1)}function ai(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-rotate",i=void 0!==t.label?t.label:"";this.a=null,"string"==typeof i?(this.a=document.createElement("span"),this.a.className="ol-compass",this.a.textContent=i):(this.a=i,this.a.classList.add("ol-compass"));var n=t.tipLabel?t.tipLabel:"Reset rotation",i=document.createElement("button");i.className=e+"-reset",i.setAttribute("type","button"),i.title=n,i.appendChild(this.a),M(i,"click",ai.prototype.j,this),n=document.createElement("div"),n.className=e+" ol-unselectable ol-control",n.appendChild(i),e=t.render?t.render:si,this.f=t.resetNorth?t.resetNorth:void 0,ni.call(this,{element:n,render:e,target:t.target}),this.g=void 0!==t.duration?t.duration:250,this.b=void 0===t.autoHide||t.autoHide,this.i=void 0,this.b&&this.element.classList.add("ol-hidden")}function si(t){if(t=t.frameState){if(t=t.viewState.rotation,t!=this.i){var e="rotate("+t+"rad)";if(this.b){var i=this.element.classList.contains("ol-hidden");i||0!==t?i&&0!==t&&this.element.classList.remove("ol-hidden"):this.element.classList.add("ol-hidden")}this.a.style.msTransform=e,this.a.style.webkitTransform=e,this.a.style.transform=e}this.i=t}}function hi(t){t=t?t:{};var e=void 0!==t.className?t.className:"ol-zoom",i=void 0!==t.delta?t.delta:1,n=void 0!==t.zoomInLabel?t.zoomInLabel:"+",r=void 0!==t.zoomOutLabel?t.zoomOutLabel:"",o=void 0!==t.zoomInTipLabel?t.zoomInTipLabel:"Zoom in",a=void 0!==t.zoomOutTipLabel?t.zoomOutTipLabel:"Zoom out",s=document.createElement("button");s.className=e+"-in",s.setAttribute("type","button"),s.title=o,s.appendChild("string"==typeof n?document.createTextNode(n):n),M(s,"click",hi.prototype.b.bind(this,i)),n=document.createElement("button"),n.className=e+"-out",n.setAttribute("type","button"),n.title=a,n.appendChild("string"==typeof r?document.createTextNode(r):r),M(n,"click",hi.prototype.b.bind(this,-i)),i=document.createElement("div"),i.className=e+" ol-unselectable ol-control",i.appendChild(s),i.appendChild(n),ni.call(this,{element:i,target:t.target}),this.a=void 0!==t.duration?t.duration:250}function li(t){t=t?t:{};var e=new ze;return(void 0!==t.zoom?t.zoom:1)&&e.push(new hi(t.zoomOptions)),(void 0!==t.rotate?t.rotate:1)&&e.push(new ai(t.rotateOptions)),(void 0!==t.attribution?t.attribution:1)&&e.push(new ri(t.attributionOptions)),e}function ui(t,e,i,n,r){ii.call(this,t,e,r),this.originalEvent=i,this.pixel=e.Tc(i),this.coordinate=e.Ka(this.pixel),this.dragging=void 0!==n&&n}function ci(t,e,i,n,r){ui.call(this,t,e,i.a,n,r),this.a=i}function fi(t,e){var i,n,r=Wu.length;for(n=0;n<r;++n)try{if(i=t.getContext(Wu[n],e))return i}catch(t){}return null}function di(t,e){this.a=t,this.g=e}function pi(t){di.call(this,t,{mousedown:this.ne,mousemove:this.oe,mouseup:this.re,mouseover:this.qe,mouseout:this.pe}),this.c=t.c,this.b=[]}function vi(t,e){for(var i,n=t.b,r=e.clientX,o=e.clientY,a=0,s=n.length;a<s&&(i=n[a]);a++){var h=Math.abs(o-i[1]);if(25>=Math.abs(r-i[0])&&25>=h)return!0}return!1}function gi(t){var e=Pi(t,t),i=e.preventDefault;return e.preventDefault=function(){t.preventDefault(),i()},e.pointerId=1,e.isPrimary=!0,e.pointerType="mouse",e}function yi(t){di.call(this,t,{MSPointerDown:this.we,MSPointerMove:this.xe,MSPointerUp:this.Ae,MSPointerOut:this.ye,MSPointerOver:this.ze,MSPointerCancel:this.ve,MSGotPointerCapture:this.te,MSLostPointerCapture:this.ue}),this.c=t.c,this.b=["","unavailable","touch","pen","mouse"]}function mi(t,e){var i=e;return"number"==typeof e.pointerType&&(i=Pi(e,e),i.pointerType=t.b[e.pointerType]),i}function bi(t){di.call(this,t,{pointerdown:this.Qe,pointermove:this.Re,pointerup:this.Ue,pointerout:this.Se,pointerover:this.Te,pointercancel:this.Pe,gotpointercapture:this.Ud,lostpointercapture:this.le})}function wi(t,e,i){E.call(this,t),this.a=e,t=i?i:{},this.buttons=xi(t),this.pressure=Mi(t,this.buttons),this.bubbles="bubbles"in t&&t.bubbles,this.cancelable="cancelable"in t&&t.cancelable,this.view="view"in t?t.view:null,this.detail="detail"in t?t.detail:null,this.screenX="screenX"in t?t.screenX:0,this.screenY="screenY"in t?t.screenY:0,this.clientX="clientX"in t?t.clientX:0,this.clientY="clientY"in t?t.clientY:0,this.button="button"in t?t.button:0,this.relatedTarget="relatedTarget"in t?t.relatedTarget:null,this.pointerId="pointerId"in t?t.pointerId:0,this.width="width"in t?t.width:0,this.height="height"in t?t.height:0,this.pointerType="pointerType"in t?t.pointerType:"",this.isPrimary="isPrimary"in t&&t.isPrimary,e.preventDefault&&(this.preventDefault=function(){e.preventDefault()})}function xi(t){if(t.buttons||nc)t=t.buttons;else switch(t.which){case 1:t=1;break;case 2:t=4;break;case 3:t=2;break;default:t=0}return t}function Mi(t,e){var i=0;return i=t.pressure?t.pressure:e?.5:0}function Si(t,e){di.call(this,t,{touchstart:this.lf,touchmove:this.kf,touchend:this.jf,touchcancel:this.hf}),this.c=t.c,this.o=e,this.b=void 0,this.i=0,this.f=void 0}function Ci(t,e,i){return e=Pi(e,i),e.pointerId=i.identifier+2,e.bubbles=!0,e.cancelable=!0,e.detail=t.i,e.button=0,e.buttons=1,e.width=i.webkitRadiusX||i.radiusX||0,e.height=i.webkitRadiusY||i.radiusY||0,e.pressure=i.webkitForce||i.force||.5,e.isPrimary=t.b===i.identifier,e.pointerType="touch",e.clientX=i.clientX,e.clientY=i.clientY,e.screenX=i.screenX,e.screenY=i.screenY,e}function Li(t,e,i){function n(){e.preventDefault()}var r,o,a=Array.prototype.slice.call(e.changedTouches),s=a.length;for(r=0;r<s;++r)o=Ci(t,e,a[r]),o.preventDefault=n,i.call(t,e,o)}function ki(t,e){var i=t.o.b,n=e.changedTouches[0];if(t.b===n.identifier){var r=[n.clientX,n.clientY];i.push(r),setTimeout(function(){var t=i.indexOf(r);-1<t&&i.splice(t,1)},2500)}}function Ai(t){T.call(this),this.g=t,this.c={},this.f={},this.a=[],Qu?Ei(this,new bi(this)):$u?Ei(this,new yi(this)):(t=new pi(this),Ei(this,t),Zu&&Ei(this,new Si(this,t))),t=this.a.length;for(var e,i=0;i<t;i++)e=this.a[i],Ii(this,Object.keys(e.g))}function Ei(t,e){var i=Object.keys(e.g);i&&(i.forEach(function(t){var i=e.g[t];i&&(this.f[t]=i.bind(e))},t),t.a.push(e))}function Ii(t,e){e.forEach(function(t){M(this.g,t,this.b,this)},t)}function Ti(t,e){e.forEach(function(t){S(this.g,t,this.b,this)},t)}function Pi(t,e){for(var i,n={},r=0,o=rc.length;r<o;r++)i=rc[r][0],n[i]=t[i]||e[i]||rc[r][1];return n}function Fi(t,e,i){e.bubbles=!1,Ri(t,"pointerleave",e,i)}function _i(t,e,i){t.out(e,i);var n=e.target,r=e.relatedTarget;n&&r&&n.contains(r)||Fi(t,e,i)}function Di(t,e,i){e.bubbles=!0,Ri(t,"pointerover",e,i);var n=e.target,r=e.relatedTarget;n&&r&&n.contains(r)||(e.bubbles=!1,Ri(t,"pointerenter",e,i))}function Ri(t,e,i,n){P(t,new wi(e,n,i))}function ji(t,e){P(t,new wi(e.type,e,e))}function Ni(t){T.call(this),this.b=t,this.i=0,this.o=!1,this.f=[],this.c=null,t=this.b.a,this.B=0,this.u={},this.g=new Ai(t),this.a=null,this.j=M(this.g,"pointerdown",this.ce,this),this.l=M(this.g,"pointermove",this.$e,this)}function Oi(t,e){var i=new ci("click",t.b,e);P(t,i),0!==t.i?(clearTimeout(t.i),t.i=0,i=new ci("dblclick",t.b,e),P(t,i)):t.i=setTimeout(function(){this.i=0;var t=new ci("singleclick",this.b,e);P(this,t)}.bind(t),250)}function Bi(t,e){"pointerup"==e.type||"pointercancel"==e.type?delete t.u[e.pointerId]:"pointerdown"==e.type&&(t.u[e.pointerId]=!0),t.B=Object.keys(t.u).length}function Vi(t,e){T.call(this),this.ga=t,this.state=e,this.a=null,this.key=""}function Ui(t){if(!t.a)return t;var e=t.a;do{if(e.aa()==oc)return e;e=e.a}while(e);return t}function Wi(t,e){this.l=t,this.f=e,this.a=[],this.b=[],this.c={}}function Xi(t){var e=t.a,i=t.b,n=e[0];return 1==e.length?(e.length=0,i.length=0):(e[0]=e.pop(),i[0]=i.pop(),Hi(t,0)),e=t.f(n),delete t.c[e],n}function Hi(t,e){for(var i=t.a,n=t.b,r=i.length,o=i[e],a=n[e],s=e;e<r>>1;){var h=2*e+1,l=2*e+2,h=l<r&&n[l]<n[h]?l:h;i[e]=i[h],n[e]=n[h],e=h}i[e]=o,n[e]=a,Gi(t,s,e)}function Gi(t,e,i){var n=t.a;t=t.b;for(var r=n[i],o=t[i];i>e;){var a=i-1>>1;if(!(t[a]>o))break;n[i]=n[a],t[i]=t[a],i=a}n[i]=r,t[i]=o}function zi(t){var e,i,n,r=t.l,o=t.a,a=t.b,s=0,h=o.length;for(i=0;i<h;++i)e=o[i],n=r(e),1/0==n?delete t.c[t.f(e)]:(a[s]=n,o[s++]=e);for(o.length=s,a.length=s,r=(t.a.length>>1)-1;0<=r;r--)Hi(t,r)}function Yi(t,e){Wi.call(this,function(e){return t.apply(null,e)},function(t){return t[0].getKey()}),this.u=e,this.o=0,this.i={}}function qi(){this.a=[],this.c=this.b=0}function Ji(t){D.call(this),this.V=null,this.set(ac,!0),this.handleEvent=t.handleEvent}function Ki(t,e,i,n){if(void 0!==e){var r=t.get(Pu),o=t.get(Iu);void 0!==r&&o&&0<n?t.animate({rotation:e,anchor:i,duration:n,easing:Q}):t.rotate(e,i)}}function Zi(t,e,i,n){var r=Me(t);e=t.constrainResolution(r,e,0),Qi(t,e,i,n)}function Qi(t,e,i,n){if(e){var r=Me(t),o=t.get(Iu);void 0!==r&&o&&e!==r&&n?t.animate({resolution:e,anchor:i,duration:n,easing:Q}):(i&&(i=we(t,e,i),Se(t,i)),Le(t,e))}}function $i(t){t=t?t:{},this.a=t.delta?t.delta:1,Ji.call(this,{handleEvent:tn}),this.b=void 0!==t.duration?t.duration:250}function tn(t){var e=!1,i=t.originalEvent;if("dblclick"==t.type){var e=t.coordinate,i=i.shiftKey?-this.a:this.a,n=t.map.W();Zi(n,i,e,this.b),t.preventDefault(),e=!0}return!e}function en(t){return t=t.originalEvent,t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function nn(t){return t=t.originalEvent,0==t.button&&!(zu&&Yu&&t.ctrlKey)}function rn(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey}function on(t){return t=t.originalEvent,!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey}function an(t){return t=t.originalEvent.target.tagName,"INPUT"!==t&&"SELECT"!==t&&"TEXTAREA"!==t}function sn(t){return s(t.a,56),"mouse"==t.a.pointerType}function hn(t){t=t?t:{},Ji.call(this,{handleEvent:t.handleEvent?t.handleEvent:un}),this.Vb=t.handleDownEvent?t.handleDownEvent:Mt,this.Tb=t.handleDragEvent?t.handleDragEvent:n,this.Zb=t.handleMoveEvent?t.handleMoveEvent:n,this.ac=t.handleUpEvent?t.handleUpEvent:Mt,this.B=!1,this.P={},this.f=[]}function ln(t){for(var e=t.length,i=0,n=0,r=0;r<e;r++)i+=t[r].clientX,n+=t[r].clientY;return[i/e,n/e]}function un(t){if(!(t instanceof ci))return!0;var e=!1,i=t.type;return"pointerdown"!==i&&"pointerdrag"!==i&&"pointerup"!==i||(i=t.a,"pointerup"==t.type?delete this.P[i.pointerId]:"pointerdown"==t.type?this.P[i.pointerId]=i:i.pointerId in this.P&&(this.P[i.pointerId]=i),this.f=v(this.P)),this.B&&("pointerdrag"==t.type?this.Tb(t):"pointerup"==t.type&&(this.B=this.ac(t))),"pointerdown"==t.type?(this.B=t=this.Vb(t),e=this.C(t)):"pointermove"==t.type&&this.Zb(t),!e}function cn(t){hn.call(this,{handleDownEvent:pn,handleDragEvent:fn,handleUpEvent:dn}),t=t?t:{},this.a=t.kinetic,this.b=null,this.i=t.condition?t.condition:rn,this.g=!1}function fn(t){var e=ln(this.f);if(this.a&&this.a.a.push(e[0],e[1],Date.now()),this.b){var i=this.b[0]-e[0],n=e[1]-this.b[1];t=t.map.W();var r=t.aa(),n=i=[i,n],o=r.resolution;n[0]*=o,n[1]*=o,Z(i,r.rotation),n=i,r=r.center,n[0]+=r[0],n[1]+=r[1],i=t.f.center(i),Se(t,i)}this.b=e}function dn(t){var e=t.map;if(t=e.W(),0===this.f.length){var i;if(i=!this.g&&this.a)if(i=this.a,6>i.a.length)i=!1;else{var n=Date.now()-100,r=i.a.length-3;if(i.a[r+2]<n)i=!1;else{for(var o=r-3;0<o&&i.a[o+2]>n;)o-=3;var n=i.a[r+2]-i.a[o+2],a=i.a[r]-i.a[o],r=i.a[r+1]-i.a[o+1];i.b=Math.atan2(r,a),i.c=Math.sqrt(a*a+r*r)/n,i=.05<i.c}}return i&&(i=(.05-this.a.c)/-.005,r=this.a.b,o=t.get(Iu),o=xs(e,o),e=e.Ka([o[0]-i*Math.cos(r),o[1]-i*Math.sin(r)]),t.animate({center:t.f.center(e),duration:500,easing:Q})),Ce(t,1,-1),!1}return this.b=null,!0}function pn(t){if(0<this.f.length&&this.i(t)){var e=t.map.W();return this.b=null,this.B||Ce(e,1,1),Se(e,t.frameState.viewState.center),this.a&&(t=this.a,t.a.length=0,t.b=0,t.c=0),this.g=1<this.f.length,!0}return!1}function vn(t){t=t?t:{},hn.call(this,{handleDownEvent:mn,handleDragEvent:gn,handleUpEvent:yn}),this.b=t.condition?t.condition:en,this.a=void 0,this.g=void 0!==t.duration?t.duration:250}function gn(t){if(sn(t)){var e=t.map,i=e.Ya();if(t=t.pixel,i=Math.atan2(i[1]/2-t[1],t[0]-i[0]/2),void 0!==this.a){t=i-this.a;var e=e.W(),n=e.get(Pu);Ki(e,n-t)}this.a=i}}function yn(t){if(!sn(t))return!0;t=t.map.W(),Ce(t,1,-1);var e=t.get(Pu),i=this.g,e=t.constrainRotation(e,0);return Ki(t,e,void 0,i),!1}function mn(t){return!!(sn(t)&&nn(t)&&this.b(t))&&(Ce(t.map.W(),1,1),this.a=void 0,!0)}function bn(t){this.f=null,this.c=document.createElement("div"),this.c.style.position="absolute",this.c.className="ol-box "+t,this.b=this.g=this.a=null}function wn(t){var e=t.g,i=t.b;t=t.c.style,t.left=Math.min(e[0],i[0])+"px",t.top=Math.min(e[1],i[1])+"px",t.width=Math.abs(i[0]-e[0])+"px",t.height=Math.abs(i[1]-e[1])+"px"}function xn(t){var e=t.g,i=t.b,e=[e,[e[0],i[1]],i,[i[0],e[1]]].map(t.a.Ka,t.a);e[4]=e[0].slice(),t.f?t.f.ea([e]):t.f=new fe([e])}function Mn(t){hn.call(this,{handleDownEvent:kn,handleDragEvent:Cn,handleUpEvent:Ln}),t=t?t:{},this.a=new bn(t.className||"ol-dragbox"),this.b=null,this.j=t.condition?t.condition:xt,this.i=t.boxEndCondition?t.boxEndCondition:Sn}function Sn(t,e,i){return t=i[0]-e[0],e=i[1]-e[1],64<=t*t+e*e}function Cn(t){if(sn(t)){var e=this.a,i=t.pixel;e.g=this.b,e.b=i,xn(e),wn(e),P(this,new An(hc,t.coordinate,t))}}function Ln(t){return!sn(t)||(this.a.setMap(null),this.i(t,this.b,t.pixel)&&(this.g(t),P(this,new An(lc,t.coordinate,t))),!1)}function kn(t){if(sn(t)&&nn(t)&&this.j(t)){this.b=t.pixel,this.a.setMap(t.map);var e=this.a,i=this.b;return e.g=this.b,e.b=i,xn(e),wn(e),P(this,new An(sc,t.coordinate,t)),!0}return!1}function An(t,e,i){E.call(this,t),this.coordinate=e,this.mapBrowserEvent=i}function En(t){t=t?t:{};var e=t.condition?t.condition:on;this.l=void 0!==t.duration?t.duration:200,this.u=void 0!==t.out&&t.out,Mn.call(this,{condition:e,className:t.className||"ol-dragzoom"})}function In(t){Ji.call(this,{handleEvent:Tn}),t=t||{},this.a=function(t){return rn(t)&&an(t)},this.b=void 0!==t.condition?t.condition:this.a,this.f=void 0!==t.duration?t.duration:100,this.g=void 0!==t.pixelDelta?t.pixelDelta:128}function Tn(t){var e=!1;if("keydown"==t.type){var i=t.originalEvent.keyCode;if(this.b(t)&&(40==i||37==i||39==i||38==i)){var e=t.map.W(),n=Me(e)*this.g,r=0,o=0;40==i?o=-n:37==i?r=-n:39==i?r=n:o=n,n=[r,o],Z(n,e.get(Pu)),i=this.f,(r=e.get(Iu))&&(n=e.f.center([r[0]+n[0],r[1]+n[1]]),i?e.animate({duration:i,easing:tt,center:n}):Se(e,n)),t.preventDefault(),e=!0}}return!e}function Pn(t){Ji.call(this,{handleEvent:Fn}),t=t?t:{},this.b=t.condition?t.condition:an,this.a=t.delta?t.delta:1,this.f=void 0!==t.duration?t.duration:100}function Fn(t){var e=!1;if("keydown"==t.type||"keypress"==t.type){var i=t.originalEvent.charCode;!this.b(t)||43!=i&&45!=i||(e=43==i?this.a:-this.a,i=t.map.W(),Zi(i,e,void 0,this.f),t.preventDefault(),e=!0)}return!e}function _n(t){Ji.call(this,{handleEvent:Dn}),t=t||{},this.f=0,this.B=void 0!==t.duration?t.duration:250,this.A=void 0!==t.timeout?t.timeout:80,this.C=void 0===t.useAnchor||t.useAnchor,this.a=null,this.i=this.g=this.j=this.b=void 0}function Dn(t){var e=t.type;if("wheel"!==e&&"mousewheel"!==e)return!0;t.preventDefault();var e=t.map,i=t.originalEvent;this.C&&(this.a=t.coordinate);var n;if("wheel"==t.type?(n=i.deltaY,Hu&&i.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(n/=qu),i.deltaMode===WheelEvent.DOM_DELTA_LINE&&(n*=40)):"mousewheel"==t.type&&(n=-i.wheelDeltaY,Gu&&(n/=3)),0===n)return!1;if(t=Date.now(),void 0===this.b&&(this.b=t),(!this.g||400<t-this.b)&&(this.g=4>Math.abs(n)?uc:cc),this.g===uc){e=e.W(),this.i?clearTimeout(this.i):Ce(e,1,1),this.i=setTimeout(this.l.bind(this),400),n=Me(e)*Math.pow(2,n/300);var i=e.u,r=e.b,o=0;if(n<i?(n=Math.max(n,i/1.5),o=1):n>r&&(n=Math.min(n,1.5*r),o=-1),this.a){var a=we(e,n,this.a);Se(e,a)}return Le(e,n),0<o?e.animate({resolution:i,easing:Q,anchor:this.a,duration:500}):0>o&&e.animate({resolution:r,easing:Q,anchor:this.a,duration:500}),this.b=t,!1}return this.f+=n,t=Math.max(this.A-(t-this.b),0),clearTimeout(this.j),this.j=setTimeout(this.u.bind(this,e),t),!1}function Rn(t){hn.call(this,{handleDownEvent:On,handleDragEvent:jn,handleUpEvent:Nn}),t=t||{},this.b=null,this.g=void 0,this.a=!1,this.i=0,this.l=void 0!==t.threshold?t.threshold:.3,this.j=void 0!==t.duration?t.duration:250}function jn(t){var e=0,i=this.f[0],n=this.f[1],i=Math.atan2(n.clientY-i.clientY,n.clientX-i.clientX);void 0!==this.g&&(e=i-this.g,this.i+=e,!this.a&&Math.abs(this.i)>this.l&&(this.a=!0)),this.g=i,t=t.map,i=t.a.getBoundingClientRect(),n=ln(this.f),n[0]-=i.left,n[1]-=i.top,this.b=t.Ka(n),this.a&&(i=t.W(),n=i.get(Pu),t.render(),Ki(i,n+e,this.b))}function Nn(t){if(2>this.f.length){if(t=t.map.W(),Ce(t,1,-1),this.a){var e=t.get(Pu),i=this.b,n=this.j,e=t.constrainRotation(e,0);Ki(t,e,i,n)}return!1}return!0}function On(t){return 2<=this.f.length&&(t=t.map,this.b=null,this.g=void 0,this.a=!1,this.i=0,this.B||Ce(t.W(),1,1),!0)}function Bn(t){hn.call(this,{handleDownEvent:Wn,handleDragEvent:Vn,handleUpEvent:Un}),t=t?t:{},this.i=t.constrainResolution||!1,this.b=null,this.j=void 0!==t.duration?t.duration:400,this.a=void 0,this.g=1}function Vn(t){var e=1,i=this.f[0],n=this.f[1],r=i.clientX-n.clientX,i=i.clientY-n.clientY,r=Math.sqrt(r*r+i*i);void 0!==this.a&&(e=this.a/r),this.a=r,1!=e&&(this.g=e),t=t.map;var r=t.W(),i=Me(r),n=t.a.getBoundingClientRect(),o=ln(this.f);o[0]-=n.left,o[1]-=n.top,this.b=t.Ka(o),t.render(),Qi(r,i*e,this.b)}function Un(t){if(2>this.f.length){if(t=t.map.W(),Ce(t,1,-1),this.i){var e=Me(t),i=this.b,n=this.j,e=t.constrainResolution(e,0,this.g-1);Qi(t,e,i,n)}return!1}return!0}function Wn(t){return 2<=this.f.length&&(t=t.map,this.b=null,this.a=void 0,this.g=1,this.B||Ce(t.W(),1,1),!0)}function Xn(t){t=t?t:{};var e=new ze,i=new qi;return(void 0!==t.altShiftDragRotate?t.altShiftDragRotate:1)&&e.push(new vn),(void 0!==t.doubleClickZoom?t.doubleClickZoom:1)&&e.push(new $i({delta:t.zoomDelta,duration:t.zoomDuration})),(void 0!==t.dragPan?t.dragPan:1)&&e.push(new cn({kinetic:i})),(void 0!==t.pinchRotate?t.pinchRotate:1)&&e.push(new Rn),(void 0!==t.pinchZoom?t.pinchZoom:1)&&e.push(new Bn({duration:t.zoomDuration})),(void 0!==t.keyboard?t.keyboard:1)&&(e.push(new In),e.push(new Pn({delta:t.zoomDelta,duration:t.zoomDuration}))),(void 0!==t.mouseWheelZoom?t.mouseWheelZoom:1)&&e.push(new _n({duration:t.zoomDuration})),(void 0!==t.shiftDragZoom?t.shiftDragZoom:1)&&e.push(new En({duration:t.zoomDuration})),e}function Hn(t){D.call(this);var e=Mu({},t);e[fc]=void 0!==t.opacity?t.opacity:1,e[dc]=void 0===t.visible||t.visible,e[vc]=void 0!==t.zIndex?t.zIndex:0,e[gc]=void 0!==t.maxResolution?t.maxResolution:1/0,e[yc]=void 0!==t.minResolution?t.minResolution:0,j(this,e),this.a={layer:this,Jb:!0}}function Gn(t){return t.a.opacity=h(t.get(fc),0,1),t.a.pd=t.lc(),t.a.visible=t.f(),t.a.extent=t.M(),t.a.zIndex=t.get(vc),t.a.maxResolution=t.get(gc),t.a.minResolution=Math.max(t.get(yc),0),t.a}function zn(t){var e=t||{};t=Mu({},e),delete t.layers,e=e.layers,Hn.call(this,t),this.g=[],this.b={},M(this,R(mc),this.Zd,this),e?Array.isArray(e)?e=new ze(e.slice()):s(e instanceof ze,43):e=new ze,this.set(mc,e)}function Yn(t){Lt.call(this,{code:t,units:"m",extent:wc,global:!0,worldExtent:xc,getPointResolution:function(t,e){return t/xu(e[1]/6378137)}})}function qn(t,e,i){var n=t.length;i=1<i?i:2,void 0===e&&(e=2<i?t.slice():Array(n));for(var r=0;r<n;r+=i){e[r]=bc*t[r]/180;var o=6378137*Math.log(Math.tan(Math.PI*(t[r+1]+90)/360));o>bc?o=bc:o<-bc&&(o=-bc),e[r+1]=o}return e}function Jn(t,e,i){var n=t.length;i=1<i?i:2,void 0===e&&(e=2<i?t.slice():Array(n));for(var r=0;r<n;r+=i)e[r]=180*t[r]/bc,e[r+1]=360*Math.atan(Math.exp(t[r+1]/6378137))/Math.PI-90;return e}function Kn(t,e){Lt.call(this,{code:t,units:"degrees",extent:Cc,axisOrientation:e,global:!0,metersPerUnit:Lc,worldExtent:Cc})}function Zn(t,e,i,n,r){E.call(this,t),this.vectorContext=e,this.frameState=i,this.context=n,this.glContext=r}function Qn(t){var e=Mu({},t);delete e.source,Hn.call(this,e),this.j=this.g=this.b=null,t.map&&this.setMap(t.map),M(this,R("source"),this.he,this),this.set("source",t.source?t.source:null)}function $n(t,e){return t.visible&&e>=t.minResolution&&e<t.maxResolution}function tr(){this.a={},this.c=0}function er(){return[1,0,0,1,0,0]}function ir(t){return rr(t,1,0,0,1,0,0)}function nr(t,e){var i=t[0],n=t[1],r=t[2],o=t[3],a=t[4],s=t[5],h=e[0],l=e[1],u=e[2],c=e[3],f=e[4],d=e[5];t[0]=i*h+r*l,t[1]=n*h+o*l,t[2]=i*u+r*c,t[3]=n*u+o*c,t[4]=i*f+r*d+a,t[5]=n*f+o*d+s}function rr(t,e,i,n,r,o,a){return t[0]=e,t[1]=i,t[2]=n,t[3]=r,t[4]=o,t[5]=a,t}function or(t,e){return t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t[4]=e[4],t[5]=e[5],t}function ar(t,e){var i=e[0],n=e[1];return e[0]=t[0]*i+t[2]*n+t[4],e[1]=t[1]*i+t[3]*n+t[5],e}function sr(t,e){var i=Math.cos(e),n=Math.sin(e);nr(t,rr(Ec,i,n,-n,i,0,0))}function hr(t,e,i,n,r,o,a,s){var h=Math.sin(o);return o=Math.cos(o),t[0]=n*o,t[1]=r*h,t[2]=-n*h,t[3]=r*o,t[4]=a*n*o-s*n*h+e,t[5]=a*r*h+s*r*o+i,t}function lr(t,e){this.j=e,this.b={},this.u={}}function ur(t){var e=t.viewState,i=t.coordinateToPixelTransform,n=t.pixelToCoordinateTransform;hr(i,t.size[0]/2,t.size[1]/2,1/e.resolution,-1/e.resolution,-e.rotation,-e.center[0],-e.center[1]),t=or(n,i),e=t[0]*t[3]-t[1]*t[2],s(0!==e,32);var i=t[0],n=t[1],r=t[2],o=t[3],a=t[4],h=t[5];t[0]=o/e,t[1]=-n/e,t[2]=-r/e,t[3]=i/e,t[4]=(r*h-o*a)/e,t[5]=-(i*h-n*a)/e}function cr(){if(32<Ac.c){var t,e,i=0;for(t in Ac.a)e=Ac.a[t],0!==(3&i++)||F(e)||(delete Ac.a[t],--Ac.c)}}function fr(t,e){var i=o(e).toString();if(i in t.b)return t.b[i];var n=t.Oc(e);return t.b[i]=n,t.u[i]=M(n,"change",t.Xd,t),n}function dr(t,e){for(var i in t.b)if(!(i in e.layerStates)){e.postRenderFunctions.push(t.bf.bind(t));break}}function pr(t,e){return t.zIndex-e.zIndex}function vr(t){t=t?t:{};var e=Mu({},t);delete e.preload,delete e.useInterimTilesOnError,Qn.call(this,e),this.set(Ic,void 0!==t.preload?t.preload:0),this.set(Tc,void 0===t.useInterimTilesOnError||t.useInterimTilesOnError)}function gr(t,e,i,n){0!==e&&(t.translate(i,n),t.rotate(e),t.translate(-i,-n))}function yr(t){this.j=t.opacity,this.F=t.rotateWithView,this.u=t.rotation,this.o=t.scale,this.B=t.snapToPixel}function mr(t){this.A=this.D=this.i=null,this.f=void 0!==t.fill?t.fill:null,this.Y=[0,0],this.a=t.points,this.c=void 0!==t.radius?t.radius:t.radius1,this.g=void 0!==t.radius2?t.radius2:this.c,this.l=void 0!==t.angle?t.angle:0,this.b=void 0!==t.stroke?t.stroke:null,this.L=this.P=this.G=null;var e,i=this.C=t.atlasManager,n="",r="",a=0,s=null,h=0;this.b&&(e=$e(this.b.a),h=this.b.b,void 0===h&&(h=1),s=this.b.c,Ju||(s=null),r=this.b.g,void 0===r&&(r="round"),n=this.b.f,void 0===n&&(n="round"),a=this.b.i,void 0===a&&(a=10));var l=2*(this.c+h)+1,n={strokeStyle:e,qd:h,size:l,lineCap:n,lineDash:s,lineJoin:r,miterLimit:a};if(void 0===i){var u=ti(l,l);this.D=u.canvas,i=l=this.D.width,this.Rc(n,u,0,0),this.f?this.A=this.D:(u=ti(n.size,n.size),this.A=u.canvas,this.Qc(n,u,0,0))}else l=Math.round(l),(r=!this.f)&&(u=this.Qc.bind(this,n)),this.b?(a=this.b,void 0===a.o&&(a.o="s",a.o=a.a?"string"==typeof a.a?a.o+a.a:a.o+o(a.a).toString():a.o+"-",a.o+=","+(void 0!==a.f?a.f.toString():"-")+","+(a.c?a.c.toString():"-")+","+(void 0!==a.g?a.g:"-")+","+(void 0!==a.i?a.i.toString():"-")+","+(void 0!==a.b?a.b.toString():"-")),a=a.o):a="-",this.f?(s=this.f,void 0===s.c&&(s.c=s.a instanceof CanvasPattern||s.a instanceof CanvasGradient?o(s.a).toString():"f"+(s.a?Ze(s.a):"-")),s=s.c):s="-",this.i&&a==this.i[1]&&s==this.i[2]&&this.c==this.i[3]&&this.g==this.i[4]&&this.l==this.i[5]&&this.a==this.i[6]||(this.i=["r"+a+s+(void 0!==this.c?this.c.toString():"-")+(void 0!==this.g?this.g.toString():"-")+(void 0!==this.l?this.l.toString():"-")+(void 0!==this.a?this.a.toString():"-"),a,s,this.c,this.g,this.l,this.a]),u=i.add(this.i[0],l,l,this.Rc.bind(this,n),u),this.D=u.image,this.Y=[u.offsetX,u.offsetY],i=u.image.width,this.A=r?u.a:this.D;this.G=[l/2,l/2],this.P=[l,l],this.L=[i,i],yr.call(this,{opacity:1,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView,rotation:void 0!==t.rotation?t.rotation:0,scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel})}function br(t){t=t||{},mr.call(this,{points:1/0,fill:t.fill,radius:t.radius,snapToPixel:t.snapToPixel,stroke:t.stroke,atlasManager:t.atlasManager})}function wr(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.c=void 0}function xr(t){t=t||{},this.a=void 0!==t.color?t.color:null,this.f=t.lineCap,this.c=void 0!==t.lineDash?t.lineDash:null,this.g=t.lineJoin,this.i=t.miterLimit,this.b=t.width,this.o=void 0}function Mr(t){t=t||{},this.i=null,this.g=kr,void 0!==t.geometry&&this.Da(t.geometry),this.b=void 0!==t.fill?t.fill:null,this.f=void 0!==t.image?t.image:null,this.c=void 0!==t.stroke?t.stroke:null,this.o=void 0!==t.text?t.text:null,this.a=t.zIndex}function Sr(t){if("function"!=typeof t){var e;Array.isArray(t)?e=t:(s(t instanceof Mr,41),e=[t]),t=function(){return e}}return t}function Cr(){if(!Dc){var t=new wr({color:"rgba(255,255,255,0.4)"}),e=new xr({color:"#3399CC",width:1.25});Dc=[new Mr({image:new br({fill:t,stroke:e,radius:5}),fill:t,stroke:e})]}return Dc}function Lr(){var t={},e=[255,255,255,1],i=[0,153,255,1];return t.Polygon=[new Mr({fill:new wr({color:[255,255,255,.5]})})],t.MultiPolygon=t.Polygon,t.LineString=[new Mr({stroke:new xr({color:e,width:5})}),new Mr({stroke:new xr({color:i,width:3})})],t.MultiLineString=t.LineString,t.Circle=t.Polygon.concat(t.LineString),t.Point=[new Mr({image:new br({radius:6,fill:new wr({color:i}),stroke:new xr({color:e,width:1.5})}),zIndex:1/0})],t.MultiPoint=t.Point,t.GeometryCollection=t.Polygon.concat(t.LineString,t.Point),t}function kr(t){return t.T()}function Ar(t){t=t?t:{};var e=Mu({},t);delete e.style,delete e.renderBuffer,delete e.updateWhileAnimating,delete e.updateWhileInteracting,Qn.call(this,e),this.i=void 0!==t.renderBuffer?t.renderBuffer:100,this.B=null,this.u=void 0,e=t.style,this.B=void 0!==e?e:Cr,this.u=null===e?void 0:Sr(this.B),this.v(),this.A=void 0!==t.updateWhileAnimating&&t.updateWhileAnimating,this.C=void 0!==t.updateWhileInteracting&&t.updateWhileInteracting}function Er(){}function Ir(t,e,i,n,r){this.f=t,this.B=e,this.o=i,this.A=n,this.Oa=r,this.g=this.a=this.c=this.ka=this.ja=this.V=null,this.ca=this.ba=this.D=this.L=this.G=this.C=0,this.xa=!1,this.i=this.ia=0,this.sa=!1,this.Y=0,this.b="",this.za=this.ta=0,this.Aa=!1,this.l=this.Ba=0,this.P=this.u=this.j=null,this.F=[],this.Ja=er()}function Tr(t,e,i){if(t.g){e=Gt(e,0,i,2,t.A,t.F),i=t.f;var n=t.Ja,r=i.globalAlpha;1!=t.D&&(i.globalAlpha=r*t.D);var o=t.ia;t.xa&&(o+=t.Oa);var a,s;for(a=0,s=e.length;a<s;a+=2){var h=e[a]-t.C,l=e[a+1]-t.G;if(t.sa&&(h=Math.round(h),l=Math.round(l)),0!==o||1!=t.i){var u=h+t.C,c=l+t.G;hr(n,u,c,t.i,t.i,o,-u,-c),i.setTransform.apply(i,n)}i.drawImage(t.g,t.ba,t.ca,t.Y,t.L,h,l,t.Y,t.L)}0===o&&1==t.i||i.setTransform(1,0,0,1,0,0),1!=t.D&&(i.globalAlpha=r)}}function Pr(t,e,i,n){var r=0;if(t.P&&""!==t.b){t.j&&Dr(t,t.j),t.u&&Rr(t,t.u);var o=t.P,a=t.f,s=t.ka;for(s?(s.font!=o.font&&(s.font=a.font=o.font),s.textAlign!=o.textAlign&&(s.textAlign=a.textAlign=o.textAlign),s.textBaseline!=o.textBaseline&&(s.textBaseline=a.textBaseline=o.textBaseline)):(a.font=o.font,a.textAlign=o.textAlign,a.textBaseline=o.textBaseline,t.ka={font:o.font,textAlign:o.textAlign,textBaseline:o.textBaseline}),e=Gt(e,r,i,n,t.A,t.F),o=t.f,a=t.Ba,t.Aa&&(a+=t.Oa);r<i;r+=n){var s=e[r]+t.ta,h=e[r+1]+t.za;if(0!==a||1!=t.l){var l=hr(t.Ja,s,h,t.l,t.l,a,-s,-h);o.setTransform.apply(o,l)}t.u&&o.strokeText(t.b,s,h),t.j&&o.fillText(t.b,s,h)}0===a&&1==t.l||o.setTransform(1,0,0,1,0,0)}}function Fr(t,e,i,n,r,o){var a=t.f;for(t=Gt(e,i,n,r,t.A,t.F),a.moveTo(t[0],t[1]),e=t.length,o&&(e-=2),i=2;i<e;i+=2)a.lineTo(t[i],t[i+1]);return o&&a.closePath(),n}function _r(t,e,i,n,r){var o,a;for(o=0,a=n.length;o<a;++o)i=Fr(t,e,i,n[o],r,!0);return i}function Dr(t,e){var i=t.f,n=t.V;n?n.fillStyle!=e.fillStyle&&(n.fillStyle=i.fillStyle=e.fillStyle):(i.fillStyle=e.fillStyle,t.V={fillStyle:e.fillStyle})}function Rr(t,e){var i=t.f,n=t.ja;n?(n.lineCap!=e.lineCap&&(n.lineCap=i.lineCap=e.lineCap),Ju&&!U(n.lineDash,e.lineDash)&&i.setLineDash(n.lineDash=e.lineDash),n.lineJoin!=e.lineJoin&&(n.lineJoin=i.lineJoin=e.lineJoin),n.lineWidth!=e.lineWidth&&(n.lineWidth=i.lineWidth=e.lineWidth),n.miterLimit!=e.miterLimit&&(n.miterLimit=i.miterLimit=e.miterLimit),n.strokeStyle!=e.strokeStyle&&(n.strokeStyle=i.strokeStyle=e.strokeStyle)):(i.lineCap=e.lineCap,Ju&&i.setLineDash(e.lineDash),i.lineJoin=e.lineJoin,i.lineWidth=e.lineWidth,i.miterLimit=e.miterLimit,i.strokeStyle=e.strokeStyle,t.ja={lineCap:e.lineCap,lineDash:e.lineDash,lineJoin:e.lineJoin,lineWidth:e.lineWidth,miterLimit:e.miterLimit,strokeStyle:e.strokeStyle})}function jr(t){_.call(this),this.a=t}function Nr(t){var e=t.a;e.f()&&"ready"==e.lc()&&t.v()}function Or(t,e){e.gd()&&t.postRenderFunctions.push(function(t,e,i){e=o(t).toString(),t.Sa(i.viewState.projection,i.usedTiles[e])}.bind(null,e))}function Br(t,e){if(e){var i,n,r;for(n=0,r=e.length;n<r;++n)i=e[n],t[o(i).toString()]=i}}function Vr(t,e){var i=e.P;void 0!==i&&("string"==typeof i?t.logos[i]="":i&&(s("string"==typeof i.href,44),s("string"==typeof i.src,45),t.logos[i.src]=i.href))}function Ur(t,e,i,n){e=o(e).toString(),i=i.toString(),e in t?i in t[e]?(t=t[e][i],n.K<t.K&&(t.K=n.K),n.J>t.J&&(t.J=n.J),n.N<t.N&&(t.N=n.N),n.R>t.R&&(t.R=n.R)):t[e][i]=n:(t[e]={},t[e][i]=n)}function Wr(t,e,i,n,r,a,s,h,l,u){var c=o(e).toString();c in t.wantedTiles||(t.wantedTiles[c]={});var f=t.wantedTiles[c];t=t.tileQueue;var d,p,v,g,y,m,b=i.minZoom;for(m=s;m>=b;--m)for(p=je(i,a,m,p),v=i.a[m],g=p.K;g<=p.J;++g)for(y=p.N;y<=p.R;++y)s-m<=h?(d=du(e,m,g,y,n,r),0==d.aa()&&(f[d.getKey()]=!0,d.getKey()in t.c||t.g([d,c,Ne(i,d.ga),v])),
void 0!==l&&l.call(u,d)):e.ud(m,g,y,r)}function Xr(t){jr.call(this,t),this.P=er()}function Hr(t,e,i){var n=e.pixelRatio,r=e.size[0]*n,o=e.size[1]*n,a=e.viewState.rotation,s=[i[0],i[3]],h=[i[2],i[3]],l=[i[2],i[1]];i=[i[0],i[1]],ar(e.coordinateToPixelTransform,s),ar(e.coordinateToPixelTransform,h),ar(e.coordinateToPixelTransform,l),ar(e.coordinateToPixelTransform,i),t.save(),gr(t,-a,r/2,o/2),t.beginPath(),t.moveTo(s[0]*n,s[1]*n),t.lineTo(h[0]*n,h[1]*n),t.lineTo(l[0]*n,l[1]*n),t.lineTo(i[0]*n,i[1]*n),t.clip(),gr(t,a,r/2,o/2)}function Gr(t,e,i,n,r){var o=t.a;if(F(o,e)){var a=n.size[0]*n.pixelRatio,s=n.size[1]*n.pixelRatio,h=n.viewState.rotation;gr(i,-h,a/2,s/2),t=void 0!==r?r:zr(t,n,0),P(o,new Zn(e,new Ir(i,n.pixelRatio,n.extent,t,n.viewState.rotation),n,i,null)),gr(i,h,a/2,s/2)}}function zr(t,e,i){var n=e.viewState,r=e.pixelRatio,o=r/n.resolution;return hr(t.P,r*e.size[0]/2,r*e.size[1]/2,o,-o,-n.rotation,-n.center[0]+i,-n.center[1])}function Yr(t){Xr.call(this,t),this.A=er()}function qr(t){Yr.call(this,t),this.i=ti(),this.b=null,this.g=[],this.V=at(),this.ba=new ke(0,0,0,0),this.u=er()}function Jr(){}function Kr(t,e,i,n){this.ia=t,this.ja=e,this.overlaps=n,this.f=0,this.resolution=i,this.Y=this.L=null,this.c=[],this.coordinates=[],this.ka=er(),this.a=[],this.ba=[],this.xa=er(),this.ca=er()}function Zr(t,e,i,n,r,o,a){var s=t.coordinates.length,h=t.fc();a&&(i+=r),a=[e[i],e[i+1]];var l,u,c,f=[NaN,NaN],d=!0;for(l=i+r;l<n;l+=r){f[0]=e[l],f[1]=e[l+1],c=h[1];var p=h[2],v=h[3],g=f[0],y=f[1],m=0;g<h[0]?m|=16:g>p&&(m|=4),y<c?m|=8:y>v&&(m|=2),0===m&&(m=1),c=m,c!==u?(d&&(t.coordinates[s++]=a[0],t.coordinates[s++]=a[1]),t.coordinates[s++]=f[0],t.coordinates[s++]=f[1],d=!1):1===c?(t.coordinates[s++]=f[0],t.coordinates[s++]=f[1],d=!1):d=!0,a[0]=f[0],a[1]=f[1],u=c}return(o&&d||l===i+r)&&(t.coordinates[s++]=a[0],t.coordinates[s++]=a[1]),s}function Qr(t,e){t.L=[0,e,0],t.c.push(t.L),t.Y=[0,e,0],t.a.push(t.Y)}function $r(t,e,i){if(t.V){var n=ar(t.ka,t.V.slice());e.translate(n[0],n[1]),e.rotate(i)}e.fill(),t.V&&e.setTransform.apply(e,t.ca)}function to(t,e,i,n,r,a,s,h,l){var u;U(n,t.ka)?u=t.ba:(u=Gt(t.coordinates,0,t.coordinates.length,2,n,t.ba),or(t.ka,n)),n=!g(a);for(var c,f,d,p,v,y=0,m=s.length,b=0,w=t.xa,x=t.ca,M=0,S=0,C=t.c!=s||t.overlaps?0:200;y<m;){var L,k,A,E,I=s[y];switch(I[0]){case 0:b=I[1],n&&a[o(b).toString()]||!b.T()?y=I[2]:void 0===l||wt(l,b.T().M())?++y:y=I[2]+1;break;case 1:M>C&&($r(t,e,r),M=0),S>C&&(e.stroke(),S=0),M||S||e.beginPath(),++y;break;case 2:b=I[1],c=u[b],I=u[b+1],p=u[b+2]-c,b=u[b+3]-I,b=Math.sqrt(p*p+b*b),e.moveTo(c+b,I),e.arc(c,I,b,0,2*Math.PI,!0),++y;break;case 3:e.closePath(),++y;break;case 4:b=I[1],c=I[2],L=I[3],k=I[4]*i,A=I[5]*i;var T=I[6],P=I[7],F=I[8],_=I[9];E=I[10],p=I[11],v=I[12];var D=I[13],R=I[14];for(E&&(p+=r);b<c;b+=2){if(I=u[b]-k,E=u[b+1]-A,D&&(I=Math.round(I),E=Math.round(E)),1!=v||0!==p){var j=I+k,N=E+A;hr(w,j,N,v,v,p,-j,-N),e.setTransform.apply(e,w)}j=e.globalAlpha,1!=P&&(e.globalAlpha=j*P);var N=R+F>L.width?L.width-F:R,O=T+_>L.height?L.height-_:T;e.drawImage(L,F,_,N,O,I,E,N*i,O*i),1!=P&&(e.globalAlpha=j),1==v&&0===p||e.setTransform.apply(e,x)}++y;break;case 5:for(b=I[1],c=I[2],A=I[3],T=I[4]*i,P=I[5]*i,p=I[6],v=I[7]*i,L=I[8],k=I[9],(E=I[10])&&(p+=r);b<c;b+=2){for(I=u[b]+T,E=u[b+1]+P,1==v&&0===p||(hr(w,I,E,v,v,p,-I,-E),e.setTransform.apply(e,w)),F=A.split("\n"),_=F.length,1<_?(D=Math.round(1.5*e.measureText("M").width),E-=(_-1)/2*D):D=0,R=0;R<_;R++)j=F[R],k&&e.strokeText(j,I,E),L&&e.fillText(j,I,E),E+=D;1==v&&0===p||e.setTransform.apply(e,x)}++y;break;case 6:if(void 0!==h&&(b=I[1],b=h(b)))return b;++y;break;case 7:C?M++:$r(t,e,r),++y;break;case 8:for(b=I[1],c=I[2],I=u[b],E=u[b+1],p=I+.5|0,v=E+.5|0,p===f&&v===d||(e.moveTo(I,E),f=p,d=v),b+=2;b<c;b+=2)I=u[b],E=u[b+1],p=I+.5|0,v=E+.5|0,(b==c-2||p!==f||v!==d)&&(e.lineTo(I,E),f=p,d=v);++y;break;case 9:t.V=I[2],M&&($r(t,e,r),M=0),e.fillStyle=I[1],++y;break;case 10:f=void 0===I[7]||I[7];var B=I[8];d=I[2],S&&(e.stroke(),S=0),e.strokeStyle=I[1],e.lineWidth=f?d*i:d,e.lineCap=I[3],e.lineJoin=I[4],e.miterLimit=I[5],Ju&&(d=I[6],f&&i!==B&&(d=d.map(function(t){return t*i/B}),I[6]=d,I[8]=i),e.setLineDash(d)),d=f=NaN,++y;break;case 11:e.font=I[1],e.textAlign=I[2],e.textBaseline=I[3],++y;break;case 12:C?S++:e.stroke(),++y;break;default:++y}}M&&$r(t,e,r),S&&e.stroke()}function eo(t){var e=t.a;e.reverse();var i,n,r,o=e.length,a=-1;for(i=0;i<o;++i)if(n=e[i],r=n[0],6==r)a=i;else if(0==r){for(n[2]=i,n=t.a,r=i;a<r;){var s=n[a];n[a]=n[r],n[r]=s,++a,--r}a=-1}}function io(t,e){t.L[2]=t.c.length,t.L=null,t.Y[2]=t.a.length,t.Y=null;var i=[6,e];t.c.push(i),t.a.push(i)}function no(t,e,i,n){Kr.call(this,t,e,i,n),this.j=this.P=null,this.G=this.C=this.A=this.B=this.F=this.D=this.u=this.l=this.o=this.i=this.b=void 0}function ro(t,e,i,n){Kr.call(this,t,e,i,n),this.i=null,this.b={hb:void 0,bb:void 0,cb:null,eb:void 0,fb:void 0,gb:void 0,oc:0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function oo(t,e,i,n,r){var o=t.coordinates.length;return e=Zr(t,e,i,n,r,!1,!1),o=[8,o,e],t.c.push(o),t.a.push(o),n}function ao(t){var e=t.b,i=e.strokeStyle,n=e.lineCap,r=e.lineDash,o=e.lineJoin,a=e.lineWidth,s=e.miterLimit;e.hb==i&&e.bb==n&&U(e.cb,r)&&e.eb==o&&e.fb==a&&e.gb==s||(e.oc!=t.coordinates.length&&(t.c.push([12]),e.oc=t.coordinates.length),t.c.push([10,i,a,n,o,s,r,!0,1],[1]),e.hb=i,e.bb=n,e.cb=r,e.eb=o,e.fb=a,e.gb=s)}function so(t,e,i,n){Kr.call(this,t,e,i,n),this.i=null,this.b={Pc:void 0,hb:void 0,bb:void 0,cb:null,eb:void 0,fb:void 0,gb:void 0,fillStyle:void 0,strokeStyle:void 0,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0}}function ho(t,e,i,n,r){var o=t.b,a=void 0!==o.fillStyle,o=void 0!=o.strokeStyle,s=n.length,h=[1];for(t.c.push(h),t.a.push(h),h=0;h<s;++h){var l=n[h],u=t.coordinates.length;i=Zr(t,e,i,l,r,!0,!o),i=[8,u,i],t.c.push(i),t.a.push(i),o&&(i=[3],t.c.push(i),t.a.push(i)),i=l}return e=[7],t.a.push(e),a&&t.c.push(e),o&&(a=[12],t.c.push(a),t.a.push(a)),i}function lo(t,e){var i=t.b,n=i.fillStyle,r=i.strokeStyle,o=i.lineCap,a=i.lineDash,s=i.lineJoin,h=i.lineWidth,l=i.miterLimit;if(void 0!==n&&("string"!=typeof n||i.Pc!=n)){var u=[9,n];"string"!=typeof n&&(n=e.M(),u.push([n[0],n[3]])),t.c.push(u),i.Pc=i.fillStyle}void 0===r||i.hb==r&&i.bb==o&&U(i.cb,a)&&i.eb==s&&i.fb==h&&i.gb==l||(t.c.push([10,r,h,o,s,l,a,!0,1]),i.hb=r,i.bb=o,i.cb=a,i.eb=s,i.fb=h,i.gb=l)}function uo(t,e,i,n){Kr.call(this,t,e,i,n),this.G=this.C=this.A=null,this.j="",this.u=this.l=0,this.D=void 0,this.B=this.F=0,this.o=this.i=this.b=null}function co(t,e,i,n,r){if(""!==t.j&&t.o&&(t.b||t.i)){if(t.b){var o=t.b,a=t.A;if(!a||a.fillStyle!=o.fillStyle){var s=[9,o.fillStyle];t.c.push(s),t.a.push(s),a?a.fillStyle=o.fillStyle:t.A={fillStyle:o.fillStyle}}}t.i&&(o=t.i,a=t.C,a&&a.lineCap==o.lineCap&&a.lineDash==o.lineDash&&a.lineJoin==o.lineJoin&&a.lineWidth==o.lineWidth&&a.miterLimit==o.miterLimit&&a.strokeStyle==o.strokeStyle||(s=[10,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,!1,1],t.c.push(s),t.a.push(s),a?(a.lineCap=o.lineCap,a.lineDash=o.lineDash,a.lineJoin=o.lineJoin,a.lineWidth=o.lineWidth,a.miterLimit=o.miterLimit,a.strokeStyle=o.strokeStyle):t.C={lineCap:o.lineCap,lineDash:o.lineDash,lineJoin:o.lineJoin,lineWidth:o.lineWidth,miterLimit:o.miterLimit,strokeStyle:o.strokeStyle})),o=t.o,a=t.G,a&&a.font==o.font&&a.textAlign==o.textAlign&&a.textBaseline==o.textBaseline||(s=[11,o.font,o.textAlign,o.textBaseline],t.c.push(s),t.a.push(s),a?(a.font=o.font,a.textAlign=o.textAlign,a.textBaseline=o.textBaseline):t.G={font:o.font,textAlign:o.textAlign,textBaseline:o.textBaseline}),Qr(t,r),o=t.coordinates.length,e=Zr(t,e,0,i,n,!1,!1),e=[5,o,e,t.j,t.l,t.u,t.F,t.B,!!t.b,!!t.i,t.D],t.c.push(e),t.a.push(e),io(t,r)}}function fo(t,e,i,n,r){this.D=t,this.f=e,this.l=n,this.u=i,this.i=r,this.c={},this.o=ti(1,1),this.j=er()}function po(t,e,i){var n,r=Math.floor(t.length/2);if(e>=r)for(n=r;n<e;n++)t[n][i]=!0;else if(e<r)for(n=e+1;n<r;n++)t[n][i]=!0}function vo(t){if(void 0!==jc[t])return jc[t];for(var e=2*t+1,i=Array(e),n=0;n<e;n++)i[n]=Array(e);for(var e=t,r=n=0;e>=n;)po(i,t+e,t+n),po(i,t+n,t+e),po(i,t-n,t+e),po(i,t-e,t+n),po(i,t-e,t-n),po(i,t-n,t-e),po(i,t+n,t-e),po(i,t+e,t-n),n++,r+=1+2*n,0<2*(r-e)+1&&(--e,r+=1-2*e);return jc[t]=i}function go(t){for(var e in t.c){var i,n=t.c[e];for(i in n)n[i].Kb()}}function yo(t,e,i,n,r,o,a){var s=Object.keys(t.c).map(Number);s.sort(function(t,e){return e-t});var h,l,u,c,f;for(h=0,l=s.length;h<l;++h)for(c=t.c[s[h].toString()],u=Rc.length-1;0<=u;--u)if(f=c[Rc[u]],void 0!==f&&(f=to(f,e,1,i,n,r,f.a,o,a)))return f}function mo(t,e){return o(t)-o(e)}function bo(t,e){var i=.5*t/e;return i*i}function wo(t,e,i,n,r,o){var a,s,h=!1;return(a=i.f)&&(s=a.Lb(),2==s||3==s?a.sd(r,o):(0==s&&a.load(),a.Yc(r,o),h=!0)),(r=(0,i.g)(e))&&(n=r.kc(n),(0,Oc[n.$()])(t,n,i,e)),h}function xo(t){Xr.call(this,t),this.b=!1,this.C=-1,this.A=NaN,this.i=at(),this.f=this.u=null,this.g=ti()}function Mo(t,e){lr.call(this,0,e),this.f=ti(),this.a=this.f.canvas,this.a.style.width="100%",this.a.style.height="100%",this.a.className="ol-unselectable",t.insertBefore(this.a,t.childNodes[0]||null),this.c=!0,this.g=er()}function So(t,e,i){var n=t.j,r=t.f;if(F(n,e)){var o=i.extent,a=i.pixelRatio,s=i.viewState.rotation,h=i.viewState,l=i.pixelRatio/h.resolution;t=hr(t.g,t.a.width/2,t.a.height/2,l,-l,-h.rotation,-h.center[0],-h.center[1]),P(n,new Zn(e,new Ir(r,a,o,t,s),i,r,null))}}function Co(t,e,i,n,r,o){return t=(i-t)*(o-e)-(r-t)*(n-e),t<=Wc&&t>=-Wc?void 0:0<t}function Lo(t){this.a=t}function ko(t){this.a=t}function Ao(t){this.a=t}function Eo(){this.a="precision mediump float;varying vec2 a;varying vec2 b;varying float c;varying float d;uniform float m;uniform vec4 n;uniform vec4 o;uniform vec2 p;void main(void){vec2 windowCenter=vec2((a.x+1.0)/2.0*p.x*d,(a.y+1.0)/2.0*p.y*d);vec2 windowOffset=vec2((b.x+1.0)/2.0*p.x*d,(b.y+1.0)/2.0*p.y*d);float radius=length(windowCenter-windowOffset);float dist=length(windowCenter-gl_FragCoord.xy);if(dist>radius+c){if(o.a==0.0){gl_FragColor=n;}else{gl_FragColor=o;}gl_FragColor.a=gl_FragColor.a-(dist-(radius+c));}else if(n.a==0.0){gl_FragColor=o;if(dist<radius-c){gl_FragColor.a=gl_FragColor.a-(radius-c-dist);}} else{gl_FragColor=n;float strokeDist=radius-c;float antialias=2.0*d;if(dist>strokeDist){gl_FragColor=o;}else if(dist>=strokeDist-antialias){float step=smoothstep(strokeDist-antialias,strokeDist,dist);gl_FragColor=mix(n,o,step);}} gl_FragColor.a=gl_FragColor.a*m;if(gl_FragColor.a<=0.0){discard;}}"}function Io(){this.a="varying vec2 a;varying vec2 b;varying float c;varying float d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;void main(void){mat4 offsetMatrix=i*j;a=vec4(h*vec4(e,0.0,1.0)).xy;d=l;float lineWidth=k*l;c=lineWidth/2.0;if(lineWidth==0.0){lineWidth=2.0*l;}vec2 offset;float radius=g+3.0*l;if(f==0.0){offset=vec2(-1.0,1.0);}else if(f==1.0){offset=vec2(-1.0,-1.0);}else if(f==2.0){offset=vec2(1.0,-1.0);}else{offset=vec2(1.0,1.0);}gl_Position=h*vec4(e+offset*radius,0.0,1.0)+offsetMatrix*vec4(offset*lineWidth,0.0,0.0);b=vec4(h*vec4(e.x+g,e.y,0.0,1.0)).xy;if(distance(a,b)>20000.0){gl_Position=vec4(a,0.0,1.0);}}"}function To(t,e){this.C=t.getUniformLocation(e,"n"),this.G=t.getUniformLocation(e,"k"),this.f=t.getUniformLocation(e,"j"),this.g=t.getUniformLocation(e,"i"),this.c=t.getUniformLocation(e,"m"),this.L=t.getUniformLocation(e,"l"),this.b=t.getUniformLocation(e,"h"),this.Y=t.getUniformLocation(e,"p"),this.P=t.getUniformLocation(e,"o"),this.o=t.getAttribLocation(e,"f"),this.a=t.getAttribLocation(e,"e"),this.F=t.getAttribLocation(e,"g")}function Po(){return[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1]}function Fo(t,e){return t[0]=e[0],t[1]=e[1],t[4]=e[2],t[5]=e[3],t[12]=e[4],t[13]=e[5],t}function _o(t,e){this.origin=vt(e),this.Ba=er(),this.za=er(),this.Aa=er(),this.sa=Po(),this.a=[],this.l=null,this.b=[],this.i=[],this.c=[],this.u=null,this.o=void 0}function Do(t,e,i,n){t.drawElements(4,n-i,e.i?5125:5123,i*(e.i?4:2))}function Ro(t){this.a=void 0!==t?t:[],this.c=Gc}function jo(t,e){_o.call(this,0,e),this.D=null,this.j=[],this.F=[],this.B=0,this.f={fillColor:null,strokeColor:null,lineDash:null,lineWidth:void 0,v:!1}}function No(t,e,i,n){e.uniform4fv(t.D.P,i),e.uniform1f(t.D.G,n)}function Oo(){this.a="precision mediump float;varying vec2 a;varying float b;uniform float k;uniform sampler2D l;void main(void){vec4 texColor=texture2D(l,a);gl_FragColor.rgb=texColor.rgb;float alpha=texColor.a*b*k;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function Bo(){this.a="varying vec2 a;varying float b;attribute vec2 c;attribute vec2 d;attribute vec2 e;attribute float f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;void main(void){mat4 offsetMatrix=i;if(g==1.0){offsetMatrix=i*j;}vec4 offsets=offsetMatrix*vec4(e,0.0,0.0);gl_Position=h*vec4(c,0.0,1.0)+offsets;a=d;b=f;}"}function Vo(t,e){this.f=t.getUniformLocation(e,"j"),this.g=t.getUniformLocation(e,"i"),this.c=t.getUniformLocation(e,"k"),this.b=t.getUniformLocation(e,"h"),this.u=t.getAttribLocation(e,"e"),this.D=t.getAttribLocation(e,"f"),this.a=t.getAttribLocation(e,"c"),this.B=t.getAttribLocation(e,"g"),this.A=t.getAttribLocation(e,"d")}function Uo(t,e){this.u=t,this.a=e,this.c={},this.f={},this.b={},this.j=this.l=this.g=this.o=null,(this.i=0<=yu.indexOf("OES_element_index_uint"))&&e.getExtension("OES_element_index_uint"),M(this.u,"webglcontextlost",this.D,this),M(this.u,"webglcontextrestored",this.F,this)}function Wo(t,e,i){var n=t.a,r=i.a,a=String(o(i));if(a in t.c)n.bindBuffer(e,t.c[a].buffer);else{var s=n.createBuffer();n.bindBuffer(e,s);var h;34962==e?h=new Float32Array(r):34963==e&&(h=t.i?new Uint32Array(r):new Uint16Array(r)),n.bufferData(e,h,i.c),t.c[a]={Fa:i,buffer:s}}}function Xo(t,e){var i=t.a,n=String(o(e)),r=t.c[n];i.isContextLost()||i.deleteBuffer(r.buffer),delete t.c[n]}function Ho(t){if(!t.g){var e=t.a,i=e.createFramebuffer();e.bindFramebuffer(e.FRAMEBUFFER,i);var n=Jo(e,1,1),r=e.createRenderbuffer();e.bindRenderbuffer(e.RENDERBUFFER,r),e.renderbufferStorage(e.RENDERBUFFER,e.DEPTH_COMPONENT16,1,1),e.framebufferTexture2D(e.FRAMEBUFFER,e.COLOR_ATTACHMENT0,e.TEXTURE_2D,n,0),e.framebufferRenderbuffer(e.FRAMEBUFFER,e.DEPTH_ATTACHMENT,e.RENDERBUFFER,r),e.bindTexture(e.TEXTURE_2D,null),e.bindRenderbuffer(e.RENDERBUFFER,null),e.bindFramebuffer(e.FRAMEBUFFER,null),t.g=i,t.l=n,t.j=r}return t.g}function Go(t,e){var i=String(o(e));if(i in t.f)return t.f[i];var n=t.a,r=n.createShader(e.$());return n.shaderSource(r,e.a),n.compileShader(r),t.f[i]=r}function zo(t,e,i){var n=o(e)+"/"+o(i);if(n in t.b)return t.b[n];var r=t.a,a=r.createProgram();return r.attachShader(a,Go(t,e)),r.attachShader(a,Go(t,i)),r.linkProgram(a),t.b[n]=a}function Yo(t,e){return e!=t.o&&(t.a.useProgram(e),t.o=e,!0)}function qo(t,e,i){var n=t.createTexture();return t.bindTexture(t.TEXTURE_2D,n),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.LINEAR),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.LINEAR),void 0!==e&&t.texParameteri(3553,10242,e),void 0!==i&&t.texParameteri(3553,10243,i),n}function Jo(t,e,i){var n=qo(t,void 0,void 0);return t.texImage2D(t.TEXTURE_2D,0,t.RGBA,e,i,0,t.RGBA,t.UNSIGNED_BYTE,null),n}function Ko(t,e){_o.call(this,0,e),this.C=this.A=void 0,this.B=[],this.D=[],this.L=void 0,this.j=[],this.f=[],this.P=this.Y=void 0,this.G=null,this.xa=this.ca=this.ba=this.ka=this.ja=this.V=void 0,this.ta=[],this.F=[],this.ia=void 0}function Zo(t,e,i,n){var r,o,a,s,h,l,u=t.A,c=t.C,f=t.L,d=t.Y,p=t.P,v=t.V,g=t.ja,y=t.ka,m=t.ba?1:0,b=-t.ca,w=t.xa,x=t.ia,M=Math.cos(b),b=Math.sin(b),S=t.a.length,C=t.c.length;for(r=0;r<i;r+=n)h=e[r]-t.origin[0],l=e[r+1]-t.origin[1],o=C/8,a=-w*u,s=-w*(f-c),t.c[C++]=h,t.c[C++]=l,t.c[C++]=a*M-s*b,t.c[C++]=a*b+s*M,t.c[C++]=g/p,t.c[C++]=(y+f)/d,t.c[C++]=v,t.c[C++]=m,a=w*(x-u),s=-w*(f-c),t.c[C++]=h,t.c[C++]=l,t.c[C++]=a*M-s*b,t.c[C++]=a*b+s*M,t.c[C++]=(g+x)/p,t.c[C++]=(y+f)/d,t.c[C++]=v,t.c[C++]=m,a=w*(x-u),s=w*c,t.c[C++]=h,t.c[C++]=l,t.c[C++]=a*M-s*b,t.c[C++]=a*b+s*M,t.c[C++]=(g+x)/p,t.c[C++]=y/d,t.c[C++]=v,t.c[C++]=m,a=-w*u,s=w*c,t.c[C++]=h,t.c[C++]=l,t.c[C++]=a*M-s*b,t.c[C++]=a*b+s*M,t.c[C++]=g/p,t.c[C++]=y/d,t.c[C++]=v,t.c[C++]=m,t.a[S++]=o,t.a[S++]=o+1,t.a[S++]=o+2,t.a[S++]=o,t.a[S++]=o+2,t.a[S++]=o+3}function Qo(t,e,i,n){var r,a,s,h,l=e.length;for(h=0;h<l;++h){if(a=e[h],s=o(a).toString(),s in i)r=i[s];else{r=n;var u=qo(r,33071,33071);r.texImage2D(r.TEXTURE_2D,0,r.RGBA,r.RGBA,r.UNSIGNED_BYTE,a),r=u,i[s]=r}t[h]=r}}function $o(t,e,i){var n=e-i;if(t[0]===t[n]&&t[1]===t[n+1]&&3<(e-0)/i){for(var r=n=0,o=t[e-i],a=t[e-i+1];n<e;n+=i)var s=t[n],h=t[n+1],r=r+(a*s-o*h),o=s,a=h;t=!!(r/2)}else t=!1;return t}function ta(){this.a="precision mediump float;varying float a;varying vec2 b;varying float c;uniform float m;uniform vec4 n;uniform vec2 o;uniform float p;void main(void){if(a>0.0){vec2 windowCoords=vec2((b.x+1.0)/2.0*o.x*p,(b.y+1.0)/2.0*o.y*p);if(length(windowCoords-gl_FragCoord.xy)>c*p){discard;}} gl_FragColor=n;float alpha=n.a*m;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function ea(){this.a="varying float a;varying vec2 b;varying float c;attribute vec2 d;attribute vec2 e;attribute vec2 f;attribute float g;uniform mat4 h;uniform mat4 i;uniform mat4 j;uniform float k;uniform float l;bool nearlyEquals(in float value,in float ref){float epsilon=0.000000000001;return value>=ref-epsilon&&value<=ref+epsilon;}void alongNormal(out vec2 offset,in vec2 nextP,in float turnDir,in float direction){vec2 dirVect=nextP-e;vec2 normal=normalize(vec2(-turnDir*dirVect.y,turnDir*dirVect.x));offset=k/2.0*normal*direction;}void miterUp(out vec2 offset,out float round,in bool isRound,in float direction){float halfWidth=k/2.0;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=f-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;round=0.0;if(isRound){round=1.0;}else if(miterLength>l+k){offset=halfWidth*tmpNormal*direction;}} bool miterDown(out vec2 offset,in vec4 projPos,in mat4 offsetMatrix,in float direction){bool degenerate=false;vec2 tangent=normalize(normalize(f-e)+normalize(e-d));vec2 normal=vec2(-tangent.y,tangent.x);vec2 dirVect=d-e;vec2 tmpNormal=normalize(vec2(-dirVect.y,dirVect.x));vec2 longOffset,shortOffset,longVertex;vec4 shortProjVertex;float halfWidth=k/2.0;if(length(f-e)>length(d-e)){longOffset=tmpNormal*direction*halfWidth;shortOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=f;shortProjVertex=h*vec4(d,0.0,1.0);}else{shortOffset=tmpNormal*direction*halfWidth;longOffset=normalize(vec2(dirVect.y,-dirVect.x))*direction*halfWidth;longVertex=d;shortProjVertex=h*vec4(f,0.0,1.0);}vec4 p1=h*vec4(longVertex,0.0,1.0)+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p2=projPos+offsetMatrix*vec4(longOffset,0.0,0.0);vec4 p3=shortProjVertex+offsetMatrix*vec4(-shortOffset,0.0,0.0);vec4 p4=shortProjVertex+offsetMatrix*vec4(shortOffset,0.0,0.0);float denom=(p4.y-p3.y)*(p2.x-p1.x)-(p4.x-p3.x)*(p2.y-p1.y);float firstU=((p4.x-p3.x)*(p1.y-p3.y)-(p4.y-p3.y)*(p1.x-p3.x))/denom;float secondU=((p2.x-p1.x)*(p1.y-p3.y)-(p2.y-p1.y)*(p1.x-p3.x))/denom;float epsilon=0.000000000001;if(firstU>epsilon&&firstU<1.0-epsilon&&secondU>epsilon&&secondU<1.0-epsilon){shortProjVertex.x=p1.x+firstU*(p2.x-p1.x);shortProjVertex.y=p1.y+firstU*(p2.y-p1.y);offset=shortProjVertex.xy;degenerate=true;}else{float miterLength=abs(halfWidth/dot(normal,tmpNormal));offset=normal*direction*miterLength;}return degenerate;}void squareCap(out vec2 offset,out float round,in bool isRound,in vec2 nextP,in float turnDir,in float direction){round=0.0;vec2 dirVect=e-nextP;vec2 firstNormal=normalize(dirVect);vec2 secondNormal=vec2(turnDir*firstNormal.y*direction,-turnDir*firstNormal.x*direction);vec2 hypotenuse=normalize(firstNormal-secondNormal);vec2 normal=vec2(turnDir*hypotenuse.y*direction,-turnDir*hypotenuse.x*direction);float length=sqrt(c*c*2.0);offset=normal*length;if(isRound){round=1.0;}} void main(void){bool degenerate=false;float direction=float(sign(g));mat4 offsetMatrix=i*j;vec2 offset;vec4 projPos=h*vec4(e,0.0,1.0);bool round=nearlyEquals(mod(g,2.0),0.0);a=0.0;c=k/2.0;b=projPos.xy;if(nearlyEquals(mod(g,3.0),0.0)||nearlyEquals(mod(g,17.0),0.0)){alongNormal(offset,f,1.0,direction);}else if(nearlyEquals(mod(g,5.0),0.0)||nearlyEquals(mod(g,13.0),0.0)){alongNormal(offset,d,-1.0,direction);}else if(nearlyEquals(mod(g,23.0),0.0)){miterUp(offset,a,round,direction);}else if(nearlyEquals(mod(g,19.0),0.0)){degenerate=miterDown(offset,projPos,offsetMatrix,direction);}else if(nearlyEquals(mod(g,7.0),0.0)){squareCap(offset,a,round,f,1.0,direction);}else if(nearlyEquals(mod(g,11.0),0.0)){squareCap(offset,a,round,d,-1.0,direction);}if(!degenerate){vec4 offsets=offsetMatrix*vec4(offset,0.0,0.0);gl_Position=projPos+offsets;}else{gl_Position=vec4(offset,0.0,1.0);}}"}function ia(t,e){this.C=t.getUniformLocation(e,"n"),this.G=t.getUniformLocation(e,"k"),this.P=t.getUniformLocation(e,"l"),this.f=t.getUniformLocation(e,"j"),this.g=t.getUniformLocation(e,"i"),this.c=t.getUniformLocation(e,"m"),this.L=t.getUniformLocation(e,"p"),this.b=t.getUniformLocation(e,"h"),this.Y=t.getUniformLocation(e,"o"),this.i=t.getAttribLocation(e,"g"),this.j=t.getAttribLocation(e,"d"),this.l=t.getAttribLocation(e,"f"),this.a=t.getAttribLocation(e,"e")}function na(t,e){_o.call(this,0,e),this.D=null,this.F=[],this.j=[],this.f={strokeColor:null,lineCap:void 0,lineDash:null,lineJoin:void 0,lineWidth:void 0,miterLimit:void 0,v:!1}}function ra(t,e,i,n){var r,o,a,s,h,l,u,c=t.c.length,f=t.a.length,d="bevel"===t.f.lineJoin?0:"miter"===t.f.lineJoin?1:2,p="butt"===t.f.lineCap?0:"square"===t.f.lineCap?1:2,v=$o(e,i,n),g=f,y=1;for(r=0;r<i;r+=n){if(s=c/7,h=l,l=u||[e[r],e[r+1]],0===r){if(u=[e[r+n],e[r+n+1]],i-0===2*n&&U(l,u))break;if(!v){p&&(c=oa(t,[0,0],l,u,7*y*p,c),c=oa(t,[0,0],l,u,7*-y*p,c),t.a[f++]=s+2,t.a[f++]=s,t.a[f++]=s+1,t.a[f++]=s+1,t.a[f++]=s+3,t.a[f++]=s+2),c=oa(t,[0,0],l,u,3*y*(p||1),c),c=oa(t,[0,0],l,u,3*-y*(p||1),c),g=c/7-1;continue}h=[e[i-2*n],e[i-2*n+1]],o=u}else{if(r===i-n){v?u=o:(h=h||[0,0],c=oa(t,h,l,[0,0],5*y*(p||1),c),c=oa(t,h,l,[0,0],5*-y*(p||1),c),t.a[f++]=s,t.a[f++]=g-1,t.a[f++]=g,t.a[f++]=g,t.a[f++]=s+1,t.a[f++]=s,p&&(c=oa(t,h,l,[0,0],11*y*p,c),c=oa(t,h,l,[0,0],11*-y*p,c),t.a[f++]=s+2,t.a[f++]=s,t.a[f++]=s+1,t.a[f++]=s+1,t.a[f++]=s+3,t.a[f++]=s+2));break}u=[e[r+n],e[r+n+1]]}a=Co(h[0],h[1],l[0],l[1],u[0],u[1])?-1:1,c=oa(t,h,l,u,13*a*(d||1),c),c=oa(t,h,l,u,17*a*(d||1),c),c=oa(t,h,l,u,19*-a*(d||1),c),0<r&&(t.a[f++]=s,t.a[f++]=g-1,t.a[f++]=g,t.a[f++]=s+2,t.a[f++]=s,t.a[f++]=0<y*a?g:g-1),t.a[f++]=s,t.a[f++]=s+2,t.a[f++]=s+1,g=s+2,y=a,d&&(c=oa(t,h,l,u,23*a*d,c),t.a[f++]=s+1,t.a[f++]=s+3,t.a[f++]=s)}v&&(s=s||c/7,a=he([h[0],h[1],l[0],l[1],u[0],u[1]],0,6,2)?1:-1,c=oa(t,h,l,u,13*a*(d||1),c),oa(t,h,l,u,19*-a*(d||1),c),t.a[f++]=s,t.a[f++]=g-1,t.a[f++]=g,t.a[f++]=s+1,t.a[f++]=s,t.a[f++]=0<y*a?g:g-1)}function oa(t,e,i,n,r,o){return t.c[o++]=e[0],t.c[o++]=e[1],t.c[o++]=i[0],t.c[o++]=i[1],t.c[o++]=n[0],t.c[o++]=n[1],t.c[o++]=r,o}function aa(t,e,i){return e-=0,!(e<2*i)&&(e!==2*i||!U([t[0],t[1]],[t[0+i],t[i+1]]))}function sa(t,e,i,n){if($o(e,e.length,n)||(e.push(e[0]),e.push(e[1])),ra(t,e,e.length,n),i.length){var r;for(e=0,r=i.length;e<r;++e)$o(i[e],i[e].length,n)||(i[e].push(i[e][0]),i[e].push(i[e][1])),ra(t,i[e],i[e].length,n)}}function ha(t,e,i){i=void 0===i?t.a.length:i,t.b.push(i),t.i.push(e),t.f.v&&(t.j.push(i),t.f.v=!1)}function la(t,e,i,n,r){e.uniform4fv(t.D.C,i),e.uniform1f(t.D.G,n),e.uniform1f(t.D.P,r)}function ua(){this.a="precision mediump float;uniform vec4 e;uniform float f;void main(void){gl_FragColor=e;float alpha=e.a*f;if(alpha==0.0){discard;}gl_FragColor.a=alpha;}"}function ca(){this.a="attribute vec2 a;uniform mat4 b;uniform mat4 c;uniform mat4 d;void main(void){gl_Position=b*vec4(a,0.0,1.0);}"}function fa(t,e){this.C=t.getUniformLocation(e,"e"),this.f=t.getUniformLocation(e,"d"),this.g=t.getUniformLocation(e,"c"),this.c=t.getUniformLocation(e,"f"),this.b=t.getUniformLocation(e,"b"),this.a=t.getAttribLocation(e,"a")}function da(t){this.a=this.c=this.b=void 0,this.g=void 0===t||t,this.f=0}function pa(t){var e=t.a;if(e){var i=e.next,n=e.pa;i&&(i.pa=n),n&&(n.next=i),t.a=i||n,t.b===t.c?(t.a=void 0,t.b=void 0,t.c=void 0):t.b===e?t.b=t.a:t.c===e&&(t.c=n?t.a.pa:t.a),t.f--}}function va(t){if(t.a=t.b,t.a)return t.a.data}function ga(t){if(t.a&&t.a.next)return t.a=t.a.next,t.a.data}function ya(t){if(t.a&&t.a.next)return t.a.next.data}function ma(t){if(t.a&&t.a.pa)return t.a=t.a.pa,t.a.data}function ba(t){if(t.a&&t.a.pa)return t.a.pa.data}function wa(t){if(t.a)return t.a.data}function xa(t){this.a=Qc(t),this.c={}}function Ma(t,e,i){var n=t.c[o(i)];ut([n.K,n.N,n.J,n.R],e)||(t.remove(i),t.Ha(e,i))}function Sa(t){return t.a.all().map(function(t){return t.value})}function Ca(t,e){return t.a.search({K:e[0],N:e[1],J:e[2],R:e[3]}).map(function(t){return t.value})}function La(t,e,i,n){return ka(Ca(t,e),i,n)}function ka(t,e,i){for(var n,r=0,o=t.length;r<o&&!(n=e.call(i,t[r]));r++);return n}function Aa(t,e){_o.call(this,0,e),this.o=new na(0,e),this.D=null,this.F=[],this.f=[],this.j={fillColor:null,v:!1}}function Ea(t,e,i,n){var r=new da,o=new xa;if(e=Ia(t,e,n,r,o,!0),i.length){var a,s,h=[];for(a=0,s=i.length;a<s;++a){var l={list:new da,J:void 0};h.push(l),l.J=Ia(t,i[a],n,l.list,o,!1)}for(h.sort(function(t,e){return e.J-t.J}),a=0;a<h.length;++a)Pa(h[a].list,h[a].J,r,e,o)}Ta(r,o,!1),Fa(t,r,o)}function Ia(t,e,i,n,r,o){var a,s,h,l,u,c=t.c.length/2,f=[],d=[];if(o===he(e,0,e.length,i))for(l=h=ja(t,e[0],e[1],c++),o=e[0],a=i,s=e.length;a<s;a+=i)u=ja(t,e[a],e[a+1],c++),d.push(Na(l,u,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),o=e[a]>o?e[a]:o,l=u;else for(a=e.length-i,l=h=ja(t,e[a],e[a+1],c++),o=e[a],a-=i,s=0;a>=s;a-=i)u=ja(t,e[a],e[a+1],c++),d.push(Na(l,u,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),o=e[a]>o?e[a]:o,l=u;return d.push(Na(u,h,n)),f.push([Math.min(l.x,u.x),Math.min(l.y,u.y),Math.max(l.x,u.x),Math.max(l.y,u.y)]),r.load(f,d),o}function Ta(t,e,i){var n=va(t),r=n,o=ga(t),a=!1;do{var s=i?Co(o.H.x,o.H.y,r.H.x,r.H.y,r.I.x,r.I.y):Co(r.I.x,r.I.y,r.H.x,r.H.y,o.H.x,o.H.y);void 0===s?(Oa(r,o,t,e),a=!0,o===n&&(n=ya(t)),o=r,ma(t)):r.H.qa!==s&&(r.H.qa=s,a=!0),r=o,o=ga(t)}while(r!==n);return a}function Pa(t,e,i,n,r){Ta(t,r,!0);for(var o=va(t);o.H.x!==e;)o=ga(t);e=o.H,n={x:n,y:e.y,la:-1};var a,s,h,l,u=1/0;for(h=Va({I:e,H:n},r,!0),a=0,s=h.length;a<s;++a){var c=h[a];if(void 0===c.I.qa){var f=Ua(e,n,c.I,c.H,!0),d=Math.abs(e.x-f[0]);d<u&&(u=d,l={x:f[0],y:f[1],la:-1},o=c)}}if(1/0!==u){if(h=o.H,0<u&&(o=Ba(e,l,o.H,r),o.length))for(l=1/0,a=0,s=o.length;a<s;++a)u=o[a],c=Math.atan2(e.y-u.y,n.x-u.x),(c<l||c===l&&u.x<h.x)&&(l=c,h=u);for(o=va(i);o.H!==h;)o=ga(i);n={x:e.x,y:e.y,la:e.la,qa:void 0},a={x:o.H.x,y:o.H.y,la:o.H.la,qa:void 0},ya(t).I=n,Na(e,o.H,t,r),Na(a,n,t,r),o.H=a,t.g&&t.a&&(t.b=t.a,t.c=t.a.pa),i.concat(t)}}function Fa(t,e,i){for(var n=!1,r=Ra(e,i);3<e.f;)if(r){if(!_a(t,e,i,r,n)&&!Ta(e,i,n)&&!Da(t,e,i,!0))break}else if(!_a(t,e,i,r,n)&&!Ta(e,i,n)&&!Da(t,e,i)){if(!(r=Ra(e,i))){r=t,n=e,o=a=va(n);do{if(s=Va(o,i),s.length){for(a=s[0],s=Ua(o.I,o.H,a.I,a.H),s=ja(r,s[0],s[1],r.c.length/2),h=new da,l=new xa,Na(s,o.H,h,l),o.H=s,Ma(i,[Math.min(o.I.x,s.x),Math.min(o.I.y,s.y),Math.max(o.I.x,s.x),Math.max(o.I.y,s.y)],o),o=ga(n);o!==a;)Na(o.I,o.H,h,l),i.remove(o),pa(n),o=wa(n);Na(a.I,s,h,l),a.I=s,Ma(i,[Math.min(a.H.x,s.x),Math.min(a.H.y,s.y),Math.max(a.H.x,s.x),Math.max(a.H.y,s.y)],a),Ta(n,i,!1),Fa(r,n,i),Ta(h,l,!1),Fa(r,h,l);break}o=ga(n)}while(o!==a);break}var n=e,o=2*n.f,a=Array(o),s=va(n),h=s,l=0;do a[l++]=h.I.x,a[l++]=h.I.y,h=ga(n);while(h!==s);n=!he(a,0,o,2),Ta(e,i,n)}3===e.f&&(r=t.a.length,t.a[r++]=ba(e).I.la,t.a[r++]=wa(e).I.la,t.a[r++]=ya(e).I.la)}function _a(t,e,i,n,r){var o,a,s,h=t.a.length,l=va(e),u=ba(e),c=l,f=ga(e),d=ya(e),p=!1;do{if(o=c.I,a=c.H,s=f.H,!1===a.qa){var v=r?Wa(d.H,s,a,o,u.I):Wa(u.I,o,a,s,d.H);!n&&0!==Va({I:o,H:s},i).length||!v||0!==Ba(o,a,s,i,!0).length||!n&&!1!==o.qa&&!1!==s.qa&&he([u.I.x,u.I.y,o.x,o.y,a.x,a.y,s.x,s.y,d.H.x,d.H.y],0,10,2)!==!r||(t.a[h++]=o.la,t.a[h++]=a.la,t.a[h++]=s.la,Oa(c,f,e,i),f===l&&(l=d),p=!0)}u=ba(e),c=wa(e),f=ga(e),d=ya(e)}while(c!==l&&3<e.f);return p}function Da(t,e,i,n){var r=va(e);ga(e);var o=r,a=ga(e),s=!1;do{var h=Ua(o.I,o.H,a.I,a.H,n);if(h){var l,s=t.a.length,u=t.c.length/2,c=ma(e);if(pa(e),i.remove(c),l=c===r,n?(h[0]===o.I.x&&h[1]===o.I.y?(ma(e),h=o.I,a.I=h,i.remove(o),l=l||o===r):(h=a.H,o.H=h,i.remove(a),l=l||a===r),pa(e)):(h=ja(t,h[0],h[1],u),o.H=h,a.I=h,Ma(i,[Math.min(o.I.x,o.H.x),Math.min(o.I.y,o.H.y),Math.max(o.I.x,o.H.x),Math.max(o.I.y,o.H.y)],o),Ma(i,[Math.min(a.I.x,a.H.x),Math.min(a.I.y,a.H.y),Math.max(a.I.x,a.H.x),Math.max(a.I.y,a.H.y)],a)),t.a[s++]=c.I.la,t.a[s++]=c.H.la,t.a[s++]=h.la,s=!0,l)break}o=ba(e),a=ga(e)}while(o!==r);return s}function Ra(t,e){var i=va(t),n=i;do{if(Va(n,e).length)return!1;n=ga(t)}while(n!==i);return!0}function ja(t,e,i,n){var r=t.c.length;return t.c[r++]=e,t.c[r++]=i,{x:e,y:i,la:n,qa:void 0}}function Na(t,e,i,n){var r={I:t,H:e},o={pa:void 0,next:void 0,data:r},a=i.a;if(a){var s=a.next;o.pa=a,o.next=s,a.next=o,s&&(s.pa=o),a===i.c&&(i.c=o)}else i.b=o,i.c=o,i.g&&(o.next=o,o.pa=o);return i.a=o,i.f++,n&&n.Ha([Math.min(t.x,e.x),Math.min(t.y,e.y),Math.max(t.x,e.x),Math.max(t.y,e.y)],r),r}function Oa(t,e,i,n){wa(i)===e&&(pa(i),t.H=e.H,n.remove(e),Ma(n,[Math.min(t.I.x,t.H.x),Math.min(t.I.y,t.H.y),Math.max(t.I.x,t.H.x),Math.max(t.I.y,t.H.y)],t))}function Ba(t,e,i,n,r){var o,a,s,h=[],l=Ca(n,[Math.min(t.x,e.x,i.x),Math.min(t.y,e.y,i.y),Math.max(t.x,e.x,i.x),Math.max(t.y,e.y,i.y)]);for(n=0,o=l.length;n<o;++n)for(a in l[n])s=l[n][a],"object"!=typeof s||r&&!s.qa||s.x===t.x&&s.y===t.y||s.x===e.x&&s.y===e.y||s.x===i.x&&s.y===i.y||-1!==h.indexOf(s)||!ae([t.x,t.y,e.x,e.y,i.x,i.y],0,6,2,s.x,s.y)||h.push(s);return h}function Va(t,e,i){var n=t.I,r=t.H;e=Ca(e,[Math.min(n.x,r.x),Math.min(n.y,r.y),Math.max(n.x,r.x),Math.max(n.y,r.y)]);var o,a,s=[];for(o=0,a=e.length;o<a;++o){var h=e[o];t!==h&&(i||h.I!==r||h.H!==n)&&Ua(n,r,h.I,h.H,i)&&s.push(h)}return s}function Ua(t,e,i,n,r){var o=(n.y-i.y)*(e.x-t.x)-(n.x-i.x)*(e.y-t.y);if(0!==o&&(n=((n.x-i.x)*(t.y-i.y)-(n.y-i.y)*(t.x-i.x))/o,i=((e.x-t.x)*(t.y-i.y)-(e.y-t.y)*(t.x-i.x))/o,!r&&n>Wc&&n<1-Wc&&i>Wc&&i<1-Wc||r&&0<=n&&1>=n&&0<=i&&1>=i))return[t.x+n*(e.x-t.x),t.y+n*(e.y-t.y)]}function Wa(t,e,i,n,r){if(void 0===e.qa||void 0===n.qa)return!1;var o=(i.x-n.x)*(e.y-n.y)>(i.y-n.y)*(e.x-n.x);return r=(r.x-n.x)*(e.y-n.y)<(r.y-n.y)*(e.x-n.x),t=(t.x-e.x)*(n.y-e.y)>(t.y-e.y)*(n.x-e.x),i=(i.x-e.x)*(n.y-e.y)<(i.y-e.y)*(n.x-e.x),e=e.qa?i||t:i&&t,(n.qa?r||o:r&&o)&&e}function Xa(){}function Ha(t,e,i){this.i=e,this.o=t,this.f=i,this.c={}}function Ga(t,e){var i,n=[];for(i in t.c){var r,o=t.c[i];for(r in o)n.push(o[r].wa(e))}return function(){for(var t,e=n.length,i=0;i<e;i++)t=n[i].apply(this,arguments);return t}}function za(t,e){for(var i in t.c){var n,r=t.c[i];for(n in r)r[n].va(e)}}function Ya(t,e,i,n,r,o,a,s,h,l){var u=$c,c=Object.keys(t.c).map(Number);c.sort(function(t,e){return e-t});var f,d,p,v,g;for(f=0,d=c.length;f<d;++f)for(v=t.c[c[f].toString()],p=Rc.length-1;0<=p;--p)if(g=v[Rc[p]],void 0!==g&&(g=g.g(e,i,n,r,u,o,a,s,h,!0,l)))return g}function qa(t,e,i,n,r,o,a){this.a=t,this.c=e,this.b=o,this.f=a,this.o=r,this.i=n,this.g=i,this.j=this.l=this.u=null}function Ja(){this.a="precision mediump float;varying vec2 a;uniform float f;uniform sampler2D g;void main(void){vec4 texColor=texture2D(g,a);gl_FragColor.rgb=texColor.rgb;gl_FragColor.a=texColor.a*f;}"}function Ka(){this.a="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform mat4 d;uniform mat4 e;void main(void){gl_Position=e*vec4(b,0.,1.);a=(d*vec4(c,0.,1.)).st;}"}function Za(t,e){this.b=t.getUniformLocation(e,"f"),this.f=t.getUniformLocation(e,"e"),this.i=t.getUniformLocation(e,"d"),this.g=t.getUniformLocation(e,"g"),this.a=t.getAttribLocation(e,"b"),this.c=t.getAttribLocation(e,"c");
}function Qa(t,e){jr.call(this,e),this.f=t,this.ba=new Ro([-1,-1,0,0,1,-1,1,0,-1,1,0,1,1,1,1,1]),this.i=this.Ia=null,this.o=void 0,this.V=er(),this.ca=er(),this.C=Po(),this.u=null}function $a(t,e,i){var n=t.f.f;if(void 0===t.o||t.o!=i){e.postRenderFunctions.push(function(t,e,i){t.isContextLost()||(t.deleteFramebuffer(e),t.deleteTexture(i))}.bind(null,n,t.i,t.Ia)),e=Jo(n,i,i);var r=n.createFramebuffer();n.bindFramebuffer(36160,r),n.framebufferTexture2D(36160,36064,3553,e,0),t.Ia=e,t.i=r,t.o=i}else n.bindFramebuffer(36160,t.i)}function ts(t,e,i,n){if(t=t.a,F(t,e)){var r=n.viewState;P(t,new Zn(e,new qa(i,r.center,r.resolution,r.rotation,n.size,n.extent,n.pixelRatio),n,null,i))}}function es(t,e,i,n){t=i-t,e=n-e;var r=Math.sqrt(t*t+e*e);return[Math.round(i+t/r),Math.round(n+e/r)]}function is(t,e,i,n,r,o,a,s,h,l,u){var c=ti(Math.round(i*t),Math.round(i*e));if(0===h.length)return c.canvas;c.scale(i,i);var f=at();h.forEach(function(t){ct(f,t.extent)});var d=ti(Math.round(i*bt(f)/n),Math.round(i*yt(f)/n)),p=i/n;h.forEach(function(t){d.drawImage(t.image,l,l,t.image.width-2*l,t.image.height-2*l,(t.extent[0]-f[0])*p,-(t.extent[3]-f[3])*p,bt(t.extent)*p,yt(t.extent)*p)});var v=[a[0],a[3]];return s.f.forEach(function(t){var e=t.source,r=t.target,a=e[1][0],s=e[1][1],h=e[2][0],l=e[2][1];t=(r[0][0]-v[0])/o;var u=-(r[0][1]-v[1])/o,p=(r[1][0]-v[0])/o,g=-(r[1][1]-v[1])/o,y=(r[2][0]-v[0])/o,m=-(r[2][1]-v[1])/o,r=e[0][0],e=e[0][1],a=a-r,s=s-e,h=h-r,l=l-e;t:{for(a=[[a,s,0,0,p-t],[h,l,0,0,y-t],[0,0,a,s,g-u],[0,0,h,l,m-u]],s=a.length,h=0;h<s;h++){for(var l=h,b=Math.abs(a[h][h]),w=h+1;w<s;w++){var x=Math.abs(a[w][h]);x>b&&(b=x,l=w)}if(0===b){a=null;break t}for(b=a[l],a[l]=a[h],a[h]=b,l=h+1;l<s;l++)for(b=-a[l][h]/a[h][h],w=h;w<s+1;w++)a[l][w]=h==w?0:a[l][w]+b*a[h][w]}for(h=Array(s),l=s-1;0<=l;l--)for(h[l]=a[l][s]/a[l][l],b=l-1;0<=b;b--)a[b][s]-=a[b][l]*h[l];a=h}a&&(c.save(),c.beginPath(),rf?(h=(t+p+y)/3,l=(u+g+m)/3,s=es(h,l,t,u),p=es(h,l,p,g),y=es(h,l,y,m),c.moveTo(p[0],p[1]),c.lineTo(s[0],s[1]),c.lineTo(y[0],y[1])):(c.moveTo(p,g),c.lineTo(t,u),c.lineTo(y,m)),c.clip(),c.transform(a[0],a[2],a[1],a[3],t,u),c.translate(f[0]-r,f[3]-e),c.scale(n/i,-n/i),c.drawImage(d.canvas,0,0),c.restore())}),u&&(c.save(),c.strokeStyle="black",c.lineWidth=1,s.f.forEach(function(t){var e=t.target;t=(e[0][0]-v[0])/o;var i=-(e[0][1]-v[1])/o,n=(e[1][0]-v[0])/o,r=-(e[1][1]-v[1])/o,a=(e[2][0]-v[0])/o,e=-(e[2][1]-v[1])/o;c.beginPath(),c.moveTo(n,r),c.lineTo(t,i),c.lineTo(a,e),c.closePath(),c.stroke()}),c.restore()),c.canvas}function ns(t,e,i,n,r){this.b=t,this.g=e;var o={},a=Ot(this.g,this.b);this.c=function(t){var e=t[0]+"/"+t[1];return o[e]||(o[e]=a(t)),o[e]},this.i=n,this.u=r*r,this.f=[],this.j=!1,this.l=this.b.c&&!!n&&!!this.b.M()&&bt(n)==bt(this.b.M()),this.a=this.b.M()?bt(this.b.M()):null,this.o=this.g.M()?bt(this.g.M()):null,t=[i[0],i[3]],e=[i[2],i[3]],n=[i[2],i[1]],i=[i[0],i[1]],r=this.c(t);var s=this.c(e),h=this.c(n),l=this.c(i);if(rs(this,t,e,n,i,r,s,h,l,10),this.j){var u=1/0;this.f.forEach(function(t){u=Math.min(u,t.source[0][0],t.source[1][0],t.source[2][0])}),this.f.forEach(function(t){if(Math.max(t.source[0][0],t.source[1][0],t.source[2][0])-u>this.a/2){var e=[[t.source[0][0],t.source[0][1]],[t.source[1][0],t.source[1][1]],[t.source[2][0],t.source[2][1]]];e[0][0]-u>this.a/2&&(e[0][0]-=this.a),e[1][0]-u>this.a/2&&(e[1][0]-=this.a),e[2][0]-u>this.a/2&&(e[2][0]-=this.a),Math.max(e[0][0],e[1][0],e[2][0])-Math.min(e[0][0],e[1][0],e[2][0])<this.a/2&&(t.source=e)}},this)}o={}}function rs(t,e,i,n,r,o,a,s,h,l){var c=et([o,a,s,h]),f=t.a?bt(c)/t.a:null,d=t.a,p=t.b.c&&.5<f&&1>f,v=!1;if(0<l){if(t.g.f&&t.o)var g=et([e,i,n,r]),v=v|.25<bt(g)/t.o;!p&&t.b.f&&f&&(v|=.25<f)}if(v||!t.i||wt(c,t.i)){if(!(v||isFinite(o[0])&&isFinite(o[1])&&isFinite(a[0])&&isFinite(a[1])&&isFinite(s[0])&&isFinite(s[1])&&isFinite(h[0])&&isFinite(h[1]))){if(!(0<l))return;v=!0}if(0<l&&(v||(c=t.c([(e[0]+n[0])/2,(e[1]+n[1])/2]),d=p?(u(o[0],d)+u(s[0],d))/2-u(c[0],d):(o[0]+s[0])/2-c[0],c=(o[1]+s[1])/2-c[1],v=d*d+c*c>t.u),v))return void(Math.abs(e[0]-n[0])<=Math.abs(e[1]-n[1])?(p=[(i[0]+n[0])/2,(i[1]+n[1])/2],d=t.c(p),c=[(r[0]+e[0])/2,(r[1]+e[1])/2],f=t.c(c),rs(t,e,i,p,c,o,a,d,f,l-1),rs(t,c,p,n,r,f,d,s,h,l-1)):(p=[(e[0]+i[0])/2,(e[1]+i[1])/2],d=t.c(p),c=[(n[0]+r[0])/2,(n[1]+r[1])/2],f=t.c(c),rs(t,e,p,c,r,o,d,f,h,l-1),rs(t,p,i,n,c,d,a,s,f,l-1)));if(p){if(!t.l)return;t.j=!0}t.f.push({source:[o,s,h],target:[e,n,r]}),t.f.push({source:[o,a,s],target:[e,i,n]})}}function os(t){var e=at();return t.f.forEach(function(t){t=t.source,ft(e,t[0]),ft(e,t[1]),ft(e,t[2])}),e}function as(t){D.call(this),this.g=jt(t.projection),this.B=ss(t.attributions),this.P=t.logo,this.V=void 0!==t.state?t.state:"ready",this.u=void 0!==t.wrapX&&t.wrapX}function ss(t){if("string"==typeof t)return[new Ge({html:t})];if(t instanceof Ge)return[t];if(Array.isArray(t)){for(var e=t.length,i=Array(e),n=0;n<e;n++){var r=t[n];i[n]="string"==typeof r?new Ge({html:r}):r}return i}return null}function hs(){this.a="precision mediump float;varying vec2 a;uniform sampler2D e;void main(void){gl_FragColor=texture2D(e,a);}"}function ls(){this.a="varying vec2 a;attribute vec2 b;attribute vec2 c;uniform vec4 d;void main(void){gl_Position=vec4(b*d.xy+d.zw,0.,1.);a=c;}"}function us(t,e){this.b=t.getUniformLocation(e,"e"),this.f=t.getUniformLocation(e,"d"),this.a=t.getAttribLocation(e,"b"),this.c=t.getAttribLocation(e,"c")}function cs(t,e){Qa.call(this,t,e),this.L=sf,this.ia=hf,this.b=null,this.G=new Ro([0,0,0,1,1,0,1,1,0,1,0,0,1,1,1,0]),this.A=this.g=null,this.l=-1,this.P=[0,0]}function fs(t,e){Qa.call(this,t,e),this.g=!1,this.P=-1,this.L=NaN,this.A=at(),this.l=this.b=this.G=null}function ds(){this.f=0,this.b={},this.c=this.a=null}function ps(t,e){return t.b.hasOwnProperty(e)}function vs(t,e){lr.call(this,0,e),this.a=document.createElement("CANVAS"),this.a.style.width="100%",this.a.style.height="100%",this.a.className="ol-unselectable",t.insertBefore(this.a,t.childNodes[0]||null),this.F=this.B=0,this.A=ti(),this.l=!0,this.f=fi(this.a,{antialias:!0,depth:!0,failIfMajorPerformanceCaveat:!0,preserveDrawingBuffer:!1,stencil:!0}),this.g=new Uo(this.a,this.f),M(this.a,"webglcontextlost",this.Ke,this),M(this.a,"webglcontextrestored",this.Le,this),this.c=new ds,this.D=null,this.o=new Wi(function(t){var e=t[1];t=t[2];var i=e[0]-this.D[0],e=e[1]-this.D[1];return 65536*Math.log(t)+Math.sqrt(i*i+e*e)/t}.bind(this),function(t){return t[0].getKey()}),this.C=function(){if(0!==this.o.a.length){zi(this.o);var t=Xi(this.o);gs(this,t[0],t[3],t[4])}return!1}.bind(this),this.i=0,ms(this)}function gs(t,e,i,n){var r=t.f,o=e.getKey();if(ps(t.c,o))t=t.c.get(o),r.bindTexture(3553,t.Ia),9729!=t.Zc&&(r.texParameteri(3553,10240,9729),t.Zc=9729),9729!=t.$c&&(r.texParameteri(3553,10241,9729),t.$c=9729);else{var a=r.createTexture();if(r.bindTexture(3553,a),0<n){var s=t.A.canvas,h=t.A;t.B!==i[0]||t.F!==i[1]?(s.width=i[0],s.height=i[1],t.B=i[0],t.F=i[1]):h.clearRect(0,0,i[0],i[1]),h.drawImage(e.Za(),n,n,i[0],i[1],0,0,i[0],i[1]),r.texImage2D(3553,0,6408,6408,5121,s)}else r.texImage2D(3553,0,6408,6408,5121,e.Za());r.texParameteri(3553,10240,9729),r.texParameteri(3553,10241,9729),r.texParameteri(3553,10242,33071),r.texParameteri(3553,10243,33071),t.c.set(o,{Ia:a,Zc:9729,$c:9729})}}function ys(t,e,i){var n=t.j;if(F(n,e)){t=t.g;var r=i.viewState;P(n,new Zn(e,new qa(t,r.center,r.resolution,r.rotation,i.size,i.extent,i.pixelRatio),i,null,t))}}function ms(t){t=t.f,t.activeTexture(33984),t.blendFuncSeparate(770,771,1,771),t.disable(2884),t.disable(2929),t.disable(3089),t.disable(2960)}function bs(t){D.call(this);var e=Ms(t);this.Oa=void 0!==t.loadTilesWhileAnimating&&t.loadTilesWhileAnimating,this.Ub=void 0!==t.loadTilesWhileInteracting&&t.loadTilesWhileInteracting,this.Tb=void 0!==t.pixelRatio?t.pixelRatio:qu,this.Vb=e.logos,this.Aa=function(){this.i=void 0,this.cf.call(this,Date.now())}.bind(this),this.Ba=er(),this.Zb=er(),this.Ja=0,this.b=null,this.za=at(),this.B=this.C=this.G=null,this.a=document.createElement("DIV"),this.a.className="ol-viewport"+(Zu?" ol-touch":""),this.a.style.position="relative",this.a.style.overflow="hidden",this.a.style.width="100%",this.a.style.height="100%",this.a.style.msTouchAction="none",this.a.style.touchAction="none",this.u=document.createElement("DIV"),this.u.className="ol-overlaycontainer",this.a.appendChild(this.u),this.l=document.createElement("DIV"),this.l.className="ol-overlaycontainer-stopevent",t="click dblclick mousedown touchstart mspointerdown pointerdown mousewheel wheel".split(" ");for(var i=0,n=t.length;i<n;++i)M(this.l,t[i],I);this.a.appendChild(this.l),this.ca=new Ni(this);for(var r in Vu)M(this.ca,Vu[r],this.Vc,this);this.ba=e.keyboardEventTarget,this.j=null,M(this.a,"wheel",this.Va,this),M(this.a,"mousewheel",this.Va,this),this.L=e.controls,this.g=e.interactions,this.A=e.overlays,this.kd={},this.V=new e.df(this.a,this),this.P=null,this.ta=[],this.sa=[],this.ia=new Yi(this.Rd.bind(this),this.je.bind(this)),this.ac={},M(this,R(uf),this.Wd,this),M(this,R(df),this.ke,this),M(this,R(cf),this.ge,this),M(this,R(ff),this.ie,this),j(this,e.values),this.L.forEach(function(t){t.setMap(this)},this),M(this.L,Ru,function(t){t.element.setMap(this)},this),M(this.L,ju,function(t){t.element.setMap(null)},this),this.g.forEach(function(t){t.setMap(this)},this),M(this.g,Ru,function(t){t.element.setMap(this)},this),M(this.g,ju,function(t){t.element.setMap(null)},this),this.A.forEach(this.Jc,this),M(this.A,Ru,function(t){this.Jc(t.element)},this),M(this.A,ju,function(t){var e=t.element.bd;void 0!==e&&delete this.kd[e.toString()],t.element.setMap(null)},this)}function ws(t){return t=t.get(ff),void 0!==t?"string"==typeof t?document.getElementById(t):t:null}function xs(t,e){var i=t.b;return i?ar(i.coordinateToPixelTransform,e.slice(0,2)):null}function Ms(t){var e=null;void 0!==t.keyboardEventTarget&&(e="string"==typeof t.keyboardEventTarget?document.getElementById(t.keyboardEventTarget):t.keyboardEventTarget);var i={},n={};if(void 0===t.logo||"boolean"==typeof t.logo&&t.logo)n["data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAMAAABEpIrGAAAAA3NCSVQICAjb4U/gAAAACXBIWXMAAAHGAAABxgEXwfpGAAAAGXRFWHRTb2Z0d2FyZQB3d3cuaW5rc2NhcGUub3Jnm+48GgAAAhNQTFRF////AP//AICAgP//AFVVQECA////K1VVSbbbYL/fJ05idsTYJFtbbcjbJllmZszWWMTOIFhoHlNiZszTa9DdUcHNHlNlV8XRIVdiasrUHlZjIVZjaMnVH1RlIFRkH1RkH1ZlasvYasvXVsPQH1VkacnVa8vWIVZjIFRjVMPQa8rXIVVkXsXRsNveIFVkIFZlIVVj3eDeh6GmbMvXH1ZkIFRka8rWbMvXIFVkIFVjIFVkbMvWH1VjbMvWIFVlbcvWIFVla8vVIFVkbMvWbMvVH1VkbMvWIFVlbcvWIFVkbcvVbMvWjNPbIFVkU8LPwMzNIFVkbczWIFVkbsvWbMvXIFVkRnB8bcvW2+TkW8XRIFVkIlZlJVloJlpoKlxrLl9tMmJwOWd0Omh1RXF8TneCT3iDUHiDU8LPVMLPVcLPVcPQVsPPVsPQV8PQWMTQWsTQW8TQXMXSXsXRX4SNX8bSYMfTYcfTYsfTY8jUZcfSZsnUaIqTacrVasrVa8jTa8rWbI2VbMvWbcvWdJObdcvUdszUd8vVeJaee87Yfc3WgJyjhqGnitDYjaarldPZnrK2oNbborW5o9bbo9fbpLa6q9ndrL3ArtndscDDutzfu8fJwN7gwt7gxc/QyuHhy+HizeHi0NfX0+Pj19zb1+Tj2uXk29/e3uLg3+Lh3+bl4uXj4ufl4+fl5Ofl5ufl5ujm5+jmySDnBAAAAFp0Uk5TAAECAgMEBAYHCA0NDg4UGRogIiMmKSssLzU7PkJJT1JTVFliY2hrdHZ3foSFhYeJjY2QkpugqbG1tre5w8zQ09XY3uXn6+zx8vT09vf4+Pj5+fr6/P39/f3+gz7SsAAAAVVJREFUOMtjYKA7EBDnwCPLrObS1BRiLoJLnte6CQy8FLHLCzs2QUG4FjZ5GbcmBDDjxJBXDWxCBrb8aM4zbkIDzpLYnAcE9VXlJSWlZRU13koIeW57mGx5XjoMZEUqwxWYQaQbSzLSkYGfKFSe0QMsX5WbjgY0YS4MBplemI4BdGBW+DQ11eZiymfqQuXZIjqwyadPNoSZ4L+0FVM6e+oGI6g8a9iKNT3o8kVzNkzRg5lgl7p4wyRUL9Yt2jAxVh6mQCogae6GmflI8p0r13VFWTHBQ0rWPW7ahgWVcPm+9cuLoyy4kCJDzCm6d8PSFoh0zvQNC5OjDJhQopPPJqph1doJBUD5tnkbZiUEqaCnB3bTqLTFG1bPn71kw4b+GFdpLElKIzRxxgYgWNYc5SCENVHKeUaltHdXx0dZ8uBI1hJ2UUDgq82CM2MwKeibqAvSO7MCABq0wXEPiqWEAAAAAElFTkSuQmCC"]="https://openlayers.org/";else{var r=t.logo;"string"==typeof r?n[r]="":r instanceof HTMLElement?n[o(r).toString()]=r:r&&(s("string"==typeof r.href,44),s("string"==typeof r.src,45),n[r.src]=r.href)}r=t.layers instanceof zn?t.layers:new zn({layers:t.layers}),i[uf]=r,i[ff]=t.target,i[df]=void 0!==t.view?t.view:new ge;var a,r=lr;void 0!==t.renderer?(Array.isArray(t.renderer)?a=t.renderer:"string"==typeof t.renderer?a=[t.renderer]:s(!1,46),0<=a.indexOf("dom")&&(a=a.concat(lf))):a=lf;var h,l;for(h=0,l=a.length;h<l;++h){var u=a[h];if("canvas"==u){if(Ku){r=Mo;break}}else if("webgl"==u&&Uu){r=vs;break}}return void 0!==t.controls?Array.isArray(t.controls)?a=new ze(t.controls.slice()):(s(t.controls instanceof ze,47),a=t.controls):a=li(),void 0!==t.interactions?Array.isArray(t.interactions)?h=new ze(t.interactions.slice()):(s(t.interactions instanceof ze,48),h=t.interactions):h=Xn(),void 0!==t.overlays?Array.isArray(t.overlays)?t=new ze(t.overlays.slice()):(s(t.overlays instanceof ze,49),t=t.overlays):t=new ze,{controls:a,interactions:h,keyboardEventTarget:e,logos:n,overlays:t,df:r,values:i}}function Ss(t){D.call(this),this.bd=t.id,this.j=void 0===t.insertFirst||t.insertFirst,this.l=void 0===t.stopEvent||t.stopEvent,this.b=document.createElement("DIV"),this.b.className="ol-overlay-container",this.b.style.position="absolute",this.autoPan=void 0!==t.autoPan&&t.autoPan,this.g=t.autoPanAnimation||{},this.i=void 0!==t.autoPanMargin?t.autoPanMargin:20,this.a={Ab:"",Ib:"",Mb:"",Rb:"",visible:!0},this.f=null,M(this,R(Sf),this.Vd,this),M(this,R(Cf),this.ae,this),M(this,R(Lf),this.be,this),M(this,R(kf),this.de,this),M(this,R(Af),this.ee,this),void 0!==t.element&&this.set(Sf,t.element),this.set(Lf,void 0!==t.offset?t.offset:[0,0]),this.set(Af,void 0!==t.positioning?t.positioning:wf),void 0!==t.position&&this.set(kf,t.position)}function Cs(t,e){var i=t.getBoundingClientRect(),n=i.left+window.pageXOffset,i=i.top+window.pageYOffset;return[n,i,n+e[0],i+e[1]]}function Ls(t,e){t.a.visible!==e&&(t.b.style.display=e?"":"none",t.a.visible=e)}function ks(t){var e=t.get(Cf),i=t.get(kf);if(void 0!==e&&e.b&&void 0!==i){var i=xs(e,i),n=e.Ya(),e=t.b.style,r=t.get(Lf),o=t.get(Af),a=r[0],r=r[1];o==gf||o==bf||o==Mf?(""!==t.a.Ib&&(t.a.Ib=e.left=""),a=Math.round(n[0]-i[0]-a)+"px",t.a.Mb!=a&&(t.a.Mb=e.right=a)):(""!==t.a.Mb&&(t.a.Mb=e.right=""),o!=vf&&o!=mf&&o!=xf||(a-=t.b.offsetWidth/2),a=Math.round(i[0]+a)+"px",t.a.Ib!=a&&(t.a.Ib=e.left=a)),o==pf||o==vf||o==gf?(""!==t.a.Rb&&(t.a.Rb=e.top=""),i=Math.round(n[1]-i[1]-r)+"px",t.a.Ab!=i&&(t.a.Ab=e.bottom=i)):(""!==t.a.Ab&&(t.a.Ab=e.bottom=""),o!=yf&&o!=mf&&o!=bf||(r-=t.b.offsetHeight/2),i=Math.round(i[1]+r)+"px",t.a.Rb!=i&&(t.a.Rb=e.top=i)),Ls(t,!0)}else Ls(t,!1)}function As(t){D.call(this),this.a=void 0,this.b="geometry",this.i=null,this.g=void 0,this.f=null,M(this,R(this.b),this.Gb,this),void 0!==t&&(t instanceof Ht||!t?this.Da(t):j(this,t))}function Es(t,e){S(t,R(t.b),t.Gb,t),t.b=e,M(t,R(t.b),t.Gb,t),t.Gb()}function Is(t){if("function"!=typeof t){var e;Array.isArray(t)?e=t:(s(t instanceof Mr,41),e=[t]),t=function(){return e}}return t}function Ts(t){return Ps(t,!1,[]).join("")}function Ps(t,e,i){if(t.nodeType==Node.CDATA_SECTION_NODE||t.nodeType==Node.TEXT_NODE)e?i.push(String(t.nodeValue).replace(/(\r\n|\r|\n)/g,"")):i.push(t.nodeValue);else for(t=t.firstChild;t;t=t.nextSibling)Ps(t,e,i);return i}function Fs(t){return(new DOMParser).parseFromString(t,"application/xml")}function _s(t,e){return function(i,n){var r=t.call(void 0!==e?e:this,i,n);void 0!==r&&n[n.length-1].push(r)}}function Ds(t,e){return function(i,n){var r=t.call(void 0!==e?e:this,i,n);void 0!==r&&(n[n.length-1]=r)}}function Rs(t){return function(e,i){var n=t.call(this,e,i);if(void 0!==n){var r,o=i[i.length-1],a=e.localName;r=a in o?o[a]:o[a]=[],r.push(n)}}}function js(t,e){return function(i,n){var r=t.call(this,i,n);void 0!==r&&(n[n.length-1][void 0!==e?e:i.localName]=r)}}function Ns(t){return function(e,i,n){t.call(this,e,i,n),n[n.length-1].node.appendChild(e)}}function Os(t){var e,i;return function(n,r,o){if(void 0===e){e={};var a={};a[n.localName]=t,e[n.namespaceURI]=a,i=Bs(n.localName)}Hs(e,i,r,o)}}function Bs(t){return function(e,i,n){return e=i[i.length-1].node,i=t,void 0===i&&(i=n),Ef.createElementNS(e.namespaceURI,i)}}function Vs(t,e){for(var i=e.length,n=Array(i),r=0;r<i;++r)n[r]=t[e[r]];return n}function Us(t,e,i){i=void 0!==i?i:{};var n,r;for(n=0,r=t.length;n<r;++n)i[t[n]]=e;return i}function Ws(t,e,i,n){for(e=e.firstElementChild;e;e=e.nextElementSibling){var r=t[e.namespaceURI];void 0!==r&&(r=r[e.localName])&&r.call(n,e,i)}}function Xs(t,e,i,n,r){return n.push(t),Ws(e,i,n,r),n.pop()}function Hs(t,e,i,n,r,o){for(var a,s,h=(void 0!==r?r:i).length,l=0;l<h;++l)a=i[l],void 0!==a&&(s=e.call(o,a,n,void 0!==r?r[l]:void 0),void 0!==s&&t[s.namespaceURI][s.localName].call(o,s,a,n))}function Gs(t,e,i,n,r,o,a){r.push(t),Hs(e,i,n,r,o,a),r.pop()}function zs(t,e,i){return function(n,r,o){var a=new XMLHttpRequest;a.open("GET","function"==typeof t?t(n,r,o):t,!0),"arraybuffer"==e.$()&&(a.responseType="arraybuffer"),a.onload=function(){if(!a.status||200<=a.status&&300>a.status){var t,n=e.$();"json"==n||"text"==n?t=a.responseText:"xml"==n?(t=a.responseXML)||(t=Fs(a.responseText)):"arraybuffer"==n&&(t=a.response),t&&i.call(this,e.i(t,{featureProjection:o}),e.b(t))}}.bind(this),a.send()}}function Ys(t,e){return zs(t,e,function(t){Pl(this,t),this.v()})}function qs(){this.f=this.defaultDataProjection=null}function Js(t,e,i){var n;return i&&(n={dataProjection:i.dataProjection?i.dataProjection:t.b(e),featureProjection:i.featureProjection}),Mu({dataProjection:t.defaultDataProjection,featureProjection:t.f},n)}function Ks(t,e,i){var n,r=i?jt(i.featureProjection):null,o=i?jt(i.dataProjection):null;if(n=r&&o&&!Nt(r,o)?t instanceof Ht?(e?t.clone():t).transform(e?r:o,e?o:r):Xt(e?t.slice():t,e?r:o,e?o:r):t,e&&i&&i.decimals){var a=Math.pow(10,i.decimals);t=function(t){for(var e=0,i=t.length;e<i;++e)t[e]=Math.round(t[e]*a)/a;return t},Array.isArray(n)?t(n):n.zb(t)}return n}function Zs(){qs.call(this)}function Qs(t){return"string"==typeof t?(t=JSON.parse(t))?t:null:null!==t?t:null}function $s(t,e,i,n,r,o){var a=NaN,s=NaN,h=(i-e)/n;if(0!==h)if(1==h)a=t[e],s=t[e+1];else if(2==h)a=(1-r)*t[e]+r*t[e+n],s=(1-r)*t[e+1]+r*t[e+n+1];else{var l,s=t[e],h=t[e+1],u=0,a=[0];for(l=e+n;l<i;l+=n){var c=t[l],f=t[l+1],u=u+Math.sqrt((c-s)*(c-s)+(f-h)*(f-h));a.push(u),s=c,h=f}for(i=r*u,h=0,u=a.length,l=!1;h<u;)r=h+(u-h>>1),s=+O(a[r],i),0>s?h=r+1:(u=r,l=!s);r=l?h:~h,0>r?(i=(i-a[-r-2])/(a[-r-1]-a[-r-2]),e+=(-r-2)*n,a=t[e],a+=i*(t[e+n]-a),r=t[e+1],s=r+i*(t[e+n+1]-r)):(a=t[e+r*n],s=t[e+r*n+1])}return o?(o[0]=a,o[1]=s,o):[a,s]}function th(t,e){Yt.call(this),this.f=null,this.j=-1,this.ea(t,e)}function eh(t){return t.j!=t.c&&(t.f=t.Sc(.5,t.f),t.j=t.c),t.f}function ih(t,e){Yt.call(this),this.f=[],this.ea(t,e)}function nh(t){var e=t.s,i=t.f;t=t.X;var n,r,o=[],a=0;for(n=0,r=i.length;n<r;++n){var s=i[n],h=new th(null);h.U(t,e.slice(a,s)),o.push(h),a=s}return o}function rh(t){var e=[],i=t.s,n=0,r=t.f;t=t.a;var o,a;for(o=0,a=r.length;o<a;++o){var s=r[o],n=$s(i,n,s,t,.5);V(e,n),n=s}return e}function oh(t,e){var i,n,r=t.X,o=[],a=[];for(i=0,n=e.length;i<n;++i){var s=e[i];0===i&&(r=s.X),V(o,s.s),a.push(o.length)}t.U(r,o,a)}function ah(t,e){Yt.call(this),this.ea(t,e)}function sh(t,e){Yt.call(this),this.f=[],this.A=-1,this.C=null,this.G=-1,this.j=null,this.ea(t,e)}function hh(t){if(t.A!=t.c){var e,i,n,r=t.s,o=t.f,a=t.a,s=0,h=[];for(e=0,i=o.length;e<i;++e){var l=o[e];n=r;var u=l[0],c=a,f=ht(void 0);n=dt(f,n,s,u,c),h.push((n[0]+n[2])/2,(n[1]+n[3])/2),s=l[l.length-1]}for(r=lh(t),o=t.f,a=t.a,e=0,i=[],l=0,n=o.length;l<n;++l)s=o[l],i=se(r,e,s,a,h,2*l,i),e=s[s.length-1];t.C=i,t.A=t.c}return t.C}function lh(t){if(t.G!=t.c){var e,i=t.s;t:{e=t.f;var n,r;for(n=0,r=e.length;n<r;++n)if(!le(i,e[n],t.a,void 0)){e=!1;break t}e=!0}e?t.j=i:(t.j=i.slice(),t.j.length=ce(t.j,t.f,t.a)),t.G=t.c}return t.j}function uh(t){var e=t.X,i=t.s;t=t.f;var n,r,o,a,s=[],h=0;for(n=0,r=t.length;n<r;++n){var l=t[n].slice(),u=l[l.length-1];if(0!==h)for(o=0,a=l.length;o<a;++o)l[o]-=h;o=new fe(null),o.U(e,i.slice(h,u),l),s.push(o),h=u}return s}function ch(t,e,i,n){Jt(t,e,i),t.f=n,t.v()}function fh(t){Ht.call(this),this.b=t?t:null,vh(this)}function dh(t){var e,i,n=[];for(e=0,i=t.length;e<i;++e)n.push(t[e].clone());return n}function ph(t){var e,i;if(t.b)for(e=0,i=t.b.length;e<i;++e)S(t.b[e],"change",t.v,t)}function vh(t){var e,i;if(t.b)for(e=0,i=t.b.length;e<i;++e)M(t.b[e],"change",t.v,t)}function gh(t){t=t?t:{},qs.call(this),this.defaultDataProjection=jt(t.defaultDataProjection?t.defaultDataProjection:"EPSG:4326"),t.featureProjection&&(this.f=jt(t.featureProjection)),this.a=t.geometryName}function yh(t,e){return t?Ks((0,Tf[t.type])(t),!1,e):null}function mh(t,e,i){e="Feature"===e.type?e:{type:"Feature",geometry:e},i=yh(e.geometry,i);var n=new As;return t.a&&Es(n,t.a),n.Da(i),void 0!==e.id&&(n.a=e.id,n.v()),e.properties&&j(n,e.properties),n}function bh(){new XMLSerializer,qs.call(this)}function wh(t,e,i){var n=[];for(e=e.firstChild;e;e=e.nextSibling)e.nodeType==Node.ELEMENT_NODE&&V(n,Mh(t,e,i));return n}function xh(t){t=t?t:{},this.featureType=t.featureType,this.featureNS=t.featureNS,this.srsName=t.srsName,this.schemaLocation="",this.a={},this.a["http://www.opengis.net/gml"]={featureMember:Ds(xh.prototype.c),featureMembers:Ds(xh.prototype.c)},bh.call(this)}function Mh(t,e,i){var n={featureType:t.featureType,featureNS:t.featureNS};return i&&Mu(n,Js(t,e,i)),t.c(e,[n])||[]}function Sh(t){return t=Ts(t),Ch(t)}function Ch(t){if(t=/^\s*(true|1)|(false|0)\s*$/.exec(t))return void 0!==t[1]||!1}function Lh(t){return t=Ts(t),t=Date.parse(t),isNaN(t)?void 0:t/1e3}function kh(t){return t=Ts(t),Ah(t)}function Ah(t){if(t=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*$/i.exec(t))return parseFloat(t[1])}function Eh(t){return t=Ts(t),Ih(t)}function Ih(t){if(t=/^\s*(\d+)\s*$/.exec(t))return parseInt(t[1],10)}function Th(t){return Ts(t).trim()}function Ph(t,e){Dh(t,e?"1":"0")}function Fh(t,e){t.appendChild(Ef.createTextNode(e.toPrecision()))}function _h(t,e){t.appendChild(Ef.createTextNode(e.toString()))}function Dh(t,e){t.appendChild(Ef.createTextNode(e))}function Rh(t,e,i,n){return t.push(parseFloat(i.getAttribute("lon")),parseFloat(i.getAttribute("lat"))),"ele"in n?(t.push(n.ele),delete n.ele,e.nc=!0):t.push(0),"time"in n?(t.push(n.time),delete n.time,e.mc=!0):t.push(0),t}function jh(t,e,i){var n="XY",r=2;if(t.nc&&t.mc?(n="XYZM",r=4):t.nc?(n="XYZ",r=3):t.mc&&(n="XYM",r=3),4!==r){var o,a;for(o=0,a=e.length/4;o<a;o++)e[o*r]=e[4*o],e[o*r+1]=e[4*o+1],t.nc&&(e[o*r+2]=e[4*o+2]),t.mc&&(e[o*r+2]=e[4*o+3]);if(e.length=e.length/4*r,i)for(o=0,a=i.length;o<a;o++)i[o]=i[o]/4*r}return n}function Nh(t,e){var i=e[e.length-1],n=t.getAttribute("href");null!==n&&(i.link=n),Ws(_f,t,e)}function Oh(t,e){e[e.length-1].extensionsNode_=t}function Bh(t,e,i){t.setAttribute("href",e),e=i[i.length-1].properties,Gs({node:t},Uf,If,[e.linkText,e.linkType],i,Vf)}function Vh(t,e,i){var n=i[i.length-1],r=n.node.namespaceURI,o=n.properties;switch(t.setAttributeNS(null,"lat",e[1]),t.setAttributeNS(null,"lon",e[0]),n.geometryLayout){case"XYZM":0!==e[3]&&(o.time=e[3]);case"XYZ":0!==e[2]&&(o.ele=e[2]);break;case"XYM":0!==e[2]&&(o.time=e[2])}e="rtept"==t.nodeName?Hf[r]:Jf[r],n=Vs(o,e),Gs({node:t,properties:o},Kf,If,n,i,e)}function Uh(t,e,i,n,r,o){T.call(this),this.o=null,this.a=t?t:new Image,null!==n&&(this.a.crossOrigin=n),this.f=o?document.createElement("CANVAS"):null,this.i=o,this.g=null,this.b=r,this.c=i,this.j=e,this.l=!1,2==this.b&&Wh(this)}function Wh(t){var e=ti(1,1);try{e.drawImage(t.a,0,0),e.getImageData(0,0,1,1)}catch(e){t.l=!0}}function Xh(t){t=t||{},this.f=void 0!==t.anchor?t.anchor:[.5,.5],this.i=null,this.c=void 0!==t.anchorOrigin?t.anchorOrigin:td,this.A=void 0!==t.anchorXUnits?t.anchorXUnits:Zf,this.C=void 0!==t.anchorYUnits?t.anchorYUnits:Zf,this.L=void 0!==t.crossOrigin?t.crossOrigin:null;var e=void 0!==t.img?t.img:null,i=void 0!==t.imgSize?t.imgSize:null,n=t.src;s(!(void 0!==n&&e),4),s(!e||e&&i,5),void 0!==n&&0!==n.length||!e||(n=e.src||o(e).toString()),s(void 0!==n&&0<n.length,6);var r=void 0!==t.src?0:2;this.g=void 0!==t.color?Ke(t.color):null;var a=this.L,h=this.g,l=Ac.get(n,a,h);l||(l=new Uh(e,n,i,a,r,h),Ac.set(n,a,h,l)),this.a=l,this.G=void 0!==t.offset?t.offset:[0,0],this.b=void 0!==t.offsetOrigin?t.offsetOrigin:td,this.l=null,this.D=void 0!==t.size?t.size:null,yr.call(this,{opacity:void 0!==t.opacity?t.opacity:1,rotation:void 0!==t.rotation?t.rotation:0,scale:void 0!==t.scale?t.scale:1,snapToPixel:void 0===t.snapToPixel||t.snapToPixel,rotateWithView:void 0!==t.rotateWithView&&t.rotateWithView})}function Hh(t){t=t||{},this.f=t.font,this.j=t.rotation,this.o=t.rotateWithView,this.c=t.scale,this.D=t.text,this.l=t.textAlign,this.u=t.textBaseline,this.a=void 0!==t.fill?t.fill:new wr({color:"#333"}),this.b=void 0!==t.stroke?t.stroke:null,this.g=void 0!==t.offsetX?t.offsetX:0,this.i=void 0!==t.offsetY?t.offsetY:0}function Gh(t){if(t=Ts(t),t=/^\s*#?\s*([0-9A-Fa-f]{8})\s*$/.exec(t))return t=t[1],[parseInt(t.substr(6,2),16),parseInt(t.substr(4,2),16),parseInt(t.substr(2,2),16),parseInt(t.substr(0,2),16)/255]}function zh(t){t=Ts(t);for(var e,i=[],n=/^\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?)(?:\s*,\s*([+\-]?\d*\.?\d+(?:e[+\-]?\d+)?))?\s*/i;e=n.exec(t);)i.push(parseFloat(e[1]),parseFloat(e[2]),e[3]?parseFloat(e[3]):0),t=t.substr(e[0].length);return""!==t?void 0:i}function Yh(t){var e=Ts(t).trim();return t.baseURI?new URL(e,t.baseURI).href:e}function qh(t){return kh(t)}function Jh(t,e){return Xs(null,cd,t,e)}function Kh(t,e){var i=Xs({s:[],vd:[]},dd,t,e);if(i){var n,r,o=i.s,i=i.vd;for(n=0,r=Math.min(o.length,i.length);n<r;++n)o[4*n+3]=i[n];return i=new th(null),i.U("XYZM",o),i}}function Zh(t,e){var i=Xs({},ud,t,e),n=Xs(null,pd,t,e);if(n){var r=new th(null);return r.U("XYZ",n),j(r,i),r}}function Qh(t,e){var i=Xs({},ud,t,e),n=Xs(null,pd,t,e);if(n){var r=new fe(null);return r.U("XYZ",n,[n.length]),j(r,i),r}}function $h(t,e){var i=Xs([],wd,t,e);if(!i)return null;if(0===i.length)return new fh(i);var n,r,o,a,h=!0,l=i[0].$();for(o=1,a=i.length;o<a;++o)if(r=i[o],r.$()!=l){h=!1;break}if(h)if("Point"==l){for(n=i[0],h=n.X,l=n.s,o=1,a=i.length;o<a;++o)r=i[o],V(l,r.s);n=new ah(null),n.U(h,l),nl(n,i)}else if("LineString"==l)n=new ih(null),oh(n,i),nl(n,i);else if("Polygon"==l){r=n=new sh(null),o=r.X,a=[];var u,c,h=[],l=0;for(u=i.length;l<u;++l){var f=i[l];0===l&&(o=f.X);var d=a.length;c=f.Ta();var p,v;for(p=0,v=c.length;p<v;++p)c[p]+=d;V(a,f.s),h.push(c)}ch(r,o,a,h),nl(n,i)}else"GeometryCollection"==l?n=new fh(i):s(!1,37);else n=new fh(i);return n}function tl(t,e){var i=Xs({},ud,t,e),n=Xs(null,pd,t,e);if(n){var r=new oe(null);return r.U("XYZ",n),j(r,i),r}}function el(t,e){var i=Xs({},ud,t,e),n=Xs([null],fd,t,e);if(n&&n[0]){var r,o,a=new fe(null),s=n[0],h=[s.length];for(r=1,o=n.length;r<o;++r)V(s,n[r]),h.push(s.length);return a.U("XYZ",s,h),j(a,i),a}}function il(t,e){var i=Xs({},Ad,t,e);if(!i)return null;var n="fillStyle"in i?i.fillStyle:void 0,r=i.fill;void 0===r||r||(n=null),r="imageStyle"in i?i.imageStyle:void 0,void 0==r&&(r=void 0);var o="textStyle"in i?i.textStyle:void 0,a="strokeStyle"in i?i.strokeStyle:void 0,i=i.outline;return void 0===i||i||(a=null),[new Mr({fill:n,image:r,stroke:a,text:o,zIndex:void 0})]}function nl(t,e){var i,n,r,o,a=e.length,s=Array(e.length),h=Array(e.length);for(r=o=!1,n=0;n<a;++n)i=e[n],s[n]=i.get("extrude"),h[n]=i.get("altitudeMode"),r=r||void 0!==s[n],o=o||h[n];r&&t.set("extrude",s),o&&t.set("altitudeMode",h)}function rl(t,e){Ws(ad,t,e)}function ol(t,e){Ws(sd,t,e)}function al(t,e){var i,n=Ke(e),n=[255*(4==n.length?n[3]:1),n[2],n[1],n[0]];for(i=0;4>i;++i){var r=parseInt(n[i],10).toString(16);n[i]=1==r.length?"0"+r:r}Dh(t,n.join(""))}function sl(t,e,i){t={node:t};var n,r,o=e.$();if("GeometryCollection"==o)n=dh(e.b),r=vl;else if("MultiPoint"==o){n=e.s,r=e.X,e=e.a;var a,h,o=[];for(a=0,h=n.length;a<h;a+=e){var l=new oe(null);l.U(r,n.slice(a,a+e)),o.push(l)}n=o,r=tp}else"MultiLineString"==o?(n=nh(e),r=ep):"MultiPolygon"==o?(n=uh(e),r=np):s(!1,39);Gs(t,Ud,r,n,i)}function hl(t,e,i){Gs({node:t},Vd,ip,[e],i)}function ll(t,e,i){var n={node:t};e.a&&t.setAttribute("id",e.a),t=Mu({},e.o);var r={address:1,description:1,name:1,open:1,phoneNumber:1,styleUrl:1,visibility:1};r[e.b]=1;var o=Object.keys(t||{}).sort().filter(function(t){return!r[t]});if(0<o.length){var a=Vs(t,o);Gs(n,Xd,Qd,[{names:o,values:a}],i)}(o=e.g)&&(o=o.call(e,0))&&(o=Array.isArray(o)?o[0]:o,this.a&&(t.Style=o),(o=o.ha())&&(t.name=o.ha())),o=Wd[i[i.length-1].node.namespaceURI],t=Vs(t,o),Gs(n,Xd,If,t,i,o),t=i[0],(e=e.T())&&(e=Ks(e,!0,t)),Gs(n,Xd,vl,[e],i)}function ul(t,e,i){var n=e.s;t={node:t},t.layout=e.X,t.stride=e.a,Gs(t,Hd,Kd,[n],i)}function cl(t,e,i){e=pe(e);var n=e.shift();t={node:t},Gs(t,Gd,$d,e,i),Gs(t,Gd,rp,[n],i)}function fl(t,e){Fh(t,Math.round(1e6*e)/1e6)}function dl(t,e,i){return Ef.createElementNS(id[0],"gx:"+i)}function pl(t,e){return Ef.createElementNS(e[e.length-1].node.namespaceURI,"Placemark")}function vl(t,e){if(t)return Ef.createElementNS(e[e.length-1].node.namespaceURI,Pd[t.$()])}function gl(t,e){e[e.length-1].tb[t.getAttribute("k")]=t.getAttribute("v")}function yl(t){return t.getAttributeNS("http://www.w3.org/1999/xlink","href")}function ml(t,e){return Xs({},Vp,t,e)}function bl(t,e){return Xs({},jp,t,e)}function wl(t,e){var i=ml(t,e);if(i){var n=[Ih(t.getAttribute("width")),Ih(t.getAttribute("height"))];return i.size=n,i}}function xl(t,e){return Xs([],Up,t,e)}function Ml(t){var e=Th(t).split(" ");if(e&&2==e.length)return t=+e[0],e=+e[1],isNaN(t)||isNaN(e)?void 0:[t,e]}function Sl(t,e,i){Yt.call(this),Cl(this,t,e?e:0,i)}function Cl(t,e,i,n){if(e){Kt(t,n,e,0),t.s||(t.s=[]),n=t.s,e=Zt(n,e),n[e++]=n[0]+i;var r;for(i=1,r=t.a;i<r;++i)n[e++]=n[i];n.length=e}else Jt(t,"XY",null);t.v()}function Ll(t,e,i,n,r){Vi.call(this,t,e),this.f=i,this.c=new Image,null!==n&&(this.c.crossOrigin=n),this.b=null,this.g=r}function kl(t){t.b.forEach(C),t.b=null}function Al(){return[[-(1/0),-(1/0),1/0,1/0]]}function El(t){t=t||{},as.call(this,{attributions:t.attributions,logo:t.logo,projection:void 0,state:"ready",wrapX:void 0===t.wrapX||t.wrapX}),this.A=n,this.G=t.format,this.ba=void 0==t.overlaps||t.overlaps,this.L=t.url,void 0!==t.loader?this.A=t.loader:void 0!==this.L&&(s(this.G,7),this.A=Ys(this.L,this.G)),this.ca=void 0!==t.strategy?t.strategy:Al;var e=void 0===t.useSpatialIndex||t.useSpatialIndex;this.a=e?new xa:null,this.C=new xa,this.b={},this.f={},this.j={},this.l={},this.i=null;var i,r;t.features instanceof ze?(i=t.features,r=i.a):Array.isArray(t.features)&&(r=t.features),e||void 0!==i||(i=new ze(r)),void 0!==r&&Pl(this,r),void 0!==i&&Fl(this,i)}function Il(t,e,i){t.l[e]=[M(i,"change",t.hd,t),M(i,Cu,t.hd,t)]}function Tl(t,e,i){var n=!0,r=i.a;return void 0!==r?r.toString()in t.f?n=!1:t.f[r.toString()]=i:(s(!(e in t.j),30),t.j[e]=i),n}function Pl(t,e){var i,n,r,a,s=[],h=[],l=[];for(n=0,r=e.length;n<r;n++)a=e[n],i=o(a).toString(),Tl(t,i,a)&&h.push(a);for(n=0,r=h.length;n<r;n++){a=h[n],i=o(a).toString(),Il(t,i,a);var u=a.T();u?(i=u.M(),s.push(i),l.push(a)):t.b[i]=a}for(t.a&&t.a.load(s,l),n=0,r=h.length;n<r;n++)P(t,new jl(tv,h[n]))}function Fl(t,e){var i=!1;M(t,tv,function(t){i||(i=!0,e.push(t.feature),i=!1)}),M(t,nv,function(t){i||(i=!0,e.remove(t.feature),i=!1)}),M(e,Ru,function(t){i||(i=!0,this.$b(t.element),i=!1)},t),M(e,ju,function(t){i||(i=!0,this.ld(t.element),i=!1)},t),t.i=e}function _l(t,e,i,n){t.a?La(t.a,e,i,n):t.i&&t.i.forEach(i,n)}function Dl(t,e,i,n){var r=t.C;e=t.ca(e,i);var o,a;for(o=0,a=e.length;o<a;++o){var s=e[o];La(r,s,function(t){return rt(t.extent,s)})||(t.A.call(t,s,i,n),r.Ha(s,{extent:s.slice()}))}}function Rl(t,e){for(var i in t.f)if(t.f[i]===e){delete t.f[i];break}}function jl(t,e){E.call(this,t),this.feature=e}function Nl(t){hn.call(this,{handleDownEvent:Vl,handleEvent:Bl,handleUpEvent:Ul}),this.ba=null,this.j=!1,this.Aa=t.source?t.source:null,this.ta=t.features?t.features:null,this.Nd=t.snapTolerance?t.snapTolerance:12,this.L=t.type,this.b=Jl(this.L),this.sa=t.minPoints?t.minPoints:this.b===av?3:2,this.ia=t.maxPoints?t.maxPoints:1/0,this.Oa=t.finishCondition?t.finishCondition:xt;var e=t.geometryFunction;if(!e)if("Circle"===this.L)e=function(t,e){var i=e?e:new Sl([NaN,NaN]),n=t[0],r=t[1],o=n[0]-r[0],n=n[1]-r[1];return Cl(i,t[0],Math.sqrt(o*o+n*n)),i};else{var i,n=this.b;n===rv?i=oe:n===ov?i=th:n===av&&(i=fe),e=function(t,e){var r=e;return r?n===av?r.ea([t[0].concat([t[0][0]])]):r.ea(t):r=new i(t),
r}}this.A=e,this.G=this.l=this.a=this.u=this.g=this.i=null,this.Ba=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,this.ca=new Ar({source:new El({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:Ol()}),this.za=t.geometryName,this.Md=t.condition?t.condition:rn,this.Ub=t.freehand?xt:t.freehandCondition?t.freehandCondition:on,M(this,R(ac),this.Ja,this)}function Ol(){var t=Lr();return function(e){return t[e.T().$()]}}function Bl(t){this.j=this.b!==rv&&this.Ub(t);var e=!this.j;return this.j&&"pointerdrag"===t.type&&null!==this.g?(Gl(this,t),e=!1):"pointermove"===t.type?e=Wl(this,t):"dblclick"===t.type&&(e=!1),un.call(this,t)&&e}function Vl(t){return this.j?(this.ba=t.pixel,this.i||Hl(this,t),!0):!!this.Md(t)&&(this.ba=t.pixel,!0)}function Ul(t){var e=this.ba,i=t.pixel,n=e[0]-i[0],e=e[1]-i[1],n=n*n+e*e,e=!0,i=this.b===sv;return(this.j?n>this.Ba:n<=this.Ba)?(Wl(this,t),this.i?this.j||i?zl(this):Xl(this,t)?this.Oa(t)&&zl(this):Gl(this,t):(Hl(this,t),this.b===rv&&zl(this)),e=!1):i&&(this.i=null),e}function Wl(t,e){if(t.i){var i,n=e.coordinate,r=t.g.T();t.b===rv?i=t.a:t.b===av?(i=t.a[0],i=i[i.length-1],Xl(t,e)&&(n=t.i.slice())):(i=t.a,i=i[i.length-1]),i[0]=n[0],i[1]=n[1],t.A(t.a,r),t.u&&t.u.T().ea(n),r instanceof fe&&t.b!==av?(t.l||(t.l=new As(new th(null))),0>=r.f.length?n=null:(n=new re(null),Jt(n,r.X,r.s.slice(0,r.f[0])),n.v()),r=t.l.T(),r.U(n.X,n.s)):t.G&&(r=t.l.T(),r.ea(t.G)),ql(t)}else r=e.coordinate.slice(),t.u?t.u.T().ea(r):(t.u=new As(new oe(r)),ql(t));return!0}function Xl(t,e){var i=!1;if(t.g){var n=!1,r=[t.i];if(t.b===ov?n=t.a.length>t.sa:t.b===av&&(n=t.a[0].length>t.sa,r=[t.a[0][0],t.a[0][t.a[0].length-2]]),n)for(var n=e.map,o=0,a=r.length;o<a;o++){var s=r[o],h=xs(n,s),l=e.pixel,i=l[0]-h[0],h=l[1]-h[1];if(i=Math.sqrt(i*i+h*h)<=(t.j?1:t.Nd)){t.i=s;break}}}return i}function Hl(t,e){var i=e.coordinate;t.i=i,t.b===rv?t.a=i.slice():t.b===av?(t.a=[[i.slice(),i.slice()]],t.G=t.a[0]):(t.a=[i.slice(),i.slice()],t.b===sv&&(t.G=t.a)),t.G&&(t.l=new As(new th(t.G))),i=t.A(t.a),t.g=new As,t.za&&Es(t.g,t.za),t.g.Da(i),ql(t),P(t,new Kl(hv,t.g))}function Gl(t,e){var i,n,r=e.coordinate,o=t.g.T();t.b===ov?(t.i=r.slice(),n=t.a,n.length>=t.ia&&(t.j?n.pop():i=!0),n.push(r.slice()),t.A(n,o)):t.b===av&&(n=t.a[0],n.length>=t.ia&&(t.j?n.pop():i=!0),n.push(r.slice()),i&&(t.i=n[0]),t.A(t.a,o)),ql(t),i&&zl(t)}function zl(t){var e=Yl(t),i=t.a,n=e.T();t.b===ov?(i.pop(),t.A(i,n)):t.b===av&&(i[0].pop(),t.A(i,n),i=n.ua()),"MultiPoint"===t.L?e.Da(new ah([i])):"MultiLineString"===t.L?e.Da(new ih([i])):"MultiPolygon"===t.L&&e.Da(new sh([i])),P(t,new Kl(lv,e)),t.ta&&t.ta.push(e),t.Aa&&t.Aa.$b(e)}function Yl(t){t.i=null;var e=t.g;return e&&(t.g=null,t.u=null,t.l=null,t.ca.oa().clear(!0)),e}function ql(t){var e=[];t.g&&e.push(t.g),t.l&&e.push(t.l),t.u&&e.push(t.u),t=t.ca.oa(),t.clear(!0),Pl(t,e),t.v()}function Jl(t){var e;return"Point"===t||"MultiPoint"===t?e=rv:"LineString"===t||"MultiLineString"===t?e=ov:"Polygon"===t||"MultiPolygon"===t?e=av:"Circle"===t&&(e=sv),e}function Kl(t,e){E.call(this,t),this.feature=e}function Zl(t,e,i,n,r,o,a,s,l,u,c){if(Vi.call(this,r,0),this.B=void 0!==c&&c,this.u=a,this.l=s,this.j=null,this.b=e,this.g=n,this.i=o?o:r,this.c=[],this.ab=null,this.f=0,o=Oe(n,this.i),s=this.g.M(),r=this.b.M(),o=s?mt(o,s):o,0===pt(o))this.state=4;else if((s=t.M())&&(r=r?mt(r,s):s),s=vt(o),c=n.a[this.i[0]],n=Wt(s,i,t),s=It(i,c,s),c=kt(i),void 0!==c&&(s*=c),c=kt(t),void 0!==c&&(s/=c),n=It(t,s,n)/s,isFinite(n)&&0<n&&(s/=n),n=s,!isFinite(n)||0>=n)this.state=4;else if(this.o=new ns(t,i,o,r,n*(void 0!==u?u:.5)),0===this.o.f.length)this.state=4;else if(this.f=Ue(e,n),i=os(this.o),r&&(t.c?(i[1]=h(i[1],r[1],r[3]),i[3]=h(i[3],r[1],r[3])):i=mt(i,r)),pt(i)){for(t=je(e,i,this.f),e=t.K;e<=t.J;e++)for(i=t.N;i<=t.R;i++)(u=l(this.f,e,i,a))&&this.c.push(u);0===this.c.length&&(this.state=4)}else this.state=4}function Ql(t,e){var i=/\{z\}/g,n=/\{x\}/g,r=/\{y\}/g,o=/\{-y\}/g;return function(a){if(a)return t.replace(i,a[0].toString()).replace(n,a[1].toString()).replace(r,function(){return(-a[2]-1).toString()}).replace(o,function(){var t=e.c?e.c[a[0]]:null;return s(t,55),(t.R-t.N+1+a[2]).toString()})}}function $l(t,e){for(var i=t.length,n=Array(i),r=0;r<i;++r)n[r]=Ql(t[r],e);return tu(n)}function tu(t){return 1===t.length?t[0]:function(e,i,n){if(e)return t[u((e[1]<<e[0])+e[2],t.length)](e,i,n)}}function eu(){}function iu(t){ds.call(this),this.g=void 0!==t?t:2048}function nu(t){return t.f>t.g}function ru(t){as.call(this,{attributions:t.attributions,extent:t.extent,logo:t.logo,projection:t.projection,state:t.state,wrapX:t.wrapX}),this.C=void 0!==t.opaque&&t.opaque,this.i=void 0!==t.tilePixelRatio?t.tilePixelRatio:1,this.tileGrid=void 0!==t.tileGrid?t.tileGrid:null,this.a=new iu(t.cacheSize),this.l=[0,0],this.La=""}function ou(t,e,i,n,r){if(e=t.qb(e),!e)return!1;for(var o,a,s=!0,h=n.K;h<=n.J;++h)for(var l=n.N;l<=n.R;++l)o=t.Eb(i,h,l),a=!1,ps(e,o)&&(o=e.get(o),(a=o.aa()===oc)&&(a=!1!==r(o))),a||(s=!1);return s}function au(t,e,i){var n=t.Ga(i);return i=t.i,e=Te(Ve(n,e),t.l),1==i?t=e:(t=t.l,void 0===t&&(t=[0,0]),t[0]=e[0]*i+.5|0,t[1]=e[1]*i+.5|0),t}function su(t,e,i){var n=void 0!==i?i:t.g;if(i=t.Ga(n),t.u&&n.f){var r=e;e=r[0],t=Ne(i,r),n=He(n),ot(n,t[0],t[1])?e=r:(r=bt(n),t[0]+=r*Math.ceil((n[0]-t[0])/r),e=Be(i,t[0],t[1],i.a[e],!1,void 0))}if(r=e[0],n=e[1],t=e[2],i.minZoom>r||r>i.maxZoom)i=!1;else{var o=i.M();i=!(i=o?je(i,o,r):i.c?i.c[r]:null)||Ae(i,n,t)}return i?e:null}function hu(t,e){E.call(this,t),this.tile=e}function lu(t){if(ru.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tilePixelRatio:t.tilePixelRatio,wrapX:t.wrapX}),this.tileLoadFunction=t.tileLoadFunction,this.tileUrlFunction=this.f?this.f.bind(this):eu,this.urls=null,t.urls){var e=t.urls;this.urls=e;var i=e.join("\n");uu(this,this.f?this.f.bind(this):$l(e,this.tileGrid),i)}else if(t.url){e=t.url;var i=[],n=/\{([a-z])-([a-z])\}/.exec(e);if(n){var r,o=n[2].charCodeAt(0);for(r=n[1].charCodeAt(0);r<=o;++r)i.push(e.replace(n[0],String.fromCharCode(r)))}else if(n=n=/\{(\d+)-(\d+)\}/.exec(e))for(o=parseInt(n[2],10),r=parseInt(n[1],10);r<=o;r++)i.push(e.replace(n[0],r.toString()));else i.push(e);i=this.urls=i,uu(this,this.f?this.f.bind(this):$l(i,this.tileGrid),e)}t.tileUrlFunction&&uu(this,t.tileUrlFunction)}function uu(t,e,i){t.tileUrlFunction=e,"undefined"!=typeof i?t.La!==i&&(t.La=i,t.v()):t.v()}function cu(t){lu.call(this,{attributions:t.attributions,cacheSize:t.cacheSize,extent:t.extent,logo:t.logo,opaque:t.opaque,projection:t.projection,state:t.state,tileGrid:t.tileGrid,tileLoadFunction:t.tileLoadFunction?t.tileLoadFunction:vu,tilePixelRatio:t.tilePixelRatio,tileUrlFunction:t.tileUrlFunction,url:t.url,urls:t.urls,wrapX:t.wrapX}),this.crossOrigin=void 0!==t.crossOrigin?t.crossOrigin:null,this.tileClass=void 0!==t.tileClass?t.tileClass:Ll,this.b={},this.j={},this.G=t.reprojectionErrorThreshold}function fu(t,e,i,n,r,o,a){return e=[e,i,n],r=(i=su(t,e,o))?t.tileUrlFunction(i,r,o):void 0,r=new t.tileClass(e,void 0!==r?0:4,void 0!==r?r:"",t.crossOrigin,t.tileLoadFunction),r.key=a,M(r,"change",t.A,t),r}function du(t,e,i,n,r,o){if(t.g&&o&&!Nt(t.g,o)){r=t.qb(o),n=[e,i,n];var a;if(e=t.Eb.apply(t,n),ps(r,e)&&(a=r.get(e)),i=t.getKey(),a&&a.key==i)return a;var s=t.g,h=t.Ga(s),l=t.Ga(o),u=su(t,n,o);return t=new Zl(s,h,o,l,n,u,t.i,0,function(t,e,i,n){return pu(this,t,e,i,n,s)}.bind(t),t.G,!1),t.key=i,a?(t.a=a,r.replace(e,t)):r.set(e,t),t}return pu(t,e,i,n,r,o)}function pu(t,e,i,n,r,o){var a,s=t.Eb(e,i,n),h=t.getKey();if(ps(t.a,s)){if(a=t.a.get(s),a.key!=h){var l=a;if(a=fu(t,e,i,n,r,o,h),0==l.aa()?a.a=l.a:a.a=l,a.a){e=a.a,i=a;do{if(e.aa()==oc){e.a=null;break}1==e.aa()?i=e:0==e.aa()?i.a=e.a:i=e,e=i.a}while(e)}t.a.replace(s,a)}}else a=fu(t,e,i,n,r,o,h),t.a.set(s,a);return a}function vu(t,e){t.Za().src=e}var gu,yu,mu={},bu=this,wu=0;i(a,Error);var xu=function(){var t;return t="cosh"in Math?Math.cosh:function(t){return t=Math.exp(t),(t+1/t)/2}}(),Mu="function"==typeof Object.assign?Object.assign:function(t,e){if(!t||!t)throw new TypeError("Cannot convert undefined or null to object");for(var i=Object(t),n=1,r=arguments.length;n<r;++n){var o=arguments[n];if(void 0!==o&&null!==o)for(var a in o)o.hasOwnProperty(a)&&(i[a]=o[a])}return i};k.prototype.xa=!1,k.prototype.Z=n,E.prototype.preventDefault=E.prototype.stopPropagation=function(){this.Ve=!0},i(T,k),T.prototype.addEventListener=function(t,e){var i=this.D[t];i||(i=this.D[t]=[]),-1===i.indexOf(e)&&i.push(e)},T.prototype.Z=function(){L(this)},T.prototype.removeEventListener=function(t,e){var i=this.D[t];if(i){var r=i.indexOf(e);t in this.Y?(i[r]=n,++this.Y[t]):(i.splice(r,1),0===i.length&&delete this.D[t])}},i(_,T),_.prototype.v=function(){++this.c,P(this,"change")},_.prototype.ka=function(t,e,i){if(Array.isArray(t)){for(var n=t.length,r=Array(n),o=0;o<n;++o)r[o]=M(this,t[o],e,i);return r}return M(this,t,e,i)},i(D,_);var Su={};D.prototype.get=function(t){var e;return this.o.hasOwnProperty(t)&&(e=this.o[t]),e},D.prototype.set=function(t,e,i){i?this.o[t]=e:(i=this.o[t],this.o[t]=e,i!==e&&(e=R(t),P(this,new N(e,t,i)),e=Cu,P(this,new N(e,t,i))))};var Cu="propertychange";i(N,E),St.prototype.offset=function(t,e,i){var n=t[1]*Math.PI/180;e/=this.radius;var r=Math.asin(Math.sin(n)*Math.cos(e)+Math.cos(n)*Math.sin(e)*Math.cos(i));return[180*(t[0]*Math.PI/180+Math.atan2(Math.sin(i)*Math.sin(e)*Math.cos(n),Math.cos(e)-Math.sin(n)*Math.sin(r)))/Math.PI,180*r/Math.PI]};var Lu=new St(6370997),ku={};ku.degrees=2*Math.PI*Lu.radius/360,ku.ft=.3048,ku.m=1,ku["us-ft"]=1200/3937,Lt.prototype.M=function(){return this.i};var Au={},Eu={};i(Ht,D),Ht.prototype.M=function(t){this.B!=this.c&&(this.u=this.Cb(this.u),this.B=this.c);var e=this.u;return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3]):t=e,t},Ht.prototype.transform=function(t,e){return this.zb(Ot(t,e)),this},i(Yt,Ht),gu=Yt.prototype,gu.Cb=function(t){var e=this.s,i=this.s.length,n=this.a;return t=ht(t),dt(t,e,0,i,n)},gu.Uc=function(){return this.s.slice(this.s.length-this.a)},gu.kc=function(t){if(this.l!=this.c&&(p(this.g),this.i=0,this.l=this.c),0>t||0!==this.i&&t<=this.i)return this;var e=t.toString();if(this.g.hasOwnProperty(e))return this.g[e];var i=this.Ua(t);return i.s.length<this.s.length?this.g[e]=i:(this.i=t,this)},gu.Ua=function(){return this},gu.zb=function(t){this.s&&(t(this.s,this.s,this.a),this.v())},gu.rotate=function(t,e){var i=this.s;if(i){for(var n=i.length,r=this.a,o=i?i:[],a=Math.cos(t),s=Math.sin(t),h=e[0],l=e[1],u=0,c=0;c<n;c+=r){var f=i[c]-h,d=i[c+1]-l;for(o[u++]=h+f*a-d*s,o[u++]=l+f*s+d*a,f=c+2;f<c+r;++f)o[u++]=i[f]}i&&o.length!=u&&(o.length=u),this.v()}},gu.scale=function(t,e,i){var n=e;void 0===n&&(n=t);var r=i;if(r||(r=vt(this.M())),i=this.s){e=i.length;for(var o=this.a,a=i?i:[],s=r[0],r=r[1],h=0,l=0;l<e;l+=o){var u=i[l]-s,c=i[l+1]-r;for(a[h++]=s+t*u,a[h++]=r+n*c,u=l+2;u<l+o;++u)a[h++]=i[u]}i&&a.length!=h&&(a.length=h),this.v()}},gu.translate=function(t,e){var i=this.s;i&&(zt(i,i.length,this.a,t,e,i),this.v())},i(re,Yt),gu=re.prototype,gu.clone=function(){var t=new re(null);return Jt(t,this.X,this.s.slice()),t.v(),t},gu.ua=function(){return te(this.s,0,this.s.length,this.a)},gu.Ua=function(t){var e=[];return e.length=ie(this.s,0,this.s.length,this.a,t,e,0),t=new re(null),Jt(t,"XY",e),t.v(),t},gu.$=function(){return"LinearRing"},gu.ea=function(t,e){t?(Kt(this,e,t,1),this.s||(this.s=[]),this.s.length=Qt(this.s,0,t,this.a)):Jt(this,"XY",null),this.v()},i(oe,Yt),gu=oe.prototype,gu.clone=function(){var t=new oe(null);return t.U(this.X,this.s.slice()),t},gu.ua=function(){return this.s?this.s.slice():[]},gu.Cb=function(t){return lt(this.s,t)},gu.$=function(){return"Point"},gu.ea=function(t,e){t?(Kt(this,e,t,0),this.s||(this.s=[]),this.s.length=Zt(this.s,t),this.v()):this.U("XY",null)},gu.U=function(t,e){Jt(this,t,e),this.v()},i(fe,Yt),gu=fe.prototype,gu.Ld=function(t){this.s?V(this.s,t.s):this.s=t.s.slice(),this.f.push(this.s.length),this.v()},gu.clone=function(){var t=new fe(null);return t.U(this.X,this.s.slice(),this.f.slice()),t},gu.ua=function(t){var e;return void 0!==t?(e=ve(this).slice(),ue(e,0,this.f,this.a,t)):e=this.s,ee(e,0,this.f,this.a)},gu.Ta=function(){return this.f},gu.Ua=function(t){var e=[],i=[];return e.length=ne(this.s,0,this.f,this.a,Math.sqrt(t),e,0,i),t=new fe(null),t.U("XY",e,i),t},gu.$=function(){return"Polygon"},gu.ea=function(t,e){if(t){Kt(this,e,t,2),this.s||(this.s=[]);var i=$t(this.s,0,t,this.a,this.f);this.s.length=0===i.length?0:i[i.length-1],this.v()}else this.U("XY",null,this.f)},gu.U=function(t,e,i){Jt(this,t,e),this.f=i,this.v()},i(ge,D),gu=ge.prototype,gu.animate=function(t){var e,i=Date.now(),n=this.get(Iu).slice(),r=Me(this),o=this.get(Pu),a=arguments.length;1<a&&"function"==typeof arguments[a-1]&&(e=arguments[a-1],--a);for(var s=[],h=0;h<a;++h){var l=arguments[h],u={start:i,complete:!1,anchor:l.anchor,duration:void 0!==l.duration?l.duration:1e3,easing:l.easing||$};l.center&&(u.vc=n,u.xc=l.center,n=u.xc),void 0!==l.zoom?(u.Pb=r,u.Qb=this.constrainResolution(this.b,l.zoom-this.j,0),r=u.Qb):l.resolution&&(u.Pb=r,u.Qb=l.resolution,r=u.Qb),void 0!==l.rotation&&(u.wc=o,u.rd=l.rotation,o=u.rd),u.Bb=e,i+=u.duration,s.push(u)}this.a.push(s),Ce(this,Fu,1),this.Sb()},gu.Sb=function(){if(void 0!==this.l&&(cancelAnimationFrame(this.l),this.l=void 0),ye(this)){for(var t=Date.now(),e=!1,i=this.a.length-1;0<=i;--i){for(var n=this.a[i],r=!0,o=0,a=n.length;o<a;++o){var s=n[o];if(!s.complete){if(e=t-s.start,e=0<s.duration?e/s.duration:1,1<=e?(s.complete=!0,e=1):r=!1,e=s.easing(e),s.vc){var h=s.vc[0],l=s.vc[1];this.set(Iu,[h+e*(s.xc[0]-h),l+e*(s.xc[1]-l)])}if(s.Pb&&(h=s.Pb+e*(s.Qb-s.Pb),s.anchor&&this.set(Iu,we(this,h,s.anchor)),this.set(Tu,h)),void 0!==s.wc&&(e=s.wc+e*(s.rd-s.wc),s.anchor&&this.set(Iu,be(this,e,s.anchor)),this.set(Pu,e)),e=!0,!s.complete)break}}r&&(this.a[i]=null,Ce(this,Fu,-1),(n=n[0].Bb)&&n(!0))}this.a=this.a.filter(Boolean),e&&void 0===this.l&&(this.l=requestAnimationFrame(this.Sb))}},gu.constrainResolution=function(t,e,i){return this.f.resolution(t,e||0,i||0)},gu.constrainRotation=function(t,e){return this.f.rotation(t,e||0)},gu.Mc=function(t){var e=this.get(Iu);s(e,1);var i=Me(this);s(void 0!==i,2);var n=this.get(Pu);return s(void 0!==n,3),gt(e,i,n,t)},gu.aa=function(){var t=this.get(Iu),e=this.B,i=Me(this),n=this.get(Pu);return{center:t.slice(),projection:void 0!==e?e:null,resolution:i,rotation:n}},gu.Td=function(){var t,e=Me(this);if(void 0!==e&&e>=this.u&&e<=this.b){t=this.j||0;var i,n;if(this.i){if(n=B(this.i,e,1),t+=n,n==this.i.length-1)return t;i=this.i[n],n=i/this.i[n+1]}else i=this.b,n=this.A;t+=Math.log(i/e)/Math.log(n)}return t},gu.rotate=function(t,e){if(void 0!==e){var i=be(this,t,e);Se(this,i)}this.set(Pu,t),ye(this)&&me(this)},gu.ff=function(t){t=this.constrainResolution(this.b,t-this.j,0),Le(this,t)};var Iu="center",Tu="resolution",Pu="rotation",Fu=0,_u=[0,0,0];Pe.prototype.M=function(){return this.j},i(ze,D),gu=ze.prototype,gu.clear=function(){for(;0<this.get(Du);)this.pop()},gu.forEach=function(t,e){this.a.forEach(t,e)},gu.item=function(t){return this.a[t]},gu.pop=function(){return Ye(this,this.get(Du)-1)},gu.push=function(t){var e=this.get(Du);return this.a.splice(e,0,t),qe(this),P(this,new Je(Ru,t)),this.get(Du)},gu.remove=function(t){var e,i,n=this.a;for(e=0,i=n.length;e<i;++e)if(n[e]===t)return Ye(this,e)};var Du="length",Ru="add",ju="remove";i(Je,E);var Nu=/^#(?:[0-9a-f]{3}){1,2}$/i,Ou=/^([a-z]*)$/i,Bu=function(){var t={},e=0;return function(i){var n;if(t.hasOwnProperty(i))n=t[i];else{if(1024<=e){n=0;for(var r in t)0===(3&n++)&&(delete t[r],--e)}n=i;var o;if(Ou.exec(n)&&(r=document.createElement("div"),r.style.color=n,document.body.appendChild(r),n=getComputedStyle(r).color,document.body.removeChild(r)),Nu.exec(n)){o=n.length-1,s(3==o||6==o,54);var a=3==o?1:2;o=parseInt(n.substr(1+0*a,a),16),r=parseInt(n.substr(1+1*a,a),16),n=parseInt(n.substr(1+2*a,a),16),1==a&&(o=(o<<4)+o,r=(r<<4)+r,n=(n<<4)+n),o=[o,r,n,1]}else 0==n.indexOf("rgba(")?(n=n.slice(5,-1).split(",").map(Number),o=Qe(n)):0==n.indexOf("rgb(")?(n=n.slice(4,-1).split(",").map(Number),n.push(1),o=Qe(n)):s(!1,14);n=o,t[i]=n,++e}return n}}();i(ii,E),i(ni,D),ni.prototype.Z=function(){ei(this.element),D.prototype.Z.call(this)},ni.prototype.setMap=function(t){this.l&&ei(this.element);for(var e=0,i=this.u.length;e<i;++e)C(this.u[e]);this.u.length=0,(this.l=t)&&((this.G?this.G:t.l).appendChild(this.element),this.render!==n&&this.u.push(M(t,"postrender",this.render,this)),t.render())},i(ri,ni),ri.prototype.P=function(t){if(t.preventDefault(),this.element.classList.toggle("ol-collapsed"),this.f){t=this.j;var e=t.parentNode;e&&e.replaceChild(this.i,t)}else t=this.i,(e=t.parentNode)&&e.replaceChild(this.j,t);this.f=!this.f},i(ai,ni),ai.prototype.j=function(t){t.preventDefault(),void 0!==this.f?this.f():(t=this.l.W())&&void 0!==t.get(Pu)&&(0<this.g?t.animate({rotation:0,duration:this.g,easing:Q}):(t.set(Pu,0),ye(t)&&me(t)))},i(hi,ni),hi.prototype.b=function(t,e){e.preventDefault();var i=this.l.W();if(i){var n=Me(i);n&&(n=i.constrainResolution(n,t),0<this.a?(ye(i)&&me(i),i.animate({resolution:n,duration:this.a,easing:Q})):Le(i,n))}},i(ui,ii),ui.prototype.preventDefault=function(){ii.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},ui.prototype.stopPropagation=function(){ii.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()};var Vu={Af:"singleclick",nf:"click",pf:"dblclick",sf:"pointerdrag",vf:"pointermove",rf:"pointerdown",yf:"pointerup",xf:"pointerover",wf:"pointerout",tf:"pointerenter",uf:"pointerleave",qf:"pointercancel"};i(ci,ui);var Uu,Wu=["experimental-webgl","webgl","webkit-3d","moz-webgl"],Xu="undefined"!=typeof navigator?navigator.userAgent.toLowerCase():"",Hu=-1!==Xu.indexOf("firefox"),Gu=-1!==Xu.indexOf("safari")&&-1==Xu.indexOf("chrom"),zu=-1!==Xu.indexOf("webkit")&&-1==Xu.indexOf("edge"),Yu=-1!==Xu.indexOf("macintosh"),qu=window.devicePixelRatio||1,Ju=!1,Ku=function(){if(!("HTMLCanvasElement"in window))return!1;try{var t=document.createElement("CANVAS").getContext("2d");return!!t&&(void 0!==t.setLineDash&&(Ju=!0),!0)}catch(t){return!1}}(),Zu="ontouchstart"in window,Qu="PointerEvent"in window,$u=!!navigator.msPointerEnabled,tc=!1,ec=[];if("WebGLRenderingContext"in window)try{var ic=fi(document.createElement("CANVAS"),{failIfMajorPerformanceCaveat:!0});ic&&(tc=!0,ec=ic.getSupportedExtensions())}catch(t){}Uu=tc,yu=ec,i(pi,di),gu=pi.prototype,gu.ne=function(t){if(!vi(this,t)){if(1..toString()in this.c){var e=gi(t);Ri(this.a,"pointercancel",e,t),delete this.c[1..toString()]}e=gi(t),this.c[1..toString()]=t,Ri(this.a,"pointerdown",e,t)}},gu.oe=function(t){if(!vi(this,t)){var e=gi(t);Ri(this.a,"pointermove",e,t)}},gu.re=function(t){if(!vi(this,t)){var e=this.c[1..toString()];e&&e.button===t.button&&(e=gi(t),Ri(this.a,"pointerup",e,t),delete this.c[1..toString()])}},gu.qe=function(t){if(!vi(this,t)){var e=gi(t);Di(this.a,e,t)}},gu.pe=function(t){if(!vi(this,t)){var e=gi(t);_i(this.a,e,t)}},i(yi,di),gu=yi.prototype,gu.we=function(t){this.c[t.pointerId.toString()]=t;var e=mi(this,t);Ri(this.a,"pointerdown",e,t)},gu.xe=function(t){var e=mi(this,t);Ri(this.a,"pointermove",e,t)},gu.Ae=function(t){var e=mi(this,t);Ri(this.a,"pointerup",e,t),delete this.c[t.pointerId.toString()]},gu.ye=function(t){var e=mi(this,t);_i(this.a,e,t)},gu.ze=function(t){var e=mi(this,t);Di(this.a,e,t)},gu.ve=function(t){var e=mi(this,t);Ri(this.a,"pointercancel",e,t),delete this.c[t.pointerId.toString()]},gu.ue=function(t){P(this.a,new wi("lostpointercapture",t,t))},gu.te=function(t){P(this.a,new wi("gotpointercapture",t,t))},i(bi,di),gu=bi.prototype,gu.Qe=function(t){ji(this.a,t)},gu.Re=function(t){ji(this.a,t)},gu.Ue=function(t){ji(this.a,t)},gu.Se=function(t){ji(this.a,t)},gu.Te=function(t){ji(this.a,t)},gu.Pe=function(t){ji(this.a,t)},gu.le=function(t){ji(this.a,t)},gu.Ud=function(t){ji(this.a,t)},i(wi,E);var nc=!1;try{nc=1===new MouseEvent("click",{buttons:1}).buttons}catch(t){}i(Si,di),gu=Si.prototype,gu.od=function(){this.i=0,this.f=void 0},gu.lf=function(t){var e=t.touches,i=Object.keys(this.c),n=i.length;if(n>=e.length){var r,o,a,s=[];for(r=0;r<n;++r){o=i[r],a=this.c[o];var h;if(!(h=1==o))t:{h=e.length;for(var l,u=0;u<h;u++)if(l=e[u],l.identifier===o-2){h=!0;break t}h=!1}h||s.push(a.out)}for(r=0;r<s.length;++r)this.bc(t,s[r])}e=t.changedTouches[0],i=Object.keys(this.c).length,(0===i||1===i&&1..toString()in this.c)&&(this.b=e.identifier,void 0!==this.f&&clearTimeout(this.f)),ki(this,t),this.i++,Li(this,t,this.Oe)},gu.Oe=function(t,e){this.c[e.pointerId]={target:e.target,out:e,jd:e.target};var i=this.a;e.bubbles=!0,Ri(i,"pointerover",e,t),i=this.a,e.bubbles=!1,Ri(i,"pointerenter",e,t),Ri(this.a,"pointerdown",e,t)},gu.kf=function(t){t.preventDefault(),Li(this,t,this.se)},gu.se=function(t,e){var i=this.c[e.pointerId];if(i){var n=i.out,r=i.jd;Ri(this.a,"pointermove",e,t),n&&r!==e.target&&(n.relatedTarget=e.target,e.relatedTarget=r,n.target=r,e.target?(_i(this.a,n,t),Di(this.a,e,t)):(e.target=r,e.relatedTarget=null,this.bc(t,e))),i.out=e,i.jd=e.target}},gu.jf=function(t){ki(this,t),Li(this,t,this.mf)},gu.mf=function(t,e){Ri(this.a,"pointerup",e,t),this.a.out(e,t),Fi(this.a,e,t),delete this.c[e.pointerId],e.isPrimary&&(this.b=void 0,this.f=setTimeout(this.od.bind(this),200))},gu.hf=function(t){Li(this,t,this.bc)},gu.bc=function(t,e){Ri(this.a,"pointercancel",e,t),this.a.out(e,t),Fi(this.a,e,t),delete this.c[e.pointerId],e.isPrimary&&(this.b=void 0,this.f=setTimeout(this.od.bind(this),200))},i(Ai,T),Ai.prototype.b=function(t){var e=this.f[t.type];e&&e(t)},Ai.prototype.out=function(t,e){t.bubbles=!0,Ri(this,"pointerout",t,e)},Ai.prototype.Z=function(){for(var t,e=this.a.length,i=0;i<e;i++)t=this.a[i],Ti(this,Object.keys(t.g));T.prototype.Z.call(this)};var rc=[["bubbles",!1],["cancelable",!1],["view",null],["detail",null],["screenX",0],["screenY",0],["clientX",0],["clientY",0],["ctrlKey",!1],["altKey",!1],["shiftKey",!1],["metaKey",!1],["button",0],["relatedTarget",null],["buttons",0],["pointerId",0],["width",0],["height",0],["pressure",0],["tiltX",0],["tiltY",0],["pointerType",""],["hwTimestamp",0],["isPrimary",!1],["type",""],["target",null],["currentTarget",null],["which",0]];i(Ni,T),gu=Ni.prototype,gu.Wc=function(t){Bi(this,t);var e=new ci("pointerup",this.b,t);P(this,e),!this.o&&0===t.button&&Oi(this,this.c),0===this.B&&(this.f.forEach(C),this.f.length=0,this.o=!1,this.c=null,A(this.a),this.a=null)},gu.ce=function(t){Bi(this,t);var e=new ci("pointerdown",this.b,t);P(this,e),this.c=t,0===this.f.length&&(this.a=new Ai(document),this.f.push(M(this.a,"pointermove",this.He,this),M(this.a,"pointerup",this.Wc,this),M(this.g,"pointercancel",this.Wc,this)))},gu.He=function(t){if(t.clientX!=this.c.clientX||t.clientY!=this.c.clientY){this.o=!0;var e=new ci("pointerdrag",this.b,t,this.o);P(this,e)}t.preventDefault()},gu.$e=function(t){P(this,new ci(t.type,this.b,t,!(!this.c||t.clientX==this.c.clientX&&t.clientY==this.c.clientY)))},gu.Z=function(){this.l&&(C(this.l),this.l=null),this.j&&(C(this.j),this.j=null),this.f.forEach(C),this.f.length=0,this.a&&(A(this.a),this.a=null),this.g&&(A(this.g),this.g=null),T.prototype.Z.call(this)},i(Vi,T),Vi.prototype.v=function(){P(this,"change")},Vi.prototype.getKey=function(){return this.key+"/"+this.ga},Vi.prototype.aa=function(){return this.state};var oc=2;Wi.prototype.clear=function(){this.a.length=0,this.b.length=0,p(this.c)},Wi.prototype.g=function(t){s(!(this.f(t)in this.c),31);var e=this.l(t);return 1/0!=e&&(this.a.push(t),this.b.push(e),this.c[this.f(t)]=!0,Gi(this,0,this.a.length-1),!0)},i(Yi,Wi),Yi.prototype.g=function(t){var e=Wi.prototype.g.call(this,t);return e&&M(t[0],"change",this.j,this),e},Yi.prototype.j=function(t){t=t.target;var e=t.aa();e!==oc&&3!==e&&4!==e&&5!==e||(S(t,"change",this.j,this),t=t.getKey(),t in this.i&&(delete this.i[t],--this.o),this.u())},i(Ji,D),Ji.prototype.setMap=function(t){this.V=t};var ac="active";i($i,Ji),i(hn,Ji),hn.prototype.C=function(t){return t},i(cn,hn),cn.prototype.C=Mt,i(vn,hn),vn.prototype.C=Mt,i(bn,k),bn.prototype.Z=function(){this.setMap(null)},bn.prototype.setMap=function(t){if(this.a){this.a.u.removeChild(this.c);var e=this.c.style;e.left=e.top=e.width=e.height="inherit"}(this.a=t)&&this.a.u.appendChild(this.c)},bn.prototype.T=function(){return this.f},i(Mn,hn),Mn.prototype.T=function(){return this.a.T()},Mn.prototype.g=n;var sc="boxstart",hc="boxdrag",lc="boxend";i(An,E),i(En,Mn),En.prototype.g=function(){var t=this.V,e=t.W(),i=t.Ya(),n=this.T().M();if(this.u){var r,o,a=e.Mc(i),n=[xs(t,[n[0],n[1]]),xs(t,[n[2],n[3]])],t=ht(void 0);for(r=0,o=n.length;r<o;++r)ft(t,n[r]);t=1/Math.max(bt(t)/i[0],yt(t)/i[1]),n=(a[2]-a[0])/2*(t-1),t=(a[3]-a[1])/2*(t-1),a[0]-=n,a[2]+=n,a[1]-=t,a[3]+=t,n=a}i=e.constrainResolution(Math.max(bt(n)/i[0],yt(n)/i[1])),e.animate({resolution:i,center:vt(n),duration:this.l,easing:Q})},i(In,Ji),i(Pn,Ji),i(_n,Ji),_n.prototype.l=function(){this.i=void 0,Ce(this.V.W(),1,-1)},_n.prototype.u=function(t){t=t.W(),ye(t)&&me(t),Zi(t,-h(this.f,-1,1),this.a,this.B),this.g=void 0,this.f=0,this.a=null,this.j=this.b=void 0};var uc="trackpad",cc="wheel";i(Rn,hn),Rn.prototype.C=Mt,i(Bn,hn),Bn.prototype.C=Mt,i(Hn,D),Hn.prototype.M=function(){return this.get(pc)},Hn.prototype.f=function(){return this.get(dc)},Hn.prototype.l=function(t){this.set(dc,t)};var fc="opacity",dc="visible",pc="extent",vc="zIndex",gc="maxResolution",yc="minResolution";i(zn,Hn),gu=zn.prototype,gu.Hb=function(){this.f()&&this.v()},gu.Zd=function(){this.g.forEach(C),this.g.length=0;var t=this.get(mc);this.g.push(M(t,Ru,this.Yd,this),M(t,ju,this.$d,this));for(var e in this.b)this.b[e].forEach(C);p(this.b);var i,n,t=t.a;for(e=0,i=t.length;e<i;e++)n=t[e],this.b[o(n).toString()]=[M(n,Cu,this.Hb,this),M(n,"change",this.Hb,this)];this.v()},gu.Yd=function(t){t=t.element;var e=o(t).toString();this.b[e]=[M(t,Cu,this.Hb,this),M(t,"change",this.Hb,this)],this.v()},gu.$d=function(t){t=o(t.element).toString(),this.b[t].forEach(C),delete this.b[t],this.v()},gu.ic=function(t){var e=void 0!==t?t:[],i=e.length;this.get(mc).forEach(function(t){t.ic(e)}),t=Gn(this);var n,r;for(n=e.length;i<n;i++)r=e[i],r.opacity*=t.opacity,r.visible=r.visible&&t.visible,r.maxResolution=Math.min(r.maxResolution,t.maxResolution),r.minResolution=Math.max(r.minResolution,t.minResolution),void 0!==t.extent&&(r.extent=void 0!==r.extent?mt(r.extent,t.extent):t.extent);return e},gu.lc=function(){return"ready"};var mc="layers";i(Yn,Lt);var bc=6378137*Math.PI,wc=[-bc,-bc,bc,bc],xc=[-180,-85,180,85],Mc="EPSG:3857 EPSG:102100 EPSG:102113 EPSG:900913 urn:ogc:def:crs:EPSG:6.18:3:3857 urn:ogc:def:crs:EPSG::3857 http://www.opengis.net/gml/srs/epsg.xml#3857".split(" ").map(function(t){return new Yn(t)}),Sc=new St(6378137);i(Kn,Lt);var Cc=[-180,-90,180,90],Lc=Math.PI*Sc.radius/180,kc=[new Kn("CRS:84"),new Kn("EPSG:4326","neu"),new Kn("urn:ogc:def:crs:EPSG::4326","neu"),new Kn("urn:ogc:def:crs:EPSG:6.6:4326","neu"),new Kn("urn:ogc:def:crs:OGC:1.3:CRS84"),new Kn("urn:ogc:def:crs:OGC:2:84"),new Kn("http://www.opengis.net/gml/srs/epsg.xml#4326","neu"),new Kn("urn:x-ogc:def:crs:EPSG:4326","neu")];i(Zn,E),i(Qn,Hn),gu=Qn.prototype,gu.ic=function(t){return t=t?t:[],t.push(Gn(this)),t},gu.oa=function(){return this.get("source")||null},gu.lc=function(){var t=this.oa();return t?t.aa():"undefined"},gu.Je=function(){this.v()},gu.he=function(){this.j&&(C(this.j),this.j=null);var t=this.oa();t&&(this.j=M(t,"change",this.Je,this)),this.v()},gu.setMap=function(t){this.b&&(C(this.b),this.b=null),t||this.v(),this.g&&(C(this.g),this.g=null),t&&(this.b=M(t,"precompose",function(t){var e=Gn(this);e.Jb=!1,e.zIndex=1/0,t.frameState.layerStatesArray.push(e),t.frameState.layerStates[o(this)]=e},this),this.g=M(this,"change",t.render,t),this.v())},tr.prototype.clear=function(){this.a={},this.c=0},tr.prototype.get=function(t,e,i){return t=e+":"+t+":"+(i?Ze(i):"null"),t in this.a?this.a[t]:null},tr.prototype.set=function(t,e,i,n){this.a[e+":"+t+":"+(i?Ze(i):"null")]=n,++this.c};var Ac=new tr,Ec=Array(6);i(lr,k),gu=lr.prototype,gu.Z=function(){for(var t in this.b)A(this.b[t])},gu.na=function(t,e,i,n,r,a,s){function h(t,i){var a=o(t).toString(),s=e.layerStates[o(i)].Jb;if(!(a in e.skippedFeatureUids)||s)return n.call(r,t,s?i:null)}var l,u=e.viewState,c=u.resolution,f=u.projection,u=t;if(f.c){var f=f.M(),d=bt(f),p=t[0];(p<f[0]||p>f[2])&&(u=[p+d*Math.ceil((f[0]-p)/d),t[1]])}for(f=e.layerStatesArray,d=f.length-1;0<=d;--d){var v=f[d],p=v.layer;if($n(v,c)&&a.call(s,p)&&(v=fr(this,p),p.oa()&&(l=v.na(p.oa().u?u:t,e,i,h,r)),l))return l}},gu.Xd=function(){this.j.render()},gu.uc=n,gu.bf=function(t,e){for(var i in this.b)if(!(e&&i in e.layerStates)){var n=i,r=this.b[n];delete this.b[n],C(this.u[n]),delete this.u[n],A(r)}},i(vr,Qn);var Ic="preload",Tc="useInterimTilesOnError",Pc=[0,0,0,1],Fc=[],_c=[0,0,0,1];i(mr,yr),gu=mr.prototype,gu.clone=function(){var t=new mr({fill:this.f?this.f.clone():void 0,points:this.g!==this.c?this.a/2:this.a,radius:this.c,radius2:this.g,angle:this.l,snapToPixel:this.B,stroke:this.b?this.b.clone():void 0,rotation:this.u,rotateWithView:this.F,atlasManager:this.C});return t.j=this.j,t.o=this.o,t},gu.pb=function(){return this.G},gu.pc=function(){return this.A},gu.rb=function(){return this.D},gu.hc=function(){return this.L},gu.Lb=function(){return 2},gu.sb=function(){return this.Y},gu.Ma=function(){return this.P},gu.Yc=n,gu.load=n,gu.sd=n,gu.Rc=function(t,e,i,n){var r;if(e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath(),1/0===this.a)e.arc(t.size/2,t.size/2,this.c,0,2*Math.PI,!0);else for(this.g!==this.c&&(this.a*=2),i=0;i<=this.a;i++)n=2*i*Math.PI/this.a-Math.PI/2+this.l,r=0===i%2?this.c:this.g,e.lineTo(t.size/2+r*Math.cos(n),t.size/2+r*Math.sin(n));this.f&&(e.fillStyle=$e(this.f.a),e.fill()),this.b&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.qd,t.lineDash&&e.setLineDash(t.lineDash),e.lineCap=t.lineCap,e.lineJoin=t.lineJoin,e.miterLimit=t.miterLimit,e.stroke()),e.closePath()},gu.Qc=function(t,e,i,n){if(e.setTransform(1,0,0,1,0,0),e.translate(i,n),e.beginPath(),1/0===this.a)e.arc(t.size/2,t.size/2,this.c,0,2*Math.PI,!0);else{this.g!==this.c&&(this.a*=2);var r;for(i=0;i<=this.a;i++)r=2*i*Math.PI/this.a-Math.PI/2+this.l,n=0===i%2?this.c:this.g,e.lineTo(t.size/2+n*Math.cos(r),t.size/2+n*Math.sin(r))}e.fillStyle=Pc,e.fill(),this.b&&(e.strokeStyle=t.strokeStyle,e.lineWidth=t.qd,t.lineDash&&e.setLineDash(t.lineDash),e.stroke()),e.closePath()},i(br,mr),br.prototype.clone=function(){var t=new br({fill:this.f?this.f.clone():void 0,stroke:this.b?this.b.clone():void 0,radius:this.c,snapToPixel:this.B,atlasManager:this.C});return t.j=this.j,t.o=this.o,t},wr.prototype.clone=function(){var t=this.a;return new wr({color:t&&t.slice?t.slice():t||void 0})},xr.prototype.clone=function(){var t=this.a;return new xr({color:t&&t.slice?t.slice():t||void 0,lineCap:this.f,lineDash:this.c?this.c.slice():void 0,lineJoin:this.g,miterLimit:this.i,width:this.b})},xr.prototype.setLineDash=function(t){this.c=t,this.o=void 0},Mr.prototype.clone=function(){var t=this.T();return t&&t.clone&&(t=t.clone()),new Mr({geometry:t,fill:this.b?this.b.clone():void 0,image:this.f?this.f.clone():void 0,stroke:this.c?this.c.clone():void 0,text:this.ha()?this.ha().clone():void 0,zIndex:this.a})},Mr.prototype.T=function(){return this.i},Mr.prototype.ha=function(){return this.o},Mr.prototype.Da=function(t){"function"==typeof t?this.g=t:"string"==typeof t?this.g=function(e){return e.get(t)}:t?t&&(this.g=function(){return t}):this.g=kr,this.i=t};var Dc=null;i(Ar,Qn),i(Ir,Er),gu=Ir.prototype,gu.Ra=function(t){if(wt(this.o,t.M())){if(this.c||this.a){this.c&&Dr(this,this.c),this.a&&Rr(this,this.a);var e;e=this.A;var i=this.F,n=t.s;e=n?Gt(n,0,n.length,t.a,e,i):null,i=e[2]-e[0],n=e[3]-e[1],i=Math.sqrt(i*i+n*n),n=this.f,n.beginPath(),n.arc(e[0],e[1],i,0,2*Math.PI),this.c&&n.fill(),this.a&&n.stroke()}""!==this.b&&Pr(this,t.s.slice(0,t.a),2,2)}},gu.cd=function(t){this.fa(t.b,t.c),this.Ea(t.f),this.Ca(t.ha());
},gu.mb=function(t){var e=t.s;t=t.a,this.g&&Tr(this,e,e.length),""!==this.b&&Pr(this,e,e.length,t)},gu.kb=function(t){var e=t.s;t=t.a,this.g&&Tr(this,e,e.length),""!==this.b&&Pr(this,e,e.length,t)},gu.ib=function(t){if(wt(this.o,t.M())){if(this.a){Rr(this,this.a);var e=this.f,i=t.s;e.beginPath(),Fr(this,i,0,i.length,t.a,!1),e.stroke()}""!==this.b&&(t=eh(t),Pr(this,t,2,2))}},gu.jb=function(t){var e=t.M();if(wt(this.o,e)){if(this.a){Rr(this,this.a);var e=this.f,i=t.s,n=0,r=t.Ta(),o=t.a;e.beginPath();var a,s;for(a=0,s=r.length;a<s;++a)n=Fr(this,i,n,r[a],o,!1);e.stroke()}""!==this.b&&(t=rh(t),Pr(this,t,t.length,2))}},gu.nb=function(t){if(wt(this.o,t.M())){if(this.a||this.c){this.c&&Dr(this,this.c),this.a&&Rr(this,this.a);var e=this.f;e.beginPath(),_r(this,ve(t),0,t.Ta(),t.a),this.c&&e.fill(),this.a&&e.stroke()}""!==this.b&&(t=de(t),Pr(this,t,2,2))}},gu.lb=function(t){if(wt(this.o,t.M())){if(this.a||this.c){this.c&&Dr(this,this.c),this.a&&Rr(this,this.a);var e,i,n=this.f,r=lh(t),o=0,a=t.f,s=t.a;for(n.beginPath(),e=0,i=a.length;e<i;++e)o=_r(this,r,o,a[e],s);this.c&&n.fill(),this.a&&n.stroke()}""!==this.b&&(t=hh(t),Pr(this,t,t.length,2))}},gu.fa=function(t,e){if(t){var i=t.a;this.c={fillStyle:$e(i?i:Pc)}}else this.c=null;if(e){var i=e.a,n=e.f,r=e.c,o=e.g,a=e.b,s=e.i;this.a={lineCap:void 0!==n?n:"round",lineDash:r?r:Fc,lineJoin:void 0!==o?o:"round",lineWidth:this.B*(void 0!==a?a:1),miterLimit:void 0!==s?s:10,strokeStyle:$e(i?i:_c)}}else this.a=null},gu.Ea=function(t){if(t){var e=t.pb(),i=t.rb(1),n=t.sb(),r=t.Ma();this.C=e[0],this.G=e[1],this.L=r[1],this.g=i,this.D=t.j,this.ba=n[0],this.ca=n[1],this.xa=t.F,this.ia=t.u,this.i=t.o,this.sa=t.B,this.Y=r[0]}else this.g=null},gu.Ca=function(t){if(t){var e=t.a;e?(e=e.a,this.j={fillStyle:$e(e?e:Pc)}):this.j=null;var i=t.b;if(i){var e=i.a,n=i.f,r=i.c,o=i.g,a=i.b,i=i.i;this.u={lineCap:void 0!==n?n:"round",lineDash:r?r:Fc,lineJoin:void 0!==o?o:"round",lineWidth:void 0!==a?a:1,miterLimit:void 0!==i?i:10,strokeStyle:$e(e?e:_c)}}else this.u=null;var e=t.f,n=t.g,r=t.i,o=t.o,a=t.j,i=t.c,s=t.ha(),h=t.l;t=t.u,this.P={font:void 0!==e?e:"10px sans-serif",textAlign:void 0!==h?h:"center",textBaseline:void 0!==t?t:"middle"},this.b=void 0!==s?s:"",this.ta=void 0!==n?this.B*n:0,this.za=void 0!==r?this.B*r:0,this.Aa=void 0!==o&&o,this.Ba=void 0!==a?a:0,this.l=this.B*(void 0!==i?i:1)}else this.b=""},i(jr,_),jr.prototype.na=n,jr.prototype.j=function(t,e,i){return function(n,r){return ou(t,e,n,r,function(t){i[n]||(i[n]={}),i[n][t.ga.toString()]=t})}},i(Xr,jr),Xr.prototype.L=function(t,e,i){Gr(this,"postcompose",t,e,i)},i(Yr,Xr),Yr.prototype.o=function(t,e,i){Gr(this,"precompose",i,t,void 0);var n=this.i.canvas;if(n){var r=e.extent,o=void 0!==r;o&&Hr(i,t,r);var r=this.u,a=i.globalAlpha;i.globalAlpha=e.opacity,i.drawImage(n,0,0,+n.width,+n.height,Math.round(r[4]),Math.round(r[5]),Math.round(n.width*r[0]),Math.round(n.height*r[3])),i.globalAlpha=a,o&&i.restore()}this.L(i,t)},Yr.prototype.na=function(t,e,i,n,r){var o=this.a;return o.oa().na(t,e.viewState.resolution,e.viewState.rotation,i,e.skippedFeatureUids,function(t){return n.call(r,t,o)})},i(qr,Yr),qr.prototype.l=function(t,e){var i=t.pixelRatio,n=t.size,r=t.viewState,o=r.projection,a=r.resolution,r=r.center,s=this.a,h=s.oa(),l=h.c,u=h.Ga(o),c=Ue(u,a,0),f=u.a[c],d=t.extent;if(void 0!==e.extent&&(d=mt(d,e.extent)),d[2]<d[0]||d[3]<d[1])return!1;var p,v=Re(u,d,f),g=_e(u,c);p=u.a[c];var y=Te(Ve(u,c),u.o);p=st(g[0]+v.K*y[0]*p,g[1]+v.N*y[1]*p,g[0]+(v.J+1)*y[0]*p,g[1]+(v.R+1)*y[1]*p,void 0),g=h.i,y={},y[c]={};var m,b,w,x=this.j(h,o,y),M=s.get(Tc),S=this.V,C=this.ba,L=!1;for(b=v.K;b<=v.J;++b)for(w=v.N;w<=v.R;++w){m=du(h,c,b,w,i,o);var k=m.aa();k==oc||4==k||3==k&&!M?k==oc&&(y[c][m.ga.toString()]=m,L||-1!=this.g.indexOf(m)||(L=!0)):(m=Ui(m),Fe(u,m.ga,x,C,S)||(m=De(u,m.ga,C,S))&&x(c+1,m))}if(b=t.viewHints,!(this.f&&16<Date.now()-t.time&&(b[Fu]||b[1])||!L&&this.b&&ut(this.b,p)&&this.G==l)){m=au(h,c,o),b=(v.J-v.K+1)*m[0],m=(v.R-v.N+1)*m[0],L=this.i,w=L.canvas,x=h.jc(o),w.width!=b||w.height!=m?(w.width=b,w.height=m):L.clearRect(0,0,b,m),this.g.length=0,M=Object.keys(y).map(Number),M.sort(O);var A,E,I,T,P,F,k=0;for(E=M.length;k<E;++k){b=M[k],C=au(h,b,o),m=u.a[b],A=m/f,I=g*h.gc(o),T=y[b];for(var _ in T)m=T[_],w=Oe(u,m.ga,S),b=(w[0]-p[0])/f*g,w=(p[3]-w[3])/f*g,P=C[0]*A,F=C[1]*A,x||L.clearRect(b,w,P,F),this.C(m,b,w,P,F,I),this.g.push(m)}this.G=l,this.f=f,this.b=p}return _=i/g*this.f/a,_=hr(this.u,i*n[0]/2,i*n[1]/2,_,_,0,g*(this.b[0]-r[0])/this.f,g*(r[1]-this.b[3])/this.f),hr(this.A,i*n[0]/2-_[4],i*n[1]/2-_[5],i/a,-i/a,0,-r[0],-r[1]),Ur(t.usedTiles,h,c,v),Wr(t,h,u,i,o,d,c,s.get(Ic)),Or(t,h),Vr(t,h),0<this.g.length},qr.prototype.C=function(t,e,i,n,r,o){(t=t.Za())&&this.i.drawImage(t,o,o,t.width-2*o,t.height-2*o,e,i,n,r)},i(Kr,Er),Kr.prototype.g=function(t,e,i,n,r){to(this,t,e,i,n,r,this.c,void 0,void 0)},Kr.prototype.Kb=n,Kr.prototype.fc=function(){return this.ja},i(no,Kr),no.prototype.mb=function(t,e){if(this.j){Qr(this,e);var i=t.s,n=this.coordinates.length,i=Zr(this,i,0,i.length,t.a,!1,!1);this.c.push([4,n,i,this.j,this.b,this.i,this.o,this.l,this.u,this.D,this.F,this.B,this.A,this.C,this.G]),this.a.push([4,n,i,this.P,this.b,this.i,this.o,this.l,this.u,this.D,this.F,this.B,this.A,this.C,this.G]),io(this,e)}},no.prototype.kb=function(t,e){if(this.j){Qr(this,e);var i=t.s,n=this.coordinates.length,i=Zr(this,i,0,i.length,t.a,!1,!1);this.c.push([4,n,i,this.j,this.b,this.i,this.o,this.l,this.u,this.D,this.F,this.B,this.A,this.C,this.G]),this.a.push([4,n,i,this.P,this.b,this.i,this.o,this.l,this.u,this.D,this.F,this.B,this.A,this.C,this.G]),io(this,e)}},no.prototype.Kb=function(){eo(this),this.i=this.b=void 0,this.j=this.P=null,this.G=this.C=this.B=this.F=this.D=this.u=this.l=this.A=this.o=void 0},no.prototype.Ea=function(t){var e=t.pb(),i=t.Ma(),n=t.pc(1),r=t.rb(1),o=t.sb();this.b=e[0],this.i=e[1],this.P=n,this.j=r,this.o=i[1],this.l=t.j,this.u=o[0],this.D=o[1],this.F=t.F,this.B=t.u,this.A=t.o,this.C=t.B,this.G=i[0]},i(ro,Kr),gu=ro.prototype,gu.fc=function(){return this.i||(this.i=nt(this.ja),0<this.f&&it(this.i,this.resolution*(this.f+1)/2,this.i)),this.i},gu.ib=function(t,e){var i=this.b,n=i.lineWidth;void 0!==i.strokeStyle&&void 0!==n&&(ao(this),Qr(this,e),this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1],[1]),i=t.s,oo(this,i,0,i.length,t.a),this.a.push([12]),io(this,e))},gu.jb=function(t,e){var i=this.b,n=i.lineWidth;if(void 0!==i.strokeStyle&&void 0!==n){ao(this),Qr(this,e),this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1],[1]);var r,o,i=t.Ta(),n=t.s,a=t.a,s=0;for(r=0,o=i.length;r<o;++r)s=oo(this,n,s,i[r],a);this.a.push([12]),io(this,e)}},gu.Kb=function(){this.b.oc!=this.coordinates.length&&this.c.push([12]),eo(this),this.b=null},gu.fa=function(t,e){var i=e.a;this.b.strokeStyle=$e(i?i:_c),i=e.f,this.b.lineCap=void 0!==i?i:"round",i=e.c,this.b.lineDash=i?i:Fc,i=e.g,this.b.lineJoin=void 0!==i?i:"round",i=e.b,this.b.lineWidth=void 0!==i?i:1,i=e.i,this.b.miterLimit=void 0!==i?i:10,this.b.lineWidth>this.f&&(this.f=this.b.lineWidth,this.i=null)},i(so,Kr),gu=so.prototype,gu.Ra=function(t,e){var i=this.b,n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){lo(this,t),Qr(this,e),this.a.push([9,Ze(Pc)]),void 0!==i.strokeStyle&&this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1]);var r=t.s,n=this.coordinates.length;Zr(this,r,0,r.length,t.a,!1,!1),r=[1],n=[2,n],this.c.push(r,n),this.a.push(r,n),n=[7],this.a.push(n),void 0!==i.fillStyle&&this.c.push(n),void 0!==i.strokeStyle&&(i=[12],this.c.push(i),this.a.push(i)),io(this,e)}},gu.nb=function(t,e){var i=this.b;lo(this,t),Qr(this,e),this.a.push([9,Ze(Pc)]),void 0!==i.strokeStyle&&this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1]);var i=t.Ta(),n=ve(t);ho(this,n,0,i,t.a),io(this,e)},gu.lb=function(t,e){var i=this.b,n=i.strokeStyle;if(void 0!==i.fillStyle||void 0!==n){lo(this,t),Qr(this,e),this.a.push([9,Ze(Pc)]),void 0!==i.strokeStyle&&this.a.push([10,i.strokeStyle,i.lineWidth,i.lineCap,i.lineJoin,i.miterLimit,i.lineDash,!0,1]);var r,o,i=t.f,n=lh(t),a=t.a,s=0;for(r=0,o=i.length;r<o;++r)s=ho(this,n,s,i[r],a);io(this,e)}},gu.Kb=function(){eo(this),this.b=null;var t=this.ia;if(0!==t){var e,i,n=this.coordinates;for(e=0,i=n.length;e<i;++e)n[e]=t*Math.round(n[e]/t)}},gu.fc=function(){return this.i||(this.i=nt(this.ja),0<this.f&&it(this.i,this.resolution*(this.f+1)/2,this.i)),this.i},gu.fa=function(t,e){var i=this.b;if(t){var n=t.a;i.fillStyle=$e(n?n:Pc)}else i.fillStyle=void 0;e?(n=e.a,i.strokeStyle=$e(n?n:_c),n=e.f,i.lineCap=void 0!==n?n:"round",n=e.c,i.lineDash=n?n.slice():Fc,n=e.g,i.lineJoin=void 0!==n?n:"round",n=e.b,i.lineWidth=void 0!==n?n:1,n=e.i,i.miterLimit=void 0!==n?n:10,i.lineWidth>this.f&&(this.f=i.lineWidth,this.i=null)):(i.strokeStyle=void 0,i.lineCap=void 0,i.lineDash=null,i.lineJoin=void 0,i.lineWidth=void 0,i.miterLimit=void 0)},i(uo,Kr),uo.prototype.Ca=function(t){if(t){var e=t.a;e?(e=e.a,e=$e(e?e:Pc),this.b?this.b.fillStyle=e:this.b={fillStyle:e}):this.b=null;var i=t.b;if(i){var e=i.a,n=i.f,r=i.c,o=i.g,a=i.b,i=i.i,n=void 0!==n?n:"round",r=r?r.slice():Fc,o=void 0!==o?o:"round",a=void 0!==a?a:1,i=void 0!==i?i:10,e=$e(e?e:_c);if(this.i){var s=this.i;s.lineCap=n,s.lineDash=r,s.lineJoin=o,s.lineWidth=a,s.miterLimit=i,s.strokeStyle=e}else this.i={lineCap:n,lineDash:r,lineJoin:o,lineWidth:a,miterLimit:i,strokeStyle:e}}else this.i=null;var h=t.f,e=t.g,n=t.i,r=t.o,a=t.j,i=t.c,o=t.ha(),s=t.l,l=t.u;t=void 0!==h?h:"10px sans-serif",s=void 0!==s?s:"center",l=void 0!==l?l:"middle",this.o?(h=this.o,h.font=t,h.textAlign=s,h.textBaseline=l):this.o={font:t,textAlign:s,textBaseline:l},this.j=void 0!==o?o:"",this.l=void 0!==e?e:0,this.u=void 0!==n?n:0,this.D=void 0!==r&&r,this.F=void 0!==a?a:0,this.B=void 0!==i?i:1}else this.j=""};var Rc=["Polygon","Circle","LineString","Image","Text"];i(fo,Jr);var jc={0:[[!0]]};fo.prototype.na=function(t,e,i,n,r,o){n=Math.round(n);var a=2*n+1,s=hr(this.j,n+.5,n+.5,1/e,-1/e,-i,-t[0],-t[1]),h=this.o;h.canvas.width!==a||h.canvas.height!==a?(h.canvas.width=a,h.canvas.height=a):h.clearRect(0,0,a,a);var l;void 0!==this.i&&(l=at(),ft(l,t),it(l,e*(this.i+n),l));var u=vo(n);return yo(this,h,s,i,r,function(t){for(var e=h.getImageData(0,0,a,a).data,i=0;i<a;i++)for(var n=0;n<a;n++)if(u[i][n]&&0<e[4*(n*a+i)+3])return(t=o(t))?t:void h.clearRect(0,0,a,a)},l)},fo.prototype.a=function(t,e){var i=void 0!==t?t.toString():"0",n=this.c[i];return void 0===n&&(n={},this.c[i]=n),i=n[e],void 0===i&&(i=new Nc[e](this.D,this.f,this.u,this.l),n[e]=i),i},fo.prototype.b=function(){return g(this.c)},fo.prototype.g=function(t,e,i,n,r,o){var a=Object.keys(this.c).map(Number);a.sort(O);var s=this.f,h=s[0],l=s[1],u=s[2],s=s[3],h=[h,l,h,s,u,s,u,l];Gt(h,0,8,2,i,h),t.save(),t.beginPath(),t.moveTo(h[0],h[1]),t.lineTo(h[2],h[3]),t.lineTo(h[4],h[5]),t.lineTo(h[6],h[7]),t.clip(),o=o?o:Rc;for(var c,f,h=0,l=a.length;h<l;++h)for(c=this.c[a[h].toString()],u=0,s=o.length;u<s;++u)f=c[o[u]],void 0!==f&&f.g(t,e,i,n,r);t.restore()};var Nc={Circle:so,Image:no,LineString:ro,Polygon:so,Text:uo},Oc={Point:function(t,e,i,n){var r=i.f;if(r){if(2!=r.Lb())return;var o=t.a(i.a,"Image");o.Ea(r),o.mb(e,n)}(r=i.ha())&&(t=t.a(i.a,"Text"),t.Ca(r),co(t,e.s,2,2,n))},LineString:function(t,e,i,n){var r=i.c;if(r){var o=t.a(i.a,"LineString");o.fa(null,r),o.ib(e,n)}(r=i.ha())&&(t=t.a(i.a,"Text"),t.Ca(r),co(t,eh(e),2,2,n))},Polygon:function(t,e,i,n){var r=i.b,o=i.c;if(r||o){var a=t.a(i.a,"Polygon");a.fa(r,o),a.nb(e,n)}(r=i.ha())&&(t=t.a(i.a,"Text"),t.Ca(r),co(t,de(e),2,2,n))},MultiPoint:function(t,e,i,n){var r=i.f;if(r){if(2!=r.Lb())return;var o=t.a(i.a,"Image");o.Ea(r),o.kb(e,n)}(r=i.ha())&&(t=t.a(i.a,"Text"),t.Ca(r),i=e.s,co(t,i,i.length,e.a,n))},MultiLineString:function(t,e,i,n){var r=i.c;if(r){var o=t.a(i.a,"LineString");o.fa(null,r),o.jb(e,n)}(r=i.ha())&&(t=t.a(i.a,"Text"),t.Ca(r),e=rh(e),co(t,e,e.length,2,n))},MultiPolygon:function(t,e,i,n){var r=i.b,o=i.c;if(o||r){var a=t.a(i.a,"Polygon");a.fa(r,o),a.lb(e,n)}(r=i.ha())&&(t=t.a(i.a,"Text"),t.Ca(r),e=hh(e),co(t,e,e.length,2,n))},GeometryCollection:function(t,e,i,n){e=e.b;var r,o;for(r=0,o=e.length;r<o;++r)(0,Oc[e[r].$()])(t,e[r],i,n)},Circle:function(t,e,i,n){var r=i.b,o=i.c;if(r||o){var a=t.a(i.a,"Circle");a.fa(r,o),a.Ra(e,n)}(r=i.ha())&&(t=t.a(i.a,"Text"),t.Ca(r),co(t,e.s.slice(0,e.a),2,2,n))}};i(xo,Xr),xo.prototype.o=function(t,e,i){var n=t.extent,r=t.pixelRatio,o=e.Jb?t.skippedFeatureUids:{},a=t.viewState,s=a.projection,a=a.rotation,h=s.M(),l=this.a.oa(),u=zr(this,t,0);Gr(this,"precompose",i,t,u);var c=e.extent,f=void 0!==c;if(f&&Hr(i,t,c),(c=this.f)&&!c.b()){var d,p=0,v=0;if(F(this.a,"render")){d=i.canvas.width;var g=i.canvas.height;if(a){var y=Math.round(Math.sqrt(d*d+g*g)),p=(y-d)/2,v=(y-g)/2;d=g=y}this.g.canvas.width=d,this.g.canvas.height=g,d=this.g}else d=i;if(g=d.globalAlpha,d.globalAlpha=e.opacity,d!=i&&d.translate(p,v),e=t.size[0]*r,y=t.size[1]*r,gr(d,-a,e/2,y/2),c.g(d,r,u,a,o),l.u&&s.c&&!rt(h,n)){for(var s=n[0],l=bt(h),m=0;s<h[0];)--m,u=l*m,u=zr(this,t,u),c.g(d,r,u,a,o),s+=l;for(m=0,s=n[2];s>h[2];)++m,u=l*m,u=zr(this,t,u),c.g(d,r,u,a,o),s-=l;u=zr(this,t,0)}gr(d,a,e/2,y/2),d!=i&&(Gr(this,"render",d,t,u),i.drawImage(d.canvas,-p,-v),d.translate(-p,-v)),d.globalAlpha=g}f&&i.restore(),this.L(i,t,u)},xo.prototype.na=function(t,e,i,n,r){if(this.f){var a=this.a,s={};return this.f.na(t,e.viewState.resolution,e.viewState.rotation,i,{},function(t){var e=o(t).toString();if(!(e in s))return s[e]=!0,n.call(r,t,a)})}},xo.prototype.G=function(){Nr(this)},xo.prototype.l=function(t){function e(t){var e,n=t.g;if(n?e=n.call(t,l):(n=i.u)&&(e=n(t,l)),e){if(e){if(n=!1,Array.isArray(e))for(var r=0,o=e.length;r<o;++r)n=wo(f,t,e[r],bo(l,u),this.G,this)||n;else n=wo(f,t,e,bo(l,u),this.G,this)||n;t=n}else t=!1;this.b=this.b||t}}var i=this.a,n=i.oa();Br(t.attributions,n.B),Vr(t,n);var r=t.viewHints[Fu],o=t.viewHints[1],a=i.A,s=i.C;if(!this.b&&!a&&r||!s&&o)return!0;var h=t.extent,s=t.viewState,r=s.projection,l=s.resolution,u=t.pixelRatio,o=i.c,c=i.i,a=i.get("renderOrder");if(void 0===a&&(a=mo),h=it(h,c*l),c=s.projection.M(),n.u&&s.projection.c&&!rt(c,t.extent)&&(t=Math.max(bt(h)/2,bt(c)),h[0]=c[0]-t,h[2]=c[2]+t),!this.b&&this.A==l&&this.C==o&&this.u==a&&rt(this.i,h))return!0;this.f=null,this.b=!1;var f=new fo(.5*l/u,h,l,n.ba,i.i);if(Dl(n,h,l,r),a){var d=[];_l(n,h,function(t){d.push(t)},this),d.sort(a),d.forEach(e,this)}else _l(n,h,e,this);return go(f),this.A=l,this.C=o,this.u=a,this.i=h,this.f=f,!0},i(Mo,lr),Mo.prototype.Oc=function(t){return t instanceof vr?new qr(t):t instanceof Ar?new xo(t):null},Mo.prototype.$=function(){return"canvas"},Mo.prototype.uc=function(t){if(t){var e=this.f,i=t.pixelRatio,n=Math.round(t.size[0]*i),i=Math.round(t.size[1]*i);this.a.width!=n||this.a.height!=i?(this.a.width=n,this.a.height=i):e.clearRect(0,0,n,i);var r=t.viewState.rotation;ur(t),So(this,"precompose",t);var o=t.layerStatesArray;W(o),gr(e,r,n/2,i/2);var a,s,h,l,u=t.viewState.resolution;for(a=0,s=o.length;a<s;++a)l=o[a],h=l.layer,h=fr(this,h),$n(l,u)&&"ready"==l.pd&&h.l(t,l)&&h.o(t,l,e);gr(e,-r,n/2,i/2),So(this,"postcompose",t),this.c||(this.a.style.display="",this.c=!0),dr(this,t),t.postRenderFunctions.push(cr)}else this.c&&(this.a.style.display="none",this.c=!1)};var Bc=[0,0,0,1],Vc=[],Uc=[0,0,0,1],Wc=Number.EPSILON||2.220446049250313e-16;i(ko,Lo),ko.prototype.$=function(){return 35632},i(Ao,Lo),Ao.prototype.$=function(){return 35633},i(Eo,ko);var Xc=new Eo;i(Io,Ao);var Hc=new Io;i(_o,Er),_o.prototype.g=function(t,e,i,n,r,o,a,s,h,l,u){var c,f,d,p,v,g,y,m,b=t.a;this.o&&(c=b.isEnabled(b.STENCIL_TEST),f=b.getParameter(b.STENCIL_FUNC),d=b.getParameter(b.STENCIL_VALUE_MASK),p=b.getParameter(b.STENCIL_REF),v=b.getParameter(b.STENCIL_WRITEMASK),g=b.getParameter(b.STENCIL_FAIL),y=b.getParameter(b.STENCIL_PASS_DEPTH_PASS),m=b.getParameter(b.STENCIL_PASS_DEPTH_FAIL),b.enable(b.STENCIL_TEST),b.clear(b.STENCIL_BUFFER_BIT),b.stencilMask(255),b.stencilFunc(b.ALWAYS,1,255),b.stencilOp(b.KEEP,b.KEEP,b.REPLACE),this.o.g(t,e,i,n,r,o,a,s,h,l,u),b.stencilMask(0),b.stencilFunc(b.NOTEQUAL,1,255)),Wo(t,34962,this.u),Wo(t,34963,this.l),o=this.Nb(b,t,r,o);var w=ir(this.Ba);nr(w,rr(Ec,2/(i*r[0]),0,0,2/(i*r[1]),0,0)),sr(w,-n),nr(w,rr(Ec,1,0,0,1,-(e[0]-this.origin[0]),-(e[1]-this.origin[1]))),e=ir(this.Aa),nr(e,rr(Ec,2/r[0],0,0,2/r[1],0,0)),r=ir(this.za),0!==n&&sr(r,-n),b.uniformMatrix4fv(o.b,!1,Fo(this.sa,w)),b.uniformMatrix4fv(o.g,!1,Fo(this.sa,e)),b.uniformMatrix4fv(o.f,!1,Fo(this.sa,r)),b.uniform1f(o.c,a);var x;return void 0===h?this.ob(b,t,s,!1):(l?t=this.Db(b,t,s,h,u):(b.clear(b.COLOR_BUFFER_BIT|b.DEPTH_BUFFER_BIT),this.ob(b,t,s,!0),t=(t=h(null))?t:void 0),x=t),this.Ob(b,o),this.o&&(c||b.disable(b.STENCIL_TEST),b.clear(b.STENCIL_BUFFER_BIT),b.stencilFunc(f,p,d),b.stencilMask(v),b.stencilOp(g,m,y)),x};var Gc=35044;i(jo,_o),gu=jo.prototype,gu.Ra=function(t,e){var i=t.f(),n=t.a;if(i){this.b.push(this.a.length),this.i.push(e),this.f.v&&(this.F.push(this.a.length),this.f.v=!1),this.B=i;var r,i=t.s,i=zt(i,2,n,-this.origin[0],-this.origin[1]),o=this.c.length,a=this.a.length,s=o/4;for(r=0;2>r;r+=n)this.c[o++]=i[r],this.c[o++]=i[r+1],this.c[o++]=0,this.c[o++]=this.B,this.c[o++]=i[r],this.c[o++]=i[r+1],this.c[o++]=1,this.c[o++]=this.B,this.c[o++]=i[r],this.c[o++]=i[r+1],this.c[o++]=2,this.c[o++]=this.B,this.c[o++]=i[r],this.c[o++]=i[r+1],this.c[o++]=3,this.c[o++]=this.B,this.a[a++]=s,this.a[a++]=s+1,this.a[a++]=s+2,this.a[a++]=s+2,this.a[a++]=s+3,this.a[a++]=s,s+=4}else this.f.v&&(this.j.pop(),this.j.length&&(n=this.j[this.j.length-1],this.f.fillColor=n[0],this.f.strokeColor=n[1],this.f.lineWidth=n[2],this.f.v=!1))},gu.va=function(){this.u=new Ro(this.c),this.l=new Ro(this.a),this.b.push(this.a.length),0===this.F.length&&0<this.j.length&&(this.j=[]),this.a=this.c=null},gu.wa=function(t){var e=this.u,i=this.l;return function(){Xo(t,e),Xo(t,i)}},gu.Nb=function(t,e,i,n){var r,o=zo(e,Xc,Hc);return this.D?r=this.D:this.D=r=new To(t,o),Yo(e,o),t.enableVertexAttribArray(r.a),t.vertexAttribPointer(r.a,2,5126,!1,16,0),t.enableVertexAttribArray(r.o),t.vertexAttribPointer(r.o,1,5126,!1,16,8),t.enableVertexAttribArray(r.F),t.vertexAttribPointer(r.F,1,5126,!1,16,12),t.uniform2fv(r.Y,i),t.uniform1f(r.L,n),r},gu.Ob=function(t,e){t.disableVertexAttribArray(e.a),t.disableVertexAttribArray(e.o),t.disableVertexAttribArray(e.F)},gu.ob=function(t,e,i){if(g(i)){var n,r,a;for(r=this.b[this.b.length-1],i=this.F.length-1;0<=i;--i)n=this.F[i],a=this.j[i],t.uniform4fv(this.D.C,a[0]),No(this,t,a[1],a[2]),Do(t,e,n,r),r=n}else{var s,h,l,u;for(l=this.b.length-2,a=r=this.b[l+1],n=this.F.length-1;0<=n;--n){for(s=this.j[n],t.uniform4fv(this.D.C,s[0]),No(this,t,s[1],s[2]),s=this.F[n];0<=l&&this.b[l]>=s;)u=this.b[l],h=this.i[l],h=o(h).toString(),i[h]&&(r!==a&&Do(t,e,r,a),a=u),l--,r=u;r!==a&&Do(t,e,r,a),r=a=s}}},gu.Db=function(t,e,i,n,r){var a,s,h,l,u,c,f;for(f=this.b.length-2,h=this.b[f+1],a=this.F.length-1;0<=a;--a)for(s=this.j[a],t.uniform4fv(this.D.C,s[0]),No(this,t,s[1],s[2]),l=this.F[a];0<=f&&this.b[f]>=l;){if(s=this.b[f],u=this.i[f],c=o(u).toString(),void 0===i[c]&&u.T()&&(void 0===r||wt(r,u.T().M()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Do(t,e,s,h),h=n(u)))return h;f--,h=s}},gu.fa=function(t,e){var i,n;e?(i=e.c,this.f.lineDash=i?i:Vc,i=e.a,i=i instanceof CanvasGradient||i instanceof CanvasPattern?Uc:Ke(i).map(function(t,e){return 3!=e?t/255:t})||Uc,n=e.b,n=void 0!==n?n:1):(i=[0,0,0,0],n=0);var r=t?t.a:[0,0,0,0];r=r instanceof CanvasGradient||r instanceof CanvasPattern?Bc:Ke(r).map(function(t,e){return 3!=e?t/255:t})||Bc,this.f.strokeColor&&U(this.f.strokeColor,i)&&this.f.fillColor&&U(this.f.fillColor,r)&&this.f.lineWidth===n||(this.f.v=!0,this.f.fillColor=r,this.f.strokeColor=i,this.f.lineWidth=n,this.j.push([r,i,n]))},i(Oo,ko);var zc=new Oo;i(Bo,Ao);var Yc=new Bo;i(Uo,k),Uo.prototype.Z=function(){L(this.u);var t=this.a;if(!t.isContextLost()){for(var e in this.c)t.deleteBuffer(this.c[e].buffer);for(e in this.b)t.deleteProgram(this.b[e]);for(e in this.f)t.deleteShader(this.f[e]);t.deleteFramebuffer(this.g),t.deleteRenderbuffer(this.j),t.deleteTexture(this.l)}},Uo.prototype.D=function(){p(this.c),p(this.f),p(this.b),this.j=this.l=this.g=this.o=null},Uo.prototype.F=function(){},i(Ko,_o),gu=Ko.prototype,gu.wa=function(t){var e=this.u,i=this.l,n=this.ta,r=this.F,o=t.a;return function(){if(!o.isContextLost()){var a,s;for(a=0,s=n.length;a<s;++a)o.deleteTexture(n[a]);for(a=0,s=r.length;a<s;++a)o.deleteTexture(r[a])}Xo(t,e),Xo(t,i)}},gu.kb=function(t,e){this.b.push(this.a.length),this.i.push(e);var i=t.s;Zo(this,i,i.length,t.a)},gu.mb=function(t,e){this.b.push(this.a.length),this.i.push(e);var i=t.s;Zo(this,i,i.length,t.a)},gu.va=function(t){t=t.a,this.B.push(this.a.length),this.D.push(this.a.length),this.u=new Ro(this.c),this.l=new Ro(this.a);var e={};Qo(this.ta,this.j,e,t),Qo(this.F,this.f,e,t),this.L=this.C=this.A=void 0,this.f=this.j=null,this.P=this.Y=void 0,this.a=null,this.xa=this.ca=this.ba=this.ka=this.ja=this.V=void 0,this.c=null,this.ia=void 0},gu.Nb=function(t,e){var i,n=zo(e,zc,Yc);return this.G?i=this.G:this.G=i=new Vo(t,n),Yo(e,n),t.enableVertexAttribArray(i.a),t.vertexAttribPointer(i.a,2,5126,!1,32,0),t.enableVertexAttribArray(i.u),t.vertexAttribPointer(i.u,2,5126,!1,32,8),t.enableVertexAttribArray(i.A),t.vertexAttribPointer(i.A,2,5126,!1,32,16),t.enableVertexAttribArray(i.D),t.vertexAttribPointer(i.D,1,5126,!1,32,24),t.enableVertexAttribArray(i.B),t.vertexAttribPointer(i.B,1,5126,!1,32,28),i},gu.Ob=function(t,e){t.disableVertexAttribArray(e.a),t.disableVertexAttribArray(e.u),t.disableVertexAttribArray(e.A),t.disableVertexAttribArray(e.D),t.disableVertexAttribArray(e.B)},gu.ob=function(t,e,i,n){var r=n?this.F:this.ta;if(n=n?this.D:this.B,g(i)){var a,s;for(i=0,a=r.length,s=0;i<a;++i){t.bindTexture(3553,r[i]);var h=n[i];Do(t,e,s,h),s=h}}else for(s=a=0,h=r.length;s<h;++s){t.bindTexture(3553,r[s]);for(var l=0<s?n[s-1]:0,u=n[s],c=l;a<this.b.length&&this.b[a]<=u;){var f=o(this.i[a]).toString();void 0!==i[f]?(c!==l&&Do(t,e,c,l),l=c=a===this.b.length-1?u:this.b[a+1]):l=a===this.b.length-1?u:this.b[a+1],a++}c!==l&&Do(t,e,c,l)}},gu.Db=function(t,e,i,n,r){var a,s,h,l,u,c,f=this.b.length-1;for(a=this.F.length-1;0<=a;--a)for(t.bindTexture(3553,this.F[a]),s=0<a?this.D[a-1]:0,l=this.D[a];0<=f&&this.b[f]>=s;){if(h=this.b[f],u=this.i[f],c=o(u).toString(),void 0===i[c]&&u.T()&&(void 0===r||wt(r,u.T().M()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Do(t,e,h,l),l=n(u)))return l;l=h,f--}},gu.Ea=function(t){var e=t.pb(),i=t.rb(1),n=t.hc(),r=t.pc(1),a=t.j,s=t.sb(),h=t.F,l=t.u,u=t.Ma();t=t.o;var c;0===this.j.length?this.j.push(i):(c=this.j[this.j.length-1],o(c)!=o(i)&&(this.B.push(this.a.length),this.j.push(i))),0===this.f.length?this.f.push(r):(c=this.f[this.f.length-1],o(c)!=o(r)&&(this.D.push(this.a.length),this.f.push(r))),this.A=e[0],this.C=e[1],this.L=u[1],this.Y=n[1],this.P=n[0],this.V=a,this.ja=s[0],this.ka=s[1],this.ca=l,this.ba=h,this.xa=t,this.ia=u[0]},i(ta,ko);var qc=new ta;i(ea,Ao);var Jc=new ea;i(na,_o),gu=na.prototype,gu.ib=function(t,e){var i=t.s,n=t.a;aa(i,i.length,n)&&(i=zt(i,i.length,n,-this.origin[0],-this.origin[1]),this.f.v&&(this.j.push(this.a.length),this.f.v=!1),this.b.push(this.a.length),this.i.push(e),ra(this,i,i.length,n))},gu.jb=function(t,e){var i,n,r=this.a.length,o=nh(t);for(i=0,n=o.length;i<n;++i){var a=o[i].s,s=o[i].a;aa(a,a.length,s)&&(a=zt(a,a.length,s,-this.origin[0],-this.origin[1]),ra(this,a,a.length,s))}this.a.length>r&&(this.b.push(r),this.i.push(e),this.f.v&&(this.j.push(r),this.f.v=!1))},gu.va=function(){this.u=new Ro(this.c),this.l=new Ro(this.a),this.b.push(this.a.length),0===this.j.length&&0<this.F.length&&(this.F=[]),this.a=this.c=null},gu.wa=function(t){var e=this.u,i=this.l;return function(){Xo(t,e),Xo(t,i)}},gu.Nb=function(t,e,i,n){var r,o=zo(e,qc,Jc);return this.D?r=this.D:this.D=r=new ia(t,o),Yo(e,o),t.enableVertexAttribArray(r.j),t.vertexAttribPointer(r.j,2,5126,!1,28,0),t.enableVertexAttribArray(r.a),t.vertexAttribPointer(r.a,2,5126,!1,28,8),t.enableVertexAttribArray(r.l),t.vertexAttribPointer(r.l,2,5126,!1,28,16),t.enableVertexAttribArray(r.i),t.vertexAttribPointer(r.i,1,5126,!1,28,24),t.uniform2fv(r.Y,i),t.uniform1f(r.L,n),r},gu.Ob=function(t,e){t.disableVertexAttribArray(e.j),t.disableVertexAttribArray(e.a),t.disableVertexAttribArray(e.l),t.disableVertexAttribArray(e.i)},gu.ob=function(t,e,i,n){var r=t.getParameter(t.DEPTH_FUNC),a=t.getParameter(t.DEPTH_WRITEMASK);if(n||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),g(i)){var s,h,l;for(h=this.b[this.b.length-1],i=this.j.length-1;0<=i;--i)s=this.j[i],l=this.F[i],la(this,t,l[0],l[1],l[2]),Do(t,e,s,h),t.clear(t.DEPTH_BUFFER_BIT),h=s}else{var u,c,f,d;for(f=this.b.length-2,l=h=this.b[f+1],s=this.j.length-1;0<=s;--s){for(u=this.F[s],la(this,t,u[0],u[1],u[2]),u=this.j[s];0<=f&&this.b[f]>=u;)d=this.b[f],c=this.i[f],c=o(c).toString(),i[c]&&(h!==l&&(Do(t,e,h,l),t.clear(t.DEPTH_BUFFER_BIT)),l=d),f--,h=d;h!==l&&(Do(t,e,h,l),t.clear(t.DEPTH_BUFFER_BIT)),h=l=u}}n||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(a),t.depthFunc(r))},gu.Db=function(t,e,i,n,r){var a,s,h,l,u,c,f;for(f=this.b.length-2,h=this.b[f+1],a=this.j.length-1;0<=a;--a)for(s=this.F[a],la(this,t,s[0],s[1],s[2]),l=this.j[a];0<=f&&this.b[f]>=l;){if(s=this.b[f],u=this.i[f],c=o(u).toString(),void 0===i[c]&&u.T()&&(void 0===r||wt(r,u.T().M()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Do(t,e,s,h),h=n(u)))return h;f--,h=s}},gu.fa=function(t,e){var i=e.f;this.f.lineCap=void 0!==i?i:"round",i=e.c,this.f.lineDash=i?i:Vc,i=e.g,this.f.lineJoin=void 0!==i?i:"round",i=e.a,i=i instanceof CanvasGradient||i instanceof CanvasPattern?Uc:Ke(i).map(function(t,e){return 3!=e?t/255:t})||Uc;var n=e.b,n=void 0!==n?n:1,r=e.i,r=void 0!==r?r:10;this.f.strokeColor&&U(this.f.strokeColor,i)&&this.f.lineWidth===n&&this.f.miterLimit===r||(this.f.v=!0,this.f.strokeColor=i,this.f.lineWidth=n,this.f.miterLimit=r,this.F.push([i,n,r]))},i(ua,ko);var Kc=new ua;i(ca,Ao);var Zc=new ca;da.prototype.concat=function(t){if(t.a){if(this.a){var e=this.a.next;this.a.next=t.b,t.b.pa=this.a,e.pa=t.c,t.c.next=e,this.f+=t.f}else this.a=t.a,this.b=t.b,this.c=t.c,this.f=t.f;t.a=void 0,t.b=void 0,t.c=void 0,t.f=0}};var Qc;!function(){var t={},i={S:t};!function(e){if("object"==typeof t&&"undefined"!=typeof i)i.S=e();else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this,n.If=e()}}(function(){return function t(i,n,r){function o(s,h){if(!n[s]){if(!i[s]){var l="function"==typeof e&&e;if(!h&&l)return l(s,!0);if(a)return a(s,!0);throw l=Error("Cannot find module '"+s+"'"),l.code="MODULE_NOT_FOUND",l}l=n[s]={S:{}},i[s][0].call(l.S,function(t){var e=i[s][1][t];return o(e?e:t)},l,l.S,t,i,n,r)}return n[s].S}for(var a="function"==typeof e&&e,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e){function i(t,e,o,a,s){for(o=o||0,a=a||t.length-1,s=s||r;a>o;){if(600<a-o){var h=a-o+1,l=e-o+1,u=Math.log(h),c=.5*Math.exp(2*u/3),u=.5*Math.sqrt(u*c*(h-c)/h)*(0>l-h/2?-1:1);i(t,e,Math.max(o,Math.floor(e-l*c/h+u)),Math.min(a,Math.floor(e+(h-l)*c/h+u)),s)}for(h=t[e],l=o,c=a,n(t,o,e),0<s(t[a],h)&&n(t,o,a);l<c;){for(n(t,l,c),l++,c--;0>s(t[l],h);)l++;for(;0<s(t[c],h);)c--}0===s(t[o],h)?n(t,o,c):(c++,n(t,c,a)),c<=e&&(o=c+1),e<=c&&(a=c-1)}}function n(t,e,i){var n=t[e];t[e]=t[i],t[i]=n}function r(t,e){return t<e?-1:t>e?1:0}e.S=i},{}],2:[function(t,e){function i(t,e){return this instanceof i?(this.Yb=Math.max(4,t||9),this.Fc=Math.max(2,Math.ceil(.4*this.Yb)),e&&this.Dd(e),void this.clear()):new i(t,e)}function n(t,e){r(t,0,t.children.length,e,t)}function r(t,e,i,n,r){r||(r=f(null)),r.K=1/0,r.N=1/0,r.J=-(1/0),r.R=-(1/0);for(var a;e<i;e++)a=t.children[e],o(r,t.ma?n(a):a);return r}function o(t,e){t.K=Math.min(t.K,e.K),t.N=Math.min(t.N,e.N),t.J=Math.max(t.J,e.J),t.R=Math.max(t.R,e.R)}function a(t,e){return t.K-e.K}function s(t,e){return t.N-e.N}function h(t){return(t.J-t.K)*(t.R-t.N)}function l(t){return t.J-t.K+(t.R-t.N)}function u(t,e){return t.K<=e.K&&t.N<=e.N&&e.J<=t.J&&e.R<=t.R}function c(t,e){return e.K<=t.J&&e.N<=t.R&&e.J>=t.K&&e.R>=t.N}function f(t){return{children:t,height:1,ma:!0,K:1/0,N:1/0,J:-(1/0),R:-(1/0)}}function d(t,e,i,n,r){for(var o,a=[e,i];a.length;)i=a.pop(),e=a.pop(),i-e<=n||(o=e+Math.ceil((i-e)/n/2)*n,p(t,o,e,i,r),a.push(e,o,o,i))}e.S=i;var p=t("quickselect");i.prototype={all:function(){return this.Ac(this.data,[])},search:function(t){var e=this.data,i=[],n=this.ra;if(!c(t,e))return i;for(var r,o,a,s,h=[];e;){for(r=0,o=e.children.length;r<o;r++)a=e.children[r],s=e.ma?n(a):a,c(t,s)&&(e.ma?i.push(a):u(t,s)?this.Ac(a,i):h.push(a));e=h.pop()}return i},load:function(t){if(!t||!t.length)return this;if(t.length<this.Fc){for(var e=0,i=t.length;e<i;e++)this.Ha(t[e]);return this}return t=this.Cc(t.slice(),0,t.length-1,0),this.data.children.length?this.data.height===t.height?this.Ic(this.data,t):(this.data.height<t.height&&(e=this.data,this.data=t,t=e),this.Ec(t,this.data.height-t.height-1,!0)):this.data=t,this},Ha:function(t){return t&&this.Ec(t,this.data.height-1),this},clear:function(){return this.data=f([]),this},remove:function(t,e){if(!t)return this;for(var i,n,r,o,a=this.data,s=this.ra(t),h=[],l=[];a||h.length;){if(a||(a=h.pop(),n=h[h.length-1],i=l.pop(),o=!0),a.ma){t:{r=t;var c=a.children,f=e;if(f){for(var d=0;d<c.length;d++)if(f(r,c[d])){r=d;break t}r=-1}else r=c.indexOf(r)}if(-1!==r){a.children.splice(r,1),h.push(a),this.Bd(h);break}}o||a.ma||!u(a,s)?n?(i++,a=n.children[i],o=!1):a=null:(h.push(a),l.push(i),i=0,n=a,a=a.children[0])}return this},ra:function(t){return t},cc:a,dc:s,toJSON:function(){return this.data},Ac:function(t,e){for(var i=[];t;)t.ma?e.push.apply(e,t.children):i.push.apply(i,t.children),t=i.pop();return e},Cc:function(t,e,i,r){var o,a=i-e+1,s=this.Yb;if(a<=s)return o=f(t.slice(e,i+1)),n(o,this.ra),o;r||(r=Math.ceil(Math.log(a)/Math.log(s)),s=Math.ceil(a/Math.pow(s,r-1))),o=f([]),o.ma=!1,o.height=r;var h,l,u,a=Math.ceil(a/s),s=a*Math.ceil(Math.sqrt(s));for(d(t,e,i,s,this.cc);e<=i;e+=s)for(l=Math.min(e+s-1,i),d(t,e,l,a,this.dc),h=e;h<=l;h+=a)u=Math.min(h+a-1,l),o.children.push(this.Cc(t,h,u,r-1));return n(o,this.ra),o},Ad:function(t,e,i,n){for(var r,o,a,s,l,u,c,f;n.push(e),!e.ma&&n.length-1!==i;){for(c=f=1/0,r=0,o=e.children.length;r<o;r++)a=e.children[r],l=h(a),u=(Math.max(a.J,t.J)-Math.min(a.K,t.K))*(Math.max(a.R,t.R)-Math.min(a.N,t.N))-l,u<f?(f=u,c=l<c?l:c,s=a):u===f&&l<c&&(c=l,s=a);e=s||e.children[0]}return e},Ec:function(t,e,i){var n=this.ra;i=i?t:n(t);var n=[],r=this.Ad(i,this.data,e,n);for(r.children.push(t),o(r,i);0<=e&&n[e].children.length>this.Yb;)this.Hd(n,e),e--;this.xd(i,n,e)},Hd:function(t,e){var i=t[e],r=i.children.length,o=this.Fc;this.yd(i,o,r),r=this.zd(i,o,r),r=f(i.children.splice(r,i.children.length-r)),r.height=i.height,r.ma=i.ma,n(i,this.ra),n(r,this.ra),e?t[e-1].children.push(r):this.Ic(i,r)},Ic:function(t,e){this.data=f([t,e]),this.data.height=t.height+1,this.data.ma=!1,n(this.data,this.ra)},zd:function(t,e,i){var n,o,a,s,l,u,c;for(l=u=1/0,n=e;n<=i-e;n++)o=r(t,0,n,this.ra),a=r(t,n,i,this.ra),s=Math.max(0,Math.min(o.J,a.J)-Math.max(o.K,a.K))*Math.max(0,Math.min(o.R,a.R)-Math.max(o.N,a.N)),o=h(o)+h(a),s<l?(l=s,c=n,u=o<u?o:u):s===l&&o<u&&(u=o,c=n);return c},yd:function(t,e,i){var n=t.ma?this.cc:a,r=t.ma?this.dc:s,o=this.Bc(t,e,i,n);e=this.Bc(t,e,i,r),o<e&&t.children.sort(n)},Bc:function(t,e,i,n){t.children.sort(n),n=this.ra;var a,s,h=r(t,0,e,n),u=r(t,i-e,i,n),c=l(h)+l(u);for(a=e;a<i-e;a++)s=t.children[a],o(h,t.ma?n(s):s),c+=l(h);for(a=i-e-1;a>=e;a--)s=t.children[a],o(u,t.ma?n(s):s),c+=l(u);return c},xd:function(t,e,i){for(;0<=i;i--)o(e[i],t)},Bd:function(t){for(var e,i=t.length-1;0<=i;i--)0===t[i].children.length?0<i?(e=t[i-1].children,e.splice(e.indexOf(t[i]),1)):this.clear():n(t[i],this.ra)},Dd:function(t){var e=["return a"," - b",";"];this.cc=new Function("a","b",e.join(t[0])),this.dc=new Function("a","b",e.join(t[1])),this.ra=new Function("a","return {minX: a"+t[0]+", minY: a"+t[1]+", maxX: a"+t[2]+", maxY: a"+t[3]+"};");
}}},{quickselect:1}]},{},[2])(2)}),Qc=i.S}(),gu=xa.prototype,gu.Ha=function(t,e){var i={K:t[0],N:t[1],J:t[2],R:t[3],value:e};this.a.Ha(i),this.c[o(e)]=i},gu.load=function(t,e){for(var i=Array(e.length),n=0,r=e.length;n<r;n++){var a=t[n],s=e[n],a={K:a[0],N:a[1],J:a[2],R:a[3],value:s};i[n]=a,this.c[o(s)]=a}this.a.load(i)},gu.remove=function(t){t=o(t);var e=this.c[t];return delete this.c[t],null!==this.a.remove(e)},gu.forEach=function(t,e){return ka(Sa(this),t,e)},gu.clear=function(){this.a.clear(),this.c={}},gu.M=function(){var t=this.a.data;return[t.K,t.N,t.J,t.R]},i(Aa,_o),gu=Aa.prototype,gu.lb=function(t,e){var i,n,r,o,a=uh(t),s=t.a,h=this.a.length,l=this.o.a.length;for(i=0,n=a.length;i<n;++i){var u=pe(a[i]);if(0<u.length){var c,f=u[0].s,f=zt(f,f.length,s,-this.origin[0],-this.origin[1]),d=[];for(r=1,o=u.length;r<o;++r)c=u[r].s,c=zt(c,c.length,s,-this.origin[0],-this.origin[1]),d.push(c);sa(this.o,f,d,s),Ea(this,f,d,s)}}this.a.length>h&&(this.b.push(h),this.i.push(e),this.j.v&&(this.f.push(h),this.j.v=!1)),this.o.a.length>l&&ha(this.o,e,l)},gu.nb=function(t,e){var i=pe(t),n=t.a;if(0<i.length){this.b.push(this.a.length),this.i.push(e),this.j.v&&(this.f.push(this.a.length),this.j.v=!1),ha(this.o,e);var r,o,a,s=i[0].s,s=zt(s,s.length,n,-this.origin[0],-this.origin[1]),h=[];for(r=1,o=i.length;r<o;++r)a=i[r].s,a=zt(a,a.length,n,-this.origin[0],-this.origin[1]),h.push(a);sa(this.o,s,h,n),Ea(this,s,h,n)}},gu.va=function(t){this.u=new Ro(this.c),this.l=new Ro(this.a),this.b.push(this.a.length),this.o.va(t),0===this.f.length&&0<this.F.length&&(this.F=[]),this.a=this.c=null},gu.wa=function(t){var e=this.u,i=this.l,n=this.o.wa(t);return function(){Xo(t,e),Xo(t,i),n()}},gu.Nb=function(t,e){var i,n=zo(e,Kc,Zc);return this.D?i=this.D:this.D=i=new fa(t,n),Yo(e,n),t.enableVertexAttribArray(i.a),t.vertexAttribPointer(i.a,2,5126,!1,8,0),i},gu.Ob=function(t,e){t.disableVertexAttribArray(e.a)},gu.ob=function(t,e,i,n){var r=t.getParameter(t.DEPTH_FUNC),a=t.getParameter(t.DEPTH_WRITEMASK);if(n||(t.enable(t.DEPTH_TEST),t.depthMask(!0),t.depthFunc(t.NOTEQUAL)),g(i)){var s,h,l;for(h=this.b[this.b.length-1],i=this.f.length-1;0<=i;--i)s=this.f[i],l=this.F[i],t.uniform4fv(this.D.C,l),Do(t,e,s,h),h=s}else{var u,c,f,d;for(f=this.b.length-2,l=h=this.b[f+1],s=this.f.length-1;0<=s;--s){for(u=this.F[s],t.uniform4fv(this.D.C,u),u=this.f[s];0<=f&&this.b[f]>=u;)d=this.b[f],c=this.i[f],c=o(c).toString(),i[c]&&(h!==l&&(Do(t,e,h,l),t.clear(t.DEPTH_BUFFER_BIT)),l=d),f--,h=d;h!==l&&(Do(t,e,h,l),t.clear(t.DEPTH_BUFFER_BIT)),h=l=u}}n||(t.disable(t.DEPTH_TEST),t.clear(t.DEPTH_BUFFER_BIT),t.depthMask(a),t.depthFunc(r))},gu.Db=function(t,e,i,n,r){var a,s,h,l,u,c,f;for(f=this.b.length-2,h=this.b[f+1],a=this.f.length-1;0<=a;--a)for(s=this.F[a],t.uniform4fv(this.D.C,s),l=this.f[a];0<=f&&this.b[f]>=l;){if(s=this.b[f],u=this.i[f],c=o(u).toString(),void 0===i[c]&&u.T()&&(void 0===r||wt(r,u.T().M()))&&(t.clear(t.COLOR_BUFFER_BIT|t.DEPTH_BUFFER_BIT),Do(t,e,s,h),h=n(u)))return h;f--,h=s}},gu.fa=function(t,e){var i=t?t.a:[0,0,0,0];i=i instanceof CanvasGradient||i instanceof CanvasPattern?Bc:Ke(i).map(function(t,e){return 3!=e?t/255:t})||Bc,this.j.fillColor&&U(i,this.j.fillColor)||(this.j.fillColor=i,this.j.v=!0,this.F.push(i)),e?this.o.fa(null,e):this.o.fa(null,new xr({color:[0,0,0,0],lineWidth:0}))},Xa.prototype.g=function(){},i(Ha,Jr),Ha.prototype.a=function(t,e){var i=void 0!==t?t.toString():"0",n=this.c[i];return void 0===n&&(n={},this.c[i]=n),i=n[e],void 0===i&&(i=new tf[e](this.o,this.i),n[e]=i),i},Ha.prototype.b=function(){return g(this.c)},Ha.prototype.g=function(t,e,i,n,r,o,a,s){var h=Object.keys(this.c).map(Number);h.sort(O);var l,u,c,f,d,p;for(l=0,u=h.length;l<u;++l)for(d=this.c[h[l].toString()],c=0,f=Rc.length;c<f;++c)p=d[Rc[c]],void 0!==p&&p.g(t,e,i,n,r,o,a,s,void 0,!1)},Ha.prototype.na=function(t,e,i,n,r,o,a,s,h,l){var u=e.a;u.bindFramebuffer(u.FRAMEBUFFER,Ho(e));var c;return void 0!==this.f&&(c=it(lt(t),n*this.f)),Ya(this,e,t,n,r,a,s,h,function(t){var e=new Uint8Array(4);if(u.readPixels(0,0,1,1,u.RGBA,u.UNSIGNED_BYTE,e),0<e[3]&&(t=l(t)))return t},c)};var $c=[1,1],tf={Circle:jo,Image:Ko,LineString:na,Polygon:Aa,Text:Xa};i(qa,Er),gu=qa.prototype,gu.cd=function(t){this.fa(t.b,t.c),this.Ea(t.f)},gu.mb=function(t,e){var i=this.a,n=new Ha(1,this.b).a(0,"Image");n.Ea(this.u),n.mb(t,e),n.va(i),n.g(this.a,this.c,this.g,this.i,this.o,this.f,1,{},void 0,!1),n.wa(i)()},gu.kb=function(t,e){var i=this.a,n=new Ha(1,this.b).a(0,"Image");n.Ea(this.u),n.kb(t,e),n.va(i),n.g(this.a,this.c,this.g,this.i,this.o,this.f,1,{},void 0,!1),n.wa(i)()},gu.ib=function(t,e){var i=this.a,n=new Ha(1,this.b).a(0,"LineString");n.fa(null,this.j),n.ib(t,e),n.va(i),n.g(this.a,this.c,this.g,this.i,this.o,this.f,1,{},void 0,!1),n.wa(i)()},gu.jb=function(t,e){var i=this.a,n=new Ha(1,this.b).a(0,"LineString");n.fa(null,this.j),n.jb(t,e),n.va(i),n.g(this.a,this.c,this.g,this.i,this.o,this.f,1,{},void 0,!1),n.wa(i)()},gu.nb=function(t,e){var i=this.a,n=new Ha(1,this.b).a(0,"Polygon");n.fa(this.l,this.j),n.nb(t,e),n.va(i),n.g(this.a,this.c,this.g,this.i,this.o,this.f,1,{},void 0,!1),n.wa(i)()},gu.lb=function(t,e){var i=this.a,n=new Ha(1,this.b).a(0,"Polygon");n.fa(this.l,this.j),n.lb(t,e),n.va(i),n.g(this.a,this.c,this.g,this.i,this.o,this.f,1,{},void 0,!1),n.wa(i)()},gu.Ra=function(t,e){var i=this.a,n=new Ha(1,this.b).a(0,"Circle");n.fa(this.l,this.j),n.Ra(t,e),n.va(i),n.g(this.a,this.c,this.g,this.i,this.o,this.f,1,{},void 0,!1),n.wa(i)()},gu.Ea=function(t){this.u=t},gu.fa=function(t,e){this.l=t,this.j=e},i(Ja,ko);var ef=new Ja;i(Ka,Ao);var nf=new Ka;i(Qa,jr),Qa.prototype.dd=function(t,e,i){ts(this,"precompose",i,t),Wo(i,34962,this.ba);var n,r=i.a,o=zo(i,ef,nf);this.u?n=this.u:this.u=n=new Za(r,o),Yo(i,o)&&(r.enableVertexAttribArray(n.a),r.vertexAttribPointer(n.a,2,5126,!1,16,0),r.enableVertexAttribArray(n.c),r.vertexAttribPointer(n.c,2,5126,!1,16,8),r.uniform1i(n.g,0)),r.uniformMatrix4fv(n.i,!1,Fo(this.C,this.V)),r.uniformMatrix4fv(n.f,!1,Fo(this.C,this.ca)),r.uniform1f(n.b,e.opacity),r.bindTexture(3553,this.Ia),r.drawArrays(5,0,4),ts(this,"postcompose",i,t)},Qa.prototype.B=function(){this.i=this.Ia=null,this.o=void 0};var rf,of=-1<navigator.userAgent.indexOf("OPR"),af=-1<navigator.userAgent.indexOf("Edge");rf=!(!navigator.userAgent.match("CriOS")&&"chrome"in window&&"Google Inc."===navigator.vendor&&0==of&&0==af),i(as,D),as.prototype.na=n,as.prototype.aa=function(){return this.V},i(hs,ko);var sf=new hs;i(ls,Ao);var hf=new ls;i(cs,Qa),cs.prototype.Z=function(){Xo(this.f.g,this.G),Qa.prototype.Z.call(this)},cs.prototype.j=function(t,e,i){var n=this.f;return function(r,o){return ou(t,e,r,o,function(t){var e=ps(n.c,t.getKey());return e&&(i[r]||(i[r]={}),i[r][t.ga.toString()]=t),e})}},cs.prototype.B=function(){Qa.prototype.B.call(this),this.b=null},cs.prototype.ed=function(t,e,i){var n=this.f,r=i.a,o=t.viewState,a=o.projection,s=this.a,h=s.oa(),u=h.Ga(a),c=Ue(u,o.resolution),f=u.a[c],d=au(h,c,a),p=d[0]/Te(Ve(u,c),this.P)[0],v=f/p,g=h.i*h.gc(a),y=o.center,m=t.extent,b=Re(u,m,f);if(this.g&&Ee(this.g,b)&&this.l==h.c)v=this.A;else{var w=[b.J-b.K+1,b.R-b.N+1],x=l(Math.max(w[0]*d[0],w[1]*d[1])),w=v*x,M=_e(u,c),S=M[0]+b.K*d[0]*v,v=M[1]+b.N*d[1]*v,v=[S,v,S+w,v+w];$a(this,t,x),r.viewport(0,0,x,x),r.clearColor(0,0,0,0),r.clear(16384),r.disable(3042),x=zo(i,this.L,this.ia),Yo(i,x),this.b||(this.b=new us(r,x)),Wo(i,34962,this.G),r.enableVertexAttribArray(this.b.a),r.vertexAttribPointer(this.b.a,2,5126,!1,16,0),r.enableVertexAttribArray(this.b.c),r.vertexAttribPointer(this.b.c,2,5126,!1,16,8),r.uniform1i(this.b.b,0),i={},i[c]={};var C,L,k,A=this.j(h,a,i),E=s.get(Tc),x=!0,S=at(),I=new ke(0,0,0,0);for(L=b.K;L<=b.J;++L)for(k=b.N;k<=b.R;++k)if(M=du(h,c,L,k,p,a),void 0===e.extent||(C=Oe(u,M.ga,S),wt(C,e.extent))){if(C=M.aa(),(C=C==oc||4==C||3==C&&!E)||(M=Ui(M)),C=M.aa(),C==oc){if(ps(n.c,M.getKey())){i[c][M.ga.toString()]=M;continue}}else if(4==C||3==C&&!E)continue;x=!1,C=Fe(u,M.ga,A,I,S),C||(M=De(u,M.ga,I,S))&&A(c+1,M)}e=Object.keys(i).map(Number),e.sort(O);for(var T,A=new Float32Array(4),E=0,I=e.length;E<I;++E)for(T in L=i[e[E]])M=L[T],C=Oe(u,M.ga,S),A[0]=2*(C[2]-C[0])/w,A[1]=2*(C[3]-C[1])/w,A[2]=2*(C[0]-v[0])/w-1,A[3]=2*(C[1]-v[1])/w-1,r.uniform4fv(this.b.f,A),gs(n,M,d,g*p),r.drawArrays(5,0,4);x?(this.g=b,this.A=v,this.l=h.c):(this.A=this.g=null,this.l=-1,t.animate=!0)}Ur(t.usedTiles,h,c,b);var P=n.o;return Wr(t,h,u,p,a,m,c,s.get(Ic),function(t){var e;(e=t.aa()!=oc||ps(n.c,t.getKey()))||(e=t.getKey()in P.c),e||P.g([t,Ne(u,t.ga),u.a[t.ga[0]],d,g*p])},this),Or(t,h),Vr(t,h),r=this.V,ir(r),nr(r,rr(Ec,1,0,0,1,(Math.round(y[0]/f)*f-v[0])/(v[2]-v[0]),(Math.round(y[1]/f)*f-v[1])/(v[3]-v[1]))),0!==o.rotation&&sr(r,o.rotation),nr(r,rr(Ec,t.size[0]*o.resolution/(v[2]-v[0]),0,0,t.size[1]*o.resolution/(v[3]-v[1]),0,0)),nr(r,rr(Ec,1,0,0,1,-.5,-.5)),!0},i(fs,Qa),gu=fs.prototype,gu.dd=function(t,e,i){this.l=e;var n=t.viewState,r=this.b,o=t.size,a=t.pixelRatio,s=this.f.f;r&&!r.b()&&(s.enable(s.SCISSOR_TEST),s.scissor(0,0,o[0]*a,o[1]*a),r.g(i,n.center,n.resolution,n.rotation,o,a,e.opacity,e.Jb?t.skippedFeatureUids:{}),s.disable(s.SCISSOR_TEST))},gu.Z=function(){var t=this.b;t&&(Ga(t,this.f.g)(),this.b=null),Qa.prototype.Z.call(this)},gu.na=function(t,e,i,n,r){if(this.b&&this.l){i=e.viewState;var a=this.a,s={};return this.b.na(t,this.f.g,i.center,i.resolution,i.rotation,e.size,e.pixelRatio,this.l.opacity,{},function(t){var e=o(t).toString();if(!(e in s))return s[e]=!0,n.call(r,t,a)})}},gu.fd=function(){Nr(this)},gu.ed=function(t,e,i){function n(t){var e,i=t.g;if(i?e=i.call(t,l):(i=r.u)&&(e=i(t,l)),e){if(e){if(i=!1,Array.isArray(e))for(var n=e.length-1;0<=n;--n)i=wo(f,t,e[n],bo(l,u),this.fd,this)||i;else i=wo(f,t,e,bo(l,u),this.fd,this)||i;t=i}else t=!1;this.g=this.g||t}}var r=this.a;e=r.oa(),Br(t.attributions,e.B),Vr(t,e);var o=t.viewHints[Fu],a=t.viewHints[1],s=r.A,h=r.C;if(!this.g&&!s&&o||!h&&a)return!0;var a=t.extent,s=t.viewState,o=s.projection,l=s.resolution,u=t.pixelRatio,s=r.c,c=r.i,h=r.get("renderOrder");if(void 0===h&&(h=mo),a=it(a,c*l),!this.g&&this.L==l&&this.P==s&&this.G==h&&rt(this.A,a))return!0;this.b&&t.postRenderFunctions.push(Ga(this.b,i)),this.g=!1;var f=new Ha(.5*l/u,a,r.i);if(Dl(e,a,l,o),h){var d=[];_l(e,a,function(t){d.push(t)},this),d.sort(h),d.forEach(n,this)}else _l(e,a,n,this);return za(f,i),this.L=l,this.P=s,this.G=h,this.A=a,this.b=f,!0},gu=ds.prototype,gu.clear=function(){this.f=0,this.b={},this.c=this.a=null},gu.forEach=function(t,e){for(var i=this.a;i;)t.call(e,i.Na,i.La,this),i=i.ya},gu.get=function(t){return t=this.b[t],s(void 0!==t,15),t===this.c?t.Na:(t===this.a?(this.a=this.a.ya,this.a.$a=null):(t.ya.$a=t.$a,t.$a.ya=t.ya),t.ya=null,t.$a=this.c,this.c=this.c.ya=t,t.Na)},gu.pop=function(){var t=this.a;return delete this.b[t.La],t.ya&&(t.ya.$a=null),this.a=t.ya,this.a||(this.c=null),--this.f,t.Na},gu.replace=function(t,e){this.get(t),this.b[t].Na=e},gu.set=function(t,e){s(!(t in this.b),16);var i={La:t,ya:null,$a:this.c,Na:e};this.c?this.c.ya=i:this.a=i,this.c=i,this.b[t]=i,++this.f},i(vs,lr),gu=vs.prototype,gu.Oc=function(t){return t instanceof vr?new cs(this,t):t instanceof Ar?new fs(this,t):null},gu.Z=function(){var t=this.f;t.isContextLost()||this.c.forEach(function(e){e&&t.deleteTexture(e.Ia)}),A(this.g),lr.prototype.Z.call(this)},gu.Od=function(t,e){for(var i,n=this.f;1024<this.c.f-this.i;){if(i=this.c.a.Na)n.deleteTexture(i.Ia);else{if(+this.c.a.La==e.index)break;--this.i}this.c.pop()}},gu.$=function(){return"webgl"},gu.Ke=function(t){t.preventDefault(),this.c.clear(),this.i=0,t=this.b;for(var e in t)t[e].B()},gu.Le=function(){ms(this),this.j.render()},gu.uc=function(t){var e=this.g,i=this.f;if(i.isContextLost())return!1;if(!t)return this.l&&(this.a.style.display="none",this.l=!1),!1;this.D=t.focus,this.c.set((-t.index).toString(),null),++this.i,ys(this,"precompose",t);var n=[],r=t.layerStatesArray;W(r);var o,a,s,h,l=t.viewState.resolution;for(o=0,a=r.length;o<a;++o)h=r[o],$n(h,l)&&"ready"==h.pd&&(s=fr(this,h.layer),s.ed(t,h,e)&&n.push(h));for(r=t.size[0]*t.pixelRatio,l=t.size[1]*t.pixelRatio,this.a.width==r&&this.a.height==l||(this.a.width=r,this.a.height=l),i.bindFramebuffer(36160,null),i.clearColor(0,0,0,0),i.clear(16384),i.enable(3042),i.viewport(0,0,this.a.width,this.a.height),o=0,a=n.length;o<a;++o)h=n[o],s=fr(this,h.layer),s.dd(t,h,e);this.l||(this.a.style.display="",this.l=!0),ur(t),1024<this.c.f-this.i&&t.postRenderFunctions.push(this.Od.bind(this)),0!==this.o.a.length&&(t.postRenderFunctions.push(this.C),t.animate=!0),ys(this,"postcompose",t),dr(this,t),t.postRenderFunctions.push(cr)},gu.na=function(t,e,i,n,r,o,a){var s;if(this.f.isContextLost())return!1;var h,l=e.viewState,u=e.layerStatesArray;for(h=u.length-1;0<=h;--h){s=u[h];var c=s.layer;if($n(s,l.resolution)&&o.call(a,c)&&(s=fr(this,c).na(t,e,i,n,r)))return s}};var lf=["canvas","webgl"];i(bs,D),gu=bs.prototype,gu.Id=function(t){this.g.push(t)},gu.Jd=function(t){this.Fb().get(mc).push(t)},gu.Kd=function(t){this.A.push(t)},gu.Jc=function(t){var e=t.bd;void 0!==e&&(this.kd[e.toString()]=t),t.setMap(this)},gu.Z=function(){A(this.ca),A(this.V),S(this.a,"wheel",this.Va,this),S(this.a,"mousewheel",this.Va,this),void 0!==this.f&&(window.removeEventListener("resize",this.f,!1),this.f=void 0),this.i&&(cancelAnimationFrame(this.i),this.i=void 0),this.set(ff,null),D.prototype.Z.call(this)},gu.Pd=function(t,e,i){if(this.b)return t=this.Ka(t),i=void 0!==i?i:{},this.V.na(t,this.b,void 0!==i.hitTolerance?i.hitTolerance*this.b.pixelRatio:0,e,null,void 0!==i.layerFilter?i.layerFilter:xt,null)},gu.Tc=function(t){var e=this.a.getBoundingClientRect();return t=t.changedTouches?t.changedTouches[0]:t,[t.clientX-e.left,t.clientY-e.top]},gu.Ka=function(t){var e=this.b;return e?ar(e.pixelToCoordinateTransform,t.slice()):null},gu.Fb=function(){return this.get(uf)},gu.Ya=function(){return this.get(cf)},gu.W=function(){return this.get(df)},gu.Sd=function(){return this.a},gu.Rd=function(t,e,i,n){var r=this.b;return r&&e in r.wantedTiles&&r.wantedTiles[e][t.getKey()]?(t=i[0]-r.focus[0],i=i[1]-r.focus[1],65536*Math.log(n)+Math.sqrt(t*t+i*i)/n):1/0},gu.Va=function(t,e){var i=new ui(e||t.type,this,t);this.Vc(i)},gu.Vc=function(t){if(this.b){this.P=t.coordinate,t.frameState=this.b;var e,i=this.g.a;if(!1!==P(this,t))for(e=i.length-1;0<=e;e--){var n=i[e];if(n.get(ac)&&!n.handleEvent(t))break}}},gu.fe=function(){var t=this.b,e=this.ia;if(0!==e.a.length){var i=16,n=i;if(t){var r=t.viewHints;r[Fu]&&(i=this.Oa?8:0,n=2),r[1]&&(i=this.Ub?8:0,n=2)}if(e.o<i){zi(e);for(var o,a,r=0;e.o<i&&r<n&&0<e.a.length;)o=Xi(e)[0],a=o.getKey(),0!==o.aa()||a in e.i||(e.i[a]=!0,++e.o,++r,o.load())}}for(e=this.sa,i=0,n=e.length;i<n;++i)e[i](this,t);e.length=0},gu.ge=function(){this.render()},gu.ie=function(){var t;if(this.get(ff)&&(t=ws(this)),this.j){for(var e=0,i=this.j.length;e<i;++e)C(this.j[e]);this.j=null}t?(t.appendChild(this.a),t=this.ba?this.ba:t,this.j=[M(t,"keydown",this.Va,this),M(t,"keypress",this.Va,this)],this.f||(this.f=this.td.bind(this),window.addEventListener("resize",this.f,!1))):(ei(this.a),void 0!==this.f&&(window.removeEventListener("resize",this.f,!1),this.f=void 0)),this.td()},gu.je=function(){this.render()},gu.Xc=function(){this.render()},gu.ke=function(){this.G&&(C(this.G),this.G=null),this.C&&(C(this.C),this.C=null);var t=this.W();t&&(this.G=M(t,Cu,this.Xc,this),this.C=M(t,"change",this.Xc,this)),this.render()},gu.Wd=function(){this.B&&(this.B.forEach(C),this.B=null);var t=this.Fb();t&&(this.B=[M(t,Cu,this.render,this),M(t,"change",this.render,this)]),this.render()},gu.render=function(){void 0===this.i&&(this.i=requestAnimationFrame(this.Aa))},gu.af=function(t){return this.g.remove(t)},gu.cf=function(t){var e,i,n,r=this.Ya(),a=this.W(),s=at(),h=null;if((e=void 0!==r&&0<r[0]&&0<r[1]&&a)&&(e=!!a.get(Iu)&&void 0!==Me(a)),e){var h=xe(a,this.b?this.b.viewHints:void 0),l=this.Fb().ic(),u={};for(e=0,i=l.length;e<i;++e)u[o(l[e].layer)]=l[e];n=a.aa(),h={animate:!1,attributions:{},coordinateToPixelTransform:this.Ba,extent:s,focus:this.P?this.P:n.center,index:this.Ja++,layerStates:u,layerStatesArray:l,logos:Mu({},this.Vb),pixelRatio:this.Tb,pixelToCoordinateTransform:this.Zb,postRenderFunctions:[],size:r,skippedFeatureUids:this.ac,tileQueue:this.ia,time:t,usedTiles:{},viewState:n,viewHints:h,wantedTiles:{}}}if(h){for(t=this.ta,e=r=0,i=t.length;e<i;++e)a=t[e],a(this,h)&&(t[r++]=a);t.length=r,h.extent=gt(n.center,n.resolution,n.rotation,h.size,s)}this.b=h,this.V.uc(h),h&&(h.animate&&this.render(),Array.prototype.push.apply(this.sa,h.postRenderFunctions),0!==this.ta.length||h.viewHints[Fu]||h.viewHints[1]||ut(h.extent,this.za)||(P(this,new ii("moveend",this,h)),nt(h.extent,this.za))),P(this,new ii("postrender",this,h)),setTimeout(this.fe.bind(this),0)},gu.ef=function(t){this.set(uf,t)},gu.td=function(){var t=ws(this);if(t){var e=getComputedStyle(t);this.set(cf,[t.offsetWidth-parseFloat(e.borderLeftWidth)-parseFloat(e.paddingLeft)-parseFloat(e.paddingRight)-parseFloat(e.borderRightWidth),t.offsetHeight-parseFloat(e.borderTopWidth)-parseFloat(e.paddingTop)-parseFloat(e.paddingBottom)-parseFloat(e.borderBottomWidth)])}else this.set(cf,void 0)};var uf="layergroup",cf="size",ff="target",df="view";Tt(Mc),Tt(kc),kc.forEach(function(t){Mc.forEach(function(e){At(t,e,qn),At(e,t,Jn)})}),i(Ss,D),gu=Ss.prototype,gu.Vd=function(){for(var t=this.b;t.lastChild;)t.removeChild(t.lastChild);(t=this.get(Sf))&&this.b.appendChild(t)},gu.ae=function(){this.f&&(ei(this.b),C(this.f),this.f=null);var t=this.get(Cf);t&&(this.f=M(t,"postrender",this.render,this),ks(this),t=this.l?t.l:t.u,this.j?t.insertBefore(this.b,t.childNodes[0]||null):t.appendChild(this.b))},gu.render=function(){ks(this)},gu.be=function(){ks(this)},gu.de=function(){if(ks(this),void 0!==this.get(kf)&&this.autoPan){var t=this.get(Cf);if(void 0!==t&&ws(t)){var e=Cs(ws(t),t.Ya()),i=this.get(Sf),n=i.offsetWidth,r=i.currentStyle||getComputedStyle(i),n=n+(parseInt(r.marginLeft,10)+parseInt(r.marginRight,10)),r=i.offsetHeight,o=i.currentStyle||getComputedStyle(i),r=r+(parseInt(o.marginTop,10)+parseInt(o.marginBottom,10)),a=Cs(i,[n,r]),i=this.i;rt(e,a)||(n=a[0]-e[0],r=e[2]-a[2],o=a[1]-e[1],a=e[3]-a[3],e=[0,0],0>n?e[0]=n-i:0>r&&(e[0]=Math.abs(r)+i),0>o?e[1]=o-i:0>a&&(e[1]=Math.abs(a)+i),0===e[0]&&0===e[1])||(i=t.W().get(Iu),i=xs(t,i),e=[i[0]+e[0],i[1]+e[1]],t.W().animate({center:t.Ka(e),duration:this.g.duration,easing:this.g.easing}))}}},gu.ee=function(){ks(this)},gu.setMap=function(t){this.set(Cf,t)};var pf="bottom-left",vf="bottom-center",gf="bottom-right",yf="center-left",mf="center-center",bf="center-right",wf="top-left",xf="top-center",Mf="top-right",Sf="element",Cf="map",Lf="offset",kf="position",Af="positioning";i(As,D),gu=As.prototype,gu.clone=function(){var t=new As(Mu({},this.o));Es(t,this.b);var e=this.T();return e&&t.Da(e.clone()),(e=this.i)&&t.ad(e),t},gu.T=function(){return this.get(this.b)},gu.De=function(){return this.a},gu.Ee=function(){this.v()},gu.Gb=function(){this.f&&(C(this.f),this.f=null);var t=this.T();t&&(this.f=M(t,"change",this.Ee,this)),this.v()},gu.Da=function(t){this.set(this.b,t)},gu.ad=function(t){this.g=(this.i=t)?Is(t):void 0,this.v()};var Ef=document.implementation.createDocument("","",null),If=Bs();i(Zs,qs),Zs.prototype.$=function(){return"json"},Zs.prototype.i=function(t,e){var i,n=Qs(t),r=Js(this,t,e);if("FeatureCollection"===n.type){i=[];var o,a,n=n.features;for(o=0,a=n.length;o<a;++o)i.push(mh(this,n[o],r))}else i=[mh(this,n,r)];return i},Zs.prototype.b=function(t){t=Qs(t).crs;var e;return t?"name"==t.type?e=jt(t.properties.name):"EPSG"==t.type?e=jt("EPSG:"+t.properties.code):s(!1,36):e=this.defaultDataProjection,e},i(th,Yt),gu=th.prototype,gu.clone=function(){var t=new th(null);return t.U(this.X,this.s.slice()),t},gu.ua=function(){return te(this.s,0,this.s.length,this.a)},gu.Sc=function(t,e){return $s(this.s,0,this.s.length,this.a,t,e)},gu.Ie=function(){var t,e=this.s,i=this.a,n=e[0],r=e[1],o=0;for(t=0+i;t<this.s.length;t+=i)var a=e[t],s=e[t+1],o=o+Math.sqrt((a-n)*(a-n)+(s-r)*(s-r)),n=a,r=s;return o},gu.Ua=function(t){var e=[];return e.length=ie(this.s,0,this.s.length,this.a,t,e,0),t=new th(null),t.U("XY",e),t},gu.$=function(){return"LineString"},gu.ea=function(t,e){t?(Kt(this,e,t,1),this.s||(this.s=[]),this.s.length=Qt(this.s,0,t,this.a),this.v()):this.U("XY",null)},gu.U=function(t,e){Jt(this,t,e),this.v()},i(ih,Yt),gu=ih.prototype,gu.clone=function(){var t=new ih(null);return t.U(this.X,this.s.slice(),this.f.slice()),t},gu.ua=function(){return ee(this.s,0,this.f,this.a)},gu.Ta=function(){return this.f},gu.Ua=function(t){var e,i,n=[],r=[],o=this.s,a=this.f,s=this.a,h=0,l=0;for(e=0,i=a.length;e<i;++e){var u=a[e],l=ie(o,h,u,s,t,n,l);r.push(l),h=u}return n.length=l,t=new ih(null),t.U("XY",n,r),t},gu.$=function(){return"MultiLineString"},gu.ea=function(t,e){if(t){Kt(this,e,t,2),this.s||(this.s=[]);var i=$t(this.s,0,t,this.a,this.f);this.s.length=0===i.length?0:i[i.length-1],this.v()}else this.U("XY",null,this.f)},gu.U=function(t,e,i){Jt(this,t,e),this.f=i,this.v()},i(ah,Yt),gu=ah.prototype,gu.clone=function(){var t=new ah(null);return t.U(this.X,this.s.slice()),t},gu.ua=function(){return te(this.s,0,this.s.length,this.a)},gu.$=function(){return"MultiPoint"},gu.ea=function(t,e){t?(Kt(this,e,t,1),this.s||(this.s=[]),this.s.length=Qt(this.s,0,t,this.a),this.v()):this.U("XY",null)},gu.U=function(t,e){Jt(this,t,e),this.v()},i(sh,Yt),gu=sh.prototype,gu.clone=function(){for(var t=new sh(null),e=this.f.length,i=Array(e),n=0;n<e;++n)i[n]=this.f[n].slice();return ch(t,this.X,this.s.slice(),i),t},gu.ua=function(t){var e;void 0!==t?(e=lh(this).slice(),ce(e,this.f,this.a,t)):e=this.s,t=e,e=this.f;var i,n,r=this.a,o=0,a=[],s=0;for(i=0,n=e.length;i<n;++i){var h=e[i];a[s++]=ee(t,o,h,r,a[s]),o=h[h.length-1]}return a.length=s,a},gu.Ua=function(t){var e=[],i=[],n=this.s,r=this.f,o=this.a;t=Math.sqrt(t);var a,s,h=0,l=0;for(a=0,s=r.length;a<s;++a){var u=r[a],c=[],l=ne(n,h,u,o,t,e,l,c);i.push(c),h=u[u.length-1]}return e.length=l,n=new sh(null),ch(n,"XY",e,i),n},gu.$=function(){return"MultiPolygon"},gu.ea=function(t,e){if(t){Kt(this,e,t,3),this.s||(this.s=[]);var i,n,r=this.s,o=this.a,a=this.f,s=0,a=a?a:[],h=0;for(i=0,n=t.length;i<n;++i)s=$t(r,s,t[i],o,a[h]),a[h++]=s,s=s[s.length-1];a.length=h,0===a.length?this.s.length=0:(r=a[a.length-1],this.s.length=0===r.length?0:r[r.length-1]),this.v()}else ch(this,"XY",null,this.f)},i(fh,Ht),gu=fh.prototype,gu.clone=function(){var t=new fh(null),e=dh(this.b);return ph(t),t.b=e,vh(t),t.v(),t},gu.Cb=function(t){ht(t);for(var e=this.b,i=0,n=e.length;i<n;++i)ct(t,e[i].M());return t},gu.kc=function(t){if(this.l!=this.c&&(p(this.g),this.i=0,this.l=this.c),0>t||0!==this.i&&t<this.i)return this;var e=t.toString();if(this.g.hasOwnProperty(e))return this.g[e];var i,n,r=[],o=this.b,a=!1;for(i=0,n=o.length;i<n;++i){var s=o[i],h=s.kc(t);r.push(h),h!==s&&(a=!0)}return a?(t=new fh(null),ph(t),t.b=r,vh(t),t.v(),this.g[e]=t):(this.i=t,this)},gu.$=function(){return"GeometryCollection"},gu.rotate=function(t,e){for(var i=this.b,n=0,r=i.length;n<r;++n)i[n].rotate(t,e);this.v()},gu.scale=function(t,e,i){i||(i=vt(this.M()));for(var n=this.b,r=0,o=n.length;r<o;++r)n[r].scale(t,e,i);this.v()},gu.zb=function(t){var e,i,n=this.b;for(e=0,i=n.length;e<i;++e)n[e].zb(t);this.v()},gu.translate=function(t,e){var i,n,r=this.b;for(i=0,n=r.length;i<n;++i)r[i].translate(t,e);this.v()},gu.Z=function(){ph(this),Ht.prototype.Z.call(this)},i(gh,Zs);var Tf={Point:function(t){return new oe(t.coordinates)},LineString:function(t){return new th(t.coordinates)},Polygon:function(t){return new fe(t.coordinates)},MultiPoint:function(t){return new ah(t.coordinates)},MultiLineString:function(t){return new ih(t.coordinates)},MultiPolygon:function(t){return new sh(t.coordinates)},GeometryCollection:function(t,e){var i=t.geometries.map(function(t){return yh(t,e)});return new fh(i)}};i(bh,qs),bh.prototype.$=function(){return"xml"},bh.prototype.i=function(t,e){if(t instanceof Document)return wh(this,t,e);if(t instanceof Node)return Mh(this,t,e);if("string"==typeof t){var i=Fs(t);return wh(this,i,e)}return[]},bh.prototype.b=function(t){return t instanceof Document?this.defaultDataProjection:t instanceof Node?this.j(t):"string"==typeof t?(Fs(t),this.defaultDataProjection):null},bh.prototype.j=function(){return this.defaultDataProjection},i(xh,bh);var Pf=/^[\s\xa0]*$/;xh.prototype.c=function(t,e){var i=t.localName,n=null;if("FeatureCollection"==i)n="http://www.opengis.net/wfs"===t.namespaceURI?Xs([],this.a,t,e,this):Xs(null,this.a,t,e,this);else if("featureMembers"==i||"featureMember"==i){var r,o,a=e[0],s=a.featureType,h=a.featureNS;if(!s&&t.childNodes){for(s=[],h={},r=0,o=t.childNodes.length;r<o;++r){var l=t.childNodes[r];if(1===l.nodeType){var u=l.nodeName.split(":").pop();if(-1===s.indexOf(u)){var c,f="",d=0,l=l.namespaceURI;for(c in h){if(h[c]===l){f=c;break}++d}f||(f="p"+d,h[f]=l),s.push(f+":"+u)}}}"featureMember"!=i&&(a.featureType=s,a.featureNS=h)}"string"==typeof h&&(r=h,h={},h.p0=r);var p,a={},s=Array.isArray(s)?s:[s];for(p in h){for(u={},r=0,o=s.length;r<o;++r)(-1===s[r].indexOf(":")?"p0":s[r].split(":")[0])===p&&(u[s[r].split(":").pop()]="featureMembers"==i?_s(this.g,this):Ds(this.g,this));a[h[p]]=u}n="featureMember"==i?Xs(void 0,a,t,e):Xs([],a,t,e)}return null===n&&(n=[]),n},xh.prototype.o=function(t,e){var i=e[0];i.srsName=t.firstElementChild.getAttribute("srsName");var n=Xs(null,this.l,t,e,this);if(n)return Ks(n,!1,i)},xh.prototype.g=function(t,e){var i,n;(n=t.getAttribute("fid"))||(n=t.getAttributeNS("http://www.opengis.net/gml","id")||"");var r,o={};for(i=t.firstElementChild;i;i=i.nextElementSibling){var a=i.localName;if(0===i.childNodes.length||1===i.childNodes.length&&(3===i.firstChild.nodeType||4===i.firstChild.nodeType)){var s=Ts(i);Pf.test(s)&&(s=void 0),o[a]=s}else"boundedBy"!==a&&(r=a),o[a]=this.o(i,e)}return i=new As(o),r&&Es(i,r),n&&(i.a=n,i.v()),i},xh.prototype.j=function(t){return jt(this.srsName?this.srsName:t.firstElementChild.getAttribute("srsName"))};var Ff=[null,"http://www.topografix.com/GPX/1/0","http://www.topografix.com/GPX/1/1"];Us(Ff,{rte:_s(function(t,e){var i=e[0],n=Xs({flatCoordinates:[],layoutOptions:{}},Df,t,e);if(n){var r=n.flatCoordinates;delete n.flatCoordinates;var o=n.layoutOptions;delete n.layoutOptions;var o=jh(o,r),a=new th(null);return a.U(o,r),Ks(a,!1,i),i=new As(a),j(i,n),i}}),trk:_s(function(t,e){var i=e[0],n=Xs({flatCoordinates:[],ends:[],layoutOptions:{}},jf,t,e);if(n){var r=n.flatCoordinates;delete n.flatCoordinates;var o=n.ends;delete n.ends;var a=n.layoutOptions;delete n.layoutOptions;var a=jh(a,r,o),s=new ih(null);return s.U(a,r,o),Ks(s,!1,i),i=new As(s),j(i,n),i}}),wpt:_s(function(t,e){var i=e[0],n=Xs({},Bf,t,e);if(n){var r={},o=Rh([],r,t,n),r=jh(r,o),o=new oe(o,r);return Ks(o,!1,i),i=new As(o),j(i,n),i}})});var _f=Us(Ff,{text:js(Th,"linkText"),type:js(Th,"linkType")}),Df=Us(Ff,{name:js(Th),cmt:js(Th),desc:js(Th),src:js(Th),link:Nh,number:js(Eh),extensions:Oh,type:js(Th),rtept:function(t,e){var i=Xs({},Rf,t,e);if(i){var n=e[e.length-1];Rh(n.flatCoordinates,n.layoutOptions,t,i)}}}),Rf=Us(Ff,{ele:js(kh),time:js(Lh)}),jf=Us(Ff,{name:js(Th),cmt:js(Th),desc:js(Th),src:js(Th),link:Nh,number:js(Eh),type:js(Th),extensions:Oh,trkseg:function(t,e){var i=e[e.length-1];Ws(Nf,t,e),i.ends.push(i.flatCoordinates.length)}}),Nf=Us(Ff,{trkpt:function(t,e){var i=Xs({},Of,t,e);if(i){var n=e[e.length-1];Rh(n.flatCoordinates,n.layoutOptions,t,i)}}}),Of=Us(Ff,{ele:js(kh),time:js(Lh)}),Bf=Us(Ff,{ele:js(kh),time:js(Lh),magvar:js(kh),geoidheight:js(kh),name:js(Th),cmt:js(Th),desc:js(Th),src:js(Th),link:Nh,sym:js(Th),type:js(Th),fix:js(Th),sat:js(Eh),hdop:js(kh),vdop:js(kh),pdop:js(kh),ageofdgpsdata:js(kh),dgpsid:js(Eh),extensions:Oh}),Vf=["text","type"],Uf=Us(Ff,{text:Ns(Dh),type:Ns(Dh)}),Wf=Us(Ff,"name cmt desc src link number type rtept".split(" ")),Xf=Us(Ff,{name:Ns(Dh),cmt:Ns(Dh),desc:Ns(Dh),src:Ns(Dh),link:Ns(Bh),number:Ns(_h),type:Ns(Dh),rtept:Os(Ns(Vh))}),Hf=Us(Ff,["ele","time"]),Gf=Us(Ff,"name cmt desc src link number type trkseg".split(" ")),zf=Us(Ff,{name:Ns(Dh),cmt:Ns(Dh),desc:Ns(Dh),src:Ns(Dh),link:Ns(Bh),number:Ns(_h),type:Ns(Dh),trkseg:Os(Ns(function(t,e,i){Gs({node:t,geometryLayout:e.X,properties:{}},qf,Yf,e.ua(),i)}))}),Yf=Bs("trkpt"),qf=Us(Ff,{trkpt:Ns(Vh)}),Jf=Us(Ff,"ele time magvar geoidheight name cmt desc src link sym type fix sat hdop vdop pdop ageofdgpsdata dgpsid".split(" ")),Kf=Us(Ff,{ele:Ns(Fh),time:Ns(function(t,e){var i=new Date(1e3*e);t.appendChild(Ef.createTextNode(i.getUTCFullYear()+"-"+K(i.getUTCMonth()+1)+"-"+K(i.getUTCDate())+"T"+K(i.getUTCHours())+":"+K(i.getUTCMinutes())+":"+K(i.getUTCSeconds())+"Z"))}),magvar:Ns(Fh),geoidheight:Ns(Fh),name:Ns(Dh),cmt:Ns(Dh),desc:Ns(Dh),src:Ns(Dh),link:Ns(Bh),sym:Ns(Dh),type:Ns(Dh),fix:Ns(Dh),sat:Ns(_h),hdop:Ns(Fh),vdop:Ns(Fh),pdop:Ns(Fh),ageofdgpsdata:Ns(Fh),dgpsid:Ns(_h)});Us(Ff,{rte:Ns(function(t,e,i){var n=i[0],r=Mu({},e.o);t={node:t,properties:r},(e=e.T())&&(e=Ks(e,!0,n),t.geometryLayout=e.X,r.rtept=e.ua()),n=Wf[i[i.length-1].node.namespaceURI],r=Vs(r,n),Gs(t,Xf,If,r,i,n)}),trk:Ns(function(t,e,i){var n=i[0],r=Mu({},e.o);t={node:t,properties:r},(e=e.T())&&(e=Ks(e,!0,n),r.trkseg=nh(e)),n=Gf[i[i.length-1].node.namespaceURI],r=Vs(r,n),Gs(t,zf,If,r,i,n)}),wpt:Ns(function(t,e,i){var n=i[0],r=i[i.length-1];r.properties=Mu({},e.o),(e=e.T())&&(e=Ks(e,!0,n),r.geometryLayout=e.X,Vh(t,e.ua(),i))})}),i(Uh,T),Uh.prototype.u=function(){this.b=3,this.g.forEach(C),this.g=null,P(this,"change")},Uh.prototype.B=function(){if(this.b=2,this.c&&(this.a.width=this.c[0],this.a.height=this.c[1]),this.c=[this.a.width,this.a.height],this.g.forEach(C),this.g=null,Wh(this),!this.l&&null!==this.i){this.f.width=this.a.width,this.f.height=this.a.height;var t=this.f.getContext("2d");t.drawImage(this.a,0,0);for(var e=t.getImageData(0,0,this.a.width,this.a.height),i=e.data,n=this.i[0]/255,r=this.i[1]/255,o=this.i[2]/255,a=0,s=i.length;a<s;a+=4)i[a]*=n,i[a+1]*=r,i[a+2]*=o;t.putImageData(e,0,0)}P(this,"change")},Uh.prototype.load=function(){if(0==this.b){this.b=1,this.g=[M(this.a,"error",this.u,this,!0),M(this.a,"load",this.B,this,!0)];try{this.a.src=this.j}catch(t){this.u()}}},i(Xh,yr),gu=Xh.prototype,gu.clone=function(){var t,e=this.rb(1);if(2===this.a.b)if("IMG"===e.tagName.toUpperCase())t=e.cloneNode(!0);else{t=document.createElement("canvas");var i=t.getContext("2d");t.width=e.width,t.height=e.height,i.drawImage(e,0,0)}return new Xh({anchor:this.f.slice(),anchorOrigin:this.c,anchorXUnits:this.A,anchorYUnits:this.C,crossOrigin:this.L,color:this.g&&this.g.slice?this.g.slice():this.g||void 0,img:t?t:void 0,imgSize:t?this.a.c.slice():void 0,src:t?void 0:this.a.j,offset:this.G.slice(),offsetOrigin:this.b,size:null!==this.D?this.D.slice():void 0,opacity:this.j,scale:this.o,snapToPixel:this.B,rotation:this.u,rotateWithView:this.F})},gu.pb=function(){if(this.i)return this.i;var t=this.f,e=this.Ma();if(this.A==Zf||this.C==Zf){if(!e)return null;t=this.f.slice(),this.A==Zf&&(t[0]*=e[0]),this.C==Zf&&(t[1]*=e[1])}if(this.c!=td){if(!e)return null;t===this.f&&(t=this.f.slice()),this.c!=ed&&this.c!=$f||(t[0]=-t[0]+e[0]),this.c!=Qf&&this.c!=$f||(t[1]=-t[1]+e[1])}return this.i=t},gu.rb=function(){var t=this.a;return t.f?t.f:t.a},gu.hc=function(){return this.a.c},gu.Lb=function(){return this.a.b},gu.pc=function(){var t=this.a;if(!t.o)if(t.l){var e=t.c[0],i=t.c[1],n=ti(e,i);n.fillRect(0,0,e,i),t.o=n.canvas}else t.o=t.a;return t.o},gu.sb=function(){if(this.l)return this.l;var t=this.G;if(this.b!=td){var e=this.Ma(),i=this.a.c;if(!e||!i)return null;t=t.slice(),this.b!=ed&&this.b!=$f||(t[0]=i[0]-e[0]-t[0]),this.b!=Qf&&this.b!=$f||(t[1]=i[1]-e[1]-t[1])}return this.l=t},gu.Ma=function(){return this.D?this.D:this.a.c},gu.Yc=function(t,e){return M(this.a,"change",t,e)},gu.load=function(){this.a.load()},gu.sd=function(t,e){S(this.a,"change",t,e)};var Zf="fraction",Qf="bottom-left",$f="bottom-right",td="top-left",ed="top-right";Hh.prototype.clone=function(){return new Hh({font:this.f,rotation:this.j,rotateWithView:this.o,scale:this.c,text:this.ha(),textAlign:this.l,textBaseline:this.u,
fill:this.a?this.a.clone():void 0,stroke:this.b?this.b.clone():void 0,offsetX:this.g,offsetY:this.i})},Hh.prototype.ha=function(){return this.D};var id=["http://www.google.com/kml/ext/2.2"],nd=[null,"http://earth.google.com/kml/2.0","http://earth.google.com/kml/2.1","http://earth.google.com/kml/2.2","http://www.opengis.net/kml/2.2"],rd={fraction:Zf,pixels:"pixels"},od=Us(nd,{displayName:js(Th),value:js(Th)}),ad=Us(nd,{Data:function(t,e){var i=t.getAttribute("name");Ws(od,t,e);var n=e[e.length-1];null!==i?n[i]=n.value:null!==n.displayName&&(n[n.displayName]=n.value)},SchemaData:function(t,e){Ws(kd,t,e)}}),sd=Us(nd,{LatLonAltBox:function(t,e){var i=Xs({},hd,t,e);if(i){var n=e[e.length-1];n.extent=[parseFloat(i.west),parseFloat(i.south),parseFloat(i.east),parseFloat(i.north)],n.altitudeMode=i.altitudeMode,n.minAltitude=parseFloat(i.minAltitude),n.maxAltitude=parseFloat(i.maxAltitude)}},Lod:function(t,e){var i=Xs({},ld,t,e);if(i){var n=e[e.length-1];n.minLodPixels=parseFloat(i.minLodPixels),n.maxLodPixels=parseFloat(i.maxLodPixels),n.minFadeExtent=parseFloat(i.minFadeExtent),n.maxFadeExtent=parseFloat(i.maxFadeExtent)}}}),hd=Us(nd,{altitudeMode:js(Th),minAltitude:js(kh),maxAltitude:js(kh),north:js(kh),south:js(kh),east:js(kh),west:js(kh)}),ld=Us(nd,{minLodPixels:js(kh),maxLodPixels:js(kh),minFadeExtent:js(kh),maxFadeExtent:js(kh)}),ud=Us(nd,{extrude:js(Sh),altitudeMode:js(Th)}),cd=Us(nd,{coordinates:Ds(zh)}),fd=Us(nd,{innerBoundaryIs:function(t,e){var i=Xs(void 0,yd,t,e);i&&e[e.length-1].push(i)},outerBoundaryIs:function(t,e){var i=Xs(void 0,Sd,t,e);i&&(e[e.length-1][0]=i)}}),dd=Us(nd,{when:function(t,e){var i=e[e.length-1].vd,n=Ts(t),n=Date.parse(n);i.push(isNaN(n)?0:n)}},Us(id,{coord:function(t,e){var i=e[e.length-1].s,n=Ts(t);(n=/^\s*([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s+([+\-]?\d+(?:\.\d*)?(?:e[+\-]?\d*)?)\s*$/i.exec(n))?i.push(parseFloat(n[1]),parseFloat(n[2]),parseFloat(n[3]),0):i.push(0,0,0,0)}})),pd=Us(nd,{coordinates:Ds(zh)}),vd=Us(nd,{href:js(Yh)},Us(id,{x:js(kh),y:js(kh),w:js(kh),h:js(kh)})),gd=Us(nd,{Icon:js(function(t,e){var i=Xs({},vd,t,e);return i?i:null}),heading:js(kh),hotSpot:js(function(t){var e=t.getAttribute("xunits"),i=t.getAttribute("yunits");return{x:parseFloat(t.getAttribute("x")),yc:rd[e],y:parseFloat(t.getAttribute("y")),zc:rd[i]}}),scale:js(qh)}),yd=Us(nd,{LinearRing:Ds(Jh)}),md=Us(nd,{color:js(Gh),scale:js(qh)}),bd=Us(nd,{color:js(Gh),width:js(kh)}),wd=Us(nd,{LineString:_s(Zh),LinearRing:_s(Qh),MultiGeometry:_s($h),Point:_s(tl),Polygon:_s(el)}),xd=Us(id,{Track:_s(Kh)});Us(nd,{ExtendedData:rl,Region:ol,Link:function(t,e){Ws(Md,t,e)},address:js(Th),description:js(Th),name:js(Th),open:js(Sh),phoneNumber:js(Th),visibility:js(Sh)});var Md=Us(nd,{href:js(Yh)}),Sd=Us(nd,{LinearRing:Ds(Jh)}),Cd=Us(nd,{Style:js(il),key:js(Th),styleUrl:js(Yh)});Us(nd,{ExtendedData:rl,Region:ol,MultiGeometry:js($h,"geometry"),LineString:js(Zh,"geometry"),LinearRing:js(Qh,"geometry"),Point:js(tl,"geometry"),Polygon:js(el,"geometry"),Style:js(il),StyleMap:function(t,e){var i=Xs(void 0,Ed,t,e);if(i){var n=e[e.length-1];Array.isArray(i)?n.Style=i:"string"==typeof i?n.styleUrl=i:s(!1,38)}},address:js(Th),description:js(Th),name:js(Th),open:js(Sh),phoneNumber:js(Th),styleUrl:js(Yh),visibility:js(Sh)},Us(id,{MultiTrack:js(function(t,e){var i=Xs([],xd,t,e);if(i){var n=new ih(null);return oh(n,i),n}},"geometry"),Track:js(Kh,"geometry")}));var Ld=Us(nd,{color:js(Gh),fill:js(Sh),outline:js(Sh)}),kd=Us(nd,{SimpleData:function(t,e){var i=t.getAttribute("name");if(null!==i){var n=Th(t);e[e.length-1][i]=n}}}),Ad=Us(nd,{IconStyle:function(t,e){var i=Xs({},gd,t,e);if(i){var n,r=e[e.length-1],o="Icon"in i?i.Icon:{},a=!("Icon"in i)||0<Object.keys(o).length,s=o.href;s?n=s:a&&(n=void 0);var h,l,u;(s=i.hotSpot)?(h=[s.x,s.y],l=s.yc,u=s.zc):void 0===n?u=l=h=void 0:/^http:\/\/maps\.(?:google|gstatic)\.com\//.test(n)&&(h=[.5,0],u=l=Zf);var c,s=o.x,f=o.y;void 0!==s&&void 0!==f&&(c=[s,f]);var d,s=o.w,o=o.h;void 0!==s&&void 0!==o&&(d=[s,o]);var p,o=i.heading;void 0!==o&&(p=o*Math.PI/180),i=i.scale,a?(void 0==n&&(d=void 0,void 0===i&&(i=void 0)),a=new Xh({anchor:h,anchorOrigin:Qf,anchorXUnits:l,anchorYUnits:u,crossOrigin:"anonymous",offset:c,offsetOrigin:Qf,rotation:p,scale:i,size:d,src:n}),r.imageStyle=a):r.imageStyle=void 0}},LabelStyle:function(t,e){var i=Xs({},md,t,e);i&&(e[e.length-1].textStyle=new Hh({fill:new wr({color:"color"in i?i.color:void 0}),scale:i.scale}))},LineStyle:function(t,e){var i=Xs({},bd,t,e);i&&(e[e.length-1].strokeStyle=new xr({color:"color"in i?i.color:void 0,width:"width"in i?i.width:1}))},PolyStyle:function(t,e){var i=Xs({},Ld,t,e);if(i){var n=e[e.length-1];n.fillStyle=new wr({color:"color"in i?i.color:void 0});var r=i.fill;void 0!==r&&(n.fill=r),i=i.outline,void 0!==i&&(n.outline=i)}}}),Ed=Us(nd,{Pair:function(t,e){var i=Xs({},Cd,t,e);if(i){var n=i.key;n&&"normal"==n&&((n=i.styleUrl)&&(e[e.length-1]=n),(i=i.Style)&&(e[e.length-1]=i))}}});Us(nd,["Document","Placemark"]),Us(nd,{Document:Ns(function(t,e,i){Gs({node:t},Id,pl,e,i,void 0,this)}),Placemark:Ns(ll)});var Id=Us(nd,{Placemark:Ns(ll)}),Td=Us(nd,{Data:Ns(function(t,e,i){t.setAttribute("name",e.name),t={node:t},e=e.value,"object"==typeof e?(null!==e&&e.displayName&&Gs(t,Td,If,[e.displayName],i,["displayName"]),null!==e&&e.value&&Gs(t,Td,If,[e.value],i,["value"])):Gs(t,Td,If,[e],i,["value"])}),value:Ns(function(t,e){Dh(t,e)}),displayName:Ns(function(t,e){t.appendChild(Ef.createCDATASection(e))})}),Pd={Point:"Point",LineString:"LineString",LinearRing:"LinearRing",Polygon:"Polygon",MultiPoint:"MultiGeometry",MultiLineString:"MultiGeometry",MultiPolygon:"MultiGeometry",GeometryCollection:"MultiGeometry"},Fd=Us(nd,["href"],Us(id,["x","y","w","h"])),_d=Us(nd,{href:Ns(Dh)},Us(id,{x:Ns(Fh),y:Ns(Fh),w:Ns(Fh),h:Ns(Fh)})),Dd=Us(nd,["scale","heading","Icon","hotSpot"]),Rd=Us(nd,{Icon:Ns(function(t,e,i){t={node:t};var n=Fd[i[i.length-1].node.namespaceURI],r=Vs(e,n);Gs(t,_d,If,r,i,n),n=Fd[id[0]],r=Vs(e,n),Gs(t,_d,dl,r,i,n)}),heading:Ns(Fh),hotSpot:Ns(function(t,e){t.setAttribute("x",e.x),t.setAttribute("y",e.y),t.setAttribute("xunits",e.yc),t.setAttribute("yunits",e.zc)}),scale:Ns(fl)}),jd=Us(nd,["color","scale"]),Nd=Us(nd,{color:Ns(al),scale:Ns(fl)}),Od=Us(nd,["color","width"]),Bd=Us(nd,{color:Ns(al),width:Ns(Fh)}),Vd=Us(nd,{LinearRing:Ns(ul)}),Ud=Us(nd,{LineString:Ns(ul),Point:Ns(ul),Polygon:Ns(cl),GeometryCollection:Ns(sl)}),Wd=Us(nd,"name open visibility address phoneNumber description styleUrl Style".split(" ")),Xd=Us(nd,{ExtendedData:Ns(function(t,e,i){t={node:t};var n=e.names;e=e.values;for(var r=n.length,o=0;o<r;o++)Gs(t,Td,Zd,[{name:n[o],value:e[o]}],i)}),MultiGeometry:Ns(sl),LineString:Ns(ul),LinearRing:Ns(ul),Point:Ns(ul),Polygon:Ns(cl),Style:Ns(function(t,e,i){t={node:t};var n={},r=e.b,o=e.c,a=e.f;e=e.ha(),a instanceof Xh&&(n.IconStyle=a),e&&(n.LabelStyle=e),o&&(n.LineStyle=o),r&&(n.PolyStyle=r),e=Yd[i[i.length-1].node.namespaceURI],n=Vs(n,e),Gs(t,qd,If,n,i,e)}),address:Ns(Dh),description:Ns(Dh),name:Ns(Dh),open:Ns(Ph),phoneNumber:Ns(Dh),styleUrl:Ns(Dh),visibility:Ns(Ph)}),Hd=Us(nd,{coordinates:Ns(function(t,e,i){i=i[i.length-1];var n=i.layout;i=i.stride;var r;"XY"==n||"XYM"==n?r=2:"XYZ"==n||"XYZM"==n?r=3:s(!1,34);var o,a=e.length,h="";if(0<a){for(h+=e[0],n=1;n<r;++n)h+=","+e[n];for(o=i;o<a;o+=i)for(h+=" "+e[o],n=1;n<r;++n)h+=","+e[o+n]}Dh(t,h)})}),Gd=Us(nd,{outerBoundaryIs:Ns(hl),innerBoundaryIs:Ns(hl)}),zd=Us(nd,{color:Ns(al)}),Yd=Us(nd,["IconStyle","LabelStyle","LineStyle","PolyStyle"]),qd=Us(nd,{IconStyle:Ns(function(t,e,i){t={node:t};var n={},r=e.Ma(),o=e.hc(),a={href:e.a.j};if(r){a.w=r[0],a.h=r[1];var s=e.pb(),h=e.sb();h&&o&&0!==h[0]&&h[1]!==r[1]&&(a.x=h[0],a.y=o[1]-(h[1]+r[1])),s&&0!==s[0]&&s[1]!==r[1]&&(n.hotSpot={x:s[0],yc:"pixels",y:r[1]-s[1],zc:"pixels"})}n.Icon=a,r=e.o,1!==r&&(n.scale=r),e=e.u,0!==e&&(n.heading=e),e=Dd[i[i.length-1].node.namespaceURI],n=Vs(n,e),Gs(t,Rd,If,n,i,e)}),LabelStyle:Ns(function(t,e,i){t={node:t};var n={},r=e.a;r&&(n.color=r.a),(e=e.c)&&1!==e&&(n.scale=e),e=jd[i[i.length-1].node.namespaceURI],n=Vs(n,e),Gs(t,Nd,If,n,i,e)}),LineStyle:Ns(function(t,e,i){t={node:t};var n=Od[i[i.length-1].node.namespaceURI];e=Vs({color:e.a,width:e.b},n),Gs(t,Bd,If,e,i,n)}),PolyStyle:Ns(function(t,e,i){Gs({node:t},zd,Jd,[e.a],i)})}),Jd=Bs("color"),Kd=Bs("coordinates"),Zd=Bs("Data"),Qd=Bs("ExtendedData"),$d=Bs("innerBoundaryIs"),tp=Bs("Point"),ep=Bs("LineString"),ip=Bs("LinearRing"),np=Bs("Polygon"),rp=Bs("outerBoundaryIs");!function(){var t={},i={S:t};!function(e){if("object"==typeof t&&"undefined"!=typeof i)i.S=e();else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this,n.Gf=e()}}(function(){return function t(i,n,r){function o(s,h){if(!n[s]){if(!i[s]){var l="function"==typeof e&&e;if(!h&&l)return l(s,!0);if(a)return a(s,!0);throw l=Error("Cannot find module '"+s+"'"),l.code="MODULE_NOT_FOUND",l}l=n[s]={S:{}},i[s][0].call(l.S,function(t){var e=i[s][1][t];return o(e?e:t)},l,l.S,t,i,n,r)}return n[s].S}for(var a="function"==typeof e&&e,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,i){i.read=function(t,e,i,n,r){var o;o=8*r-n-1;var a=(1<<o)-1,s=a>>1,h=-7;r=i?r-1:0;var l=i?-1:1,u=t[e+r];for(r+=l,i=u&(1<<-h)-1,u>>=-h,h+=o;0<h;i=256*i+t[e+r],r+=l,h-=8);for(o=i&(1<<-h)-1,i>>=-h,h+=n;0<h;o=256*o+t[e+r],r+=l,h-=8);if(0===i)i=1-s;else{if(i===a)return o?NaN:1/0*(u?-1:1);o+=Math.pow(2,n),i-=s}return(u?-1:1)*o*Math.pow(2,i-n)},i.write=function(t,e,i,n,r,o){var a,s=8*o-r-1,h=(1<<s)-1,l=h>>1,u=23===r?Math.pow(2,-24)-Math.pow(2,-77):0;o=n?0:o-1;var c=n?1:-1,f=0>e||0===e&&0>1/e?1:0;for(e=Math.abs(e),isNaN(e)||1/0===e?(e=isNaN(e)?1:0,n=h):(n=Math.floor(Math.log(e)/Math.LN2),1>e*(a=Math.pow(2,-n))&&(n--,a*=2),e=1<=n+l?e+u/a:e+u*Math.pow(2,1-l),2<=e*a&&(n++,a/=2),n+l>=h?(e=0,n=h):1<=n+l?(e=(e*a-1)*Math.pow(2,r),n+=l):(e=e*Math.pow(2,l-1)*Math.pow(2,r),n=0));8<=r;t[i+o]=255&e,o+=c,e/=256,r-=8);for(n=n<<r|e,s+=r;0<s;t[i+o]=255&n,o+=c,n/=256,s-=8);t[i+o-c]|=128*f}},{}],2:[function(t,e){function i(t){this.Fa=ArrayBuffer.isView&&ArrayBuffer.isView(t)?t:new Uint8Array(t||0),this.type=this.O=0,this.length=this.Fa.length}function n(t,e,i){var n,o,a=i.Fa;if(o=a[i.O++],n=(112&o)>>4,128>o)return r(t,n,e);if(o=a[i.O++],n|=(127&o)<<3,128>o)return r(t,n,e);if(o=a[i.O++],n|=(127&o)<<10,128>o)return r(t,n,e);if(o=a[i.O++],n|=(127&o)<<17,128>o)return r(t,n,e);if(o=a[i.O++],n|=(127&o)<<24,128>o)return r(t,n,e);if(o=a[i.O++],128>o)return r(t,n|(1&o)<<31,e);throw Error("Expected varint not more than 10 bytes")}function r(t,e,i){return i?4294967296*e+(t>>>0):4294967296*(e>>>0)+(t>>>0)}e.S=i;var o=t("ieee754");i.f=0,i.b=1,i.a=2,i.c=5,i.prototype={qc:function(t,e,i){for(i=i||this.length;this.O<i;){var n=this.da(),r=n>>3,o=this.O;this.type=7&n,t(r,e,this),this.O===o&&this.gf(n)}return e},Ye:function(){var t=o.read(this.Fa,this.O,!0,23,4);return this.O+=4,t},Xe:function(){var t=o.read(this.Fa,this.O,!0,52,8);return this.O+=8,t},da:function(t){var e,i,r=this.Fa;return i=r[this.O++],e=127&i,128>i?e:(i=r[this.O++],e|=(127&i)<<7,128>i?e:(i=r[this.O++],e|=(127&i)<<14,128>i?e:(i=r[this.O++],e|=(127&i)<<21,128>i?e:(i=r[this.O],n(e|(15&i)<<28,t,this)))))},Ze:function(){return this.da(!0)},rc:function(){var t=this.da();return 1===t%2?(t+1)/-2:t/2},We:function(){return!!this.da()},sc:function(){for(var t=this.da()+this.O,e=this.Fa,i="",n=this.O;n<t;){var r=e[n],o=null,a=239<r?4:223<r?3:191<r?2:1;if(n+a>t)break;var s,h,l;1===a?128>r&&(o=r):2===a?(s=e[n+1],128===(192&s)&&(o=(31&r)<<6|63&s,127>=o&&(o=null))):3===a?(s=e[n+1],h=e[n+2],128===(192&s)&&128===(192&h)&&(o=(15&r)<<12|(63&s)<<6|63&h,2047>=o||55296<=o&&57343>=o)&&(o=null)):4===a&&(s=e[n+1],h=e[n+2],l=e[n+3],128===(192&s)&&128===(192&h)&&128===(192&l)&&(o=(15&r)<<18|(63&s)<<12|(63&h)<<6|63&l,65535>=o||1114112<=o))&&(o=null),null===o?(o=65533,a=1):65535<o&&(o-=65536,i+=String.fromCharCode(o>>>10&1023|55296),o=56320|1023&o),i+=String.fromCharCode(o),n+=a}return this.O=t,i},gf:function(t){if(t&=7,t===i.f)for(;127<this.Fa[this.O++];);else if(t===i.a)this.O=this.da()+this.O;else if(t===i.c)this.O+=4;else{if(t!==i.b)throw Error("Unimplemented type: "+t);this.O+=8}}}},{ieee754:1}]},{},[2])(2)})}(),function(){var t={},i={S:t};!function(e){if("object"==typeof t&&"undefined"!=typeof i)i.S=e();else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this,n.Kf=e()}}(function(){return function t(i,n,r){function o(s,h){if(!n[s]){if(!i[s]){var l="function"==typeof e&&e;if(!h&&l)return l(s,!0);if(a)return a(s,!0);throw l=Error("Cannot find module '"+s+"'"),l.code="MODULE_NOT_FOUND",l}l=n[s]={S:{}},i[s][0].call(l.S,function(t){var e=i[s][1][t];return o(e?e:t)},l,l.S,t,i,n,r)}return n[s].S}for(var a="function"==typeof e&&e,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e){function i(t,e){this.x=t,this.y=e}e.S=i,i.prototype={clone:function(){return new i(this.x,this.y)},add:function(t){return this.clone().wd(t)},rotate:function(t){return this.clone().Fd(t)},round:function(){return this.clone().Gd()},angle:function(){return Math.atan2(this.y,this.x)},wd:function(t){return this.x+=t.x,this.y+=t.y,this},Fd:function(t){var e=Math.cos(t);t=Math.sin(t);var i=t*this.x+e*this.y;return this.x=e*this.x-t*this.y,this.y=i,this},Gd:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}},i.a=function(t){return t instanceof i?t:Array.isArray(t)?new i(t[0],t[1]):t}},{}],2:[function(t,e){e.S.Bf=t("./lib/vectortile.js"),e.S.Cf=t("./lib/vectortilefeature.js"),e.S.Df=t("./lib/vectortilelayer.js")},{"./lib/vectortile.js":3,"./lib/vectortilefeature.js":4,"./lib/vectortilelayer.js":5}],3:[function(t,e){function i(t,e,i){3===t&&(t=new n(i,i.da()+i.O),t.length&&(e[t.name]=t))}var n=t("./vectortilelayer");e.S=function(t,e){this.layers=t.qc(i,{},e)}},{"./vectortilelayer":5}],4:[function(t,e){function i(t,e,i,r,o){this.properties={},this.extent=i,this.type=0,this.Qa=t,this.Dc=-1,this.vb=r,this.xb=o,t.qc(n,this,e)}function n(t,e,i){if(1==t)e.id=i.da();else if(2==t)for(t=i.da()+i.O;i.O<t;){var n=e.vb[i.da()],r=e.xb[i.da()];e.properties[n]=r}else 3==t?e.type=i.da():4==t&&(e.Dc=i.O)}t("point-geometry"),e.S=i,i.a=["Unknown","Point","LineString","Polygon"],i.prototype.bbox=function(){var t=this.Qa;t.O=this.Dc;for(var e=t.da()+t.O,i=1,n=0,r=0,o=0,a=1/0,s=-(1/0),h=1/0,l=-(1/0);t.O<e;)if(n||(n=t.da(),i=7&n,n>>=3),n--,1===i||2===i)r+=t.rc(),o+=t.rc(),r<a&&(a=r),r>s&&(s=r),o<h&&(h=o),o>l&&(l=o);else if(7!==i)throw Error("unknown command "+i);return[a,h,s,l]}},{"point-geometry":1}],5:[function(t,e){function i(t,e){this.version=1,this.name=null,this.extent=4096,this.length=0,this.Qa=t,this.vb=[],this.xb=[],this.ub=[],t.qc(n,this,e),this.length=this.ub.length}function n(t,e,i){15===t?e.version=i.da():1===t?e.name=i.sc():5===t?e.extent=i.da():2===t?e.ub.push(i.O):3===t?e.vb.push(i.sc()):4===t&&e.xb.push(r(i))}function r(t){for(var e=null,i=t.da()+t.O;t.O<i;)e=t.da()>>3,e=1===e?t.sc():2===e?t.Ye():3===e?t.Xe():4===e?t.Ze():5===e?t.da():6===e?t.rc():7===e?t.We():null;return e}var o=t("./vectortilefeature.js");e.S=i,i.prototype.feature=function(t){if(0>t||t>=this.ub.length)throw Error("feature index out of bounds");return this.Qa.O=this.ub[t],t=this.Qa.da()+this.Qa.O,new o(this.Qa,t,this.extent,this.vb,this.xb)}},{"./vectortilefeature.js":4}]},{},[2])(2)})}();var op=[null],ap=Us(op,{nd:function(t,e){e[e.length-1].Xa.push(t.getAttribute("ref"))},tag:gl});Us(op,{node:function(t,e){var i=e[0],n=e[e.length-1],r=t.getAttribute("id"),o=[parseFloat(t.getAttribute("lon")),parseFloat(t.getAttribute("lat"))];n.Ce[r]=o;var a=Xs({tb:{}},sp,t,e);g(a.tb)||(o=new oe(o),Ks(o,!1,i),i=new As(o),i.a=r,i.v(),j(i,a.tb),n.features.push(i))},way:function(t,e){for(var i=e[0],n=t.getAttribute("id"),r=Xs({Xa:[],tb:{}},ap,t,e),o=e[e.length-1],a=[],s=0,h=r.Xa.length;s<h;s++)V(a,o.Ce[r.Xa[s]]);r.Xa[0]==r.Xa[r.Xa.length-1]?(s=new fe(null),s.U("XY",a,[a.length])):(s=new th(null),s.U("XY",a)),Ks(s,!1,i),i=new As(s),i.a=n,i.v(),j(i,r.tb),o.features.push(i)}});var sp=Us(op,{tag:gl}),hp=[null,"http://www.opengis.net/ows/1.1"];Us(hp,{ServiceIdentification:js(function(t,e){return Xs({},wp,t,e)}),ServiceProvider:js(function(t,e){return Xs({},xp,t,e)}),OperationsMetadata:js(function(t,e){return Xs({},gp,t,e)})});var lp=Us(hp,{DeliveryPoint:js(Th),City:js(Th),AdministrativeArea:js(Th),PostalCode:js(Th),Country:js(Th),ElectronicMailAddress:js(Th)}),up=Us(hp,{Value:Rs(function(t){return Th(t)})}),cp=Us(hp,{AllowedValues:js(function(t,e){return Xs({},up,t,e)})}),fp=Us(hp,{Phone:js(function(t,e){return Xs({},yp,t,e)}),Address:js(function(t,e){return Xs({},lp,t,e)})}),dp=Us(hp,{HTTP:js(function(t,e){return Xs({},pp,t,e)})}),pp=Us(hp,{Get:Rs(function(t,e){var i=yl(t);return i?Xs({href:i},mp,t,e):void 0}),Post:void 0}),vp=Us(hp,{DCP:js(function(t,e){return Xs({},dp,t,e)})}),gp=Us(hp,{Operation:function(t,e){var i=t.getAttribute("name"),n=Xs({},vp,t,e);n&&(e[e.length-1][i]=n)}}),yp=Us(hp,{Voice:js(Th),Facsimile:js(Th)}),mp=Us(hp,{Constraint:Rs(function(t,e){var i=t.getAttribute("name");return i?Xs({name:i},cp,t,e):void 0})}),bp=Us(hp,{IndividualName:js(Th),PositionName:js(Th),ContactInfo:js(function(t,e){return Xs({},fp,t,e)})}),wp=Us(hp,{Title:js(Th),ServiceTypeVersion:js(Th),ServiceType:js(Th)}),xp=Us(hp,{ProviderName:js(Th),ProviderSite:js(yl),ServiceContact:js(function(t,e){return Xs({},bp,t,e)})});js(xh.prototype.o,"bounds");var Mp={"http://www.opengis.net/wfs":{totalInserted:js(Eh),totalUpdated:js(Eh),totalDeleted:js(Eh)}},Sp={"http://www.opengis.net/ogc":{FeatureId:_s(function(t){return t.getAttribute("fid")})}},Cp={"http://www.opengis.net/wfs":{Feature:function(t,e){Ws(Sp,t,e)}}};js(function(t,e){return Xs({},Mp,t,e)},"transactionSummary"),js(function(t,e){return Xs([],Cp,t,e)},"insertIds");var Lp=[null,"http://www.opengis.net/wms"];Us(Lp,{Service:js(function(t,e){return Xs({},Ap,t,e)}),Capability:js(function(t,e){return Xs({},kp,t,e)})});var kp=Us(Lp,{Request:js(function(t,e){return Xs({},Rp,t,e)}),Exception:js(function(t,e){return Xs([],Pp,t,e)}),Layer:js(function(t,e){return Xs({},Fp,t,e)})}),Ap=Us(Lp,{Name:js(Th),Title:js(Th),Abstract:js(Th),KeywordList:js(xl),OnlineResource:js(yl),ContactInformation:js(function(t,e){return Xs({},Ep,t,e)}),Fees:js(Th),AccessConstraints:js(Th),LayerLimit:js(Eh),MaxWidth:js(Eh),MaxHeight:js(Eh)}),Ep=Us(Lp,{ContactPersonPrimary:js(function(t,e){return Xs({},Ip,t,e)}),ContactPosition:js(Th),ContactAddress:js(function(t,e){return Xs({},Tp,t,e)}),ContactVoiceTelephone:js(Th),ContactFacsimileTelephone:js(Th),ContactElectronicMailAddress:js(Th)}),Ip=Us(Lp,{ContactPerson:js(Th),ContactOrganization:js(Th)}),Tp=Us(Lp,{AddressType:js(Th),Address:js(Th),City:js(Th),StateOrProvince:js(Th),PostCode:js(Th),Country:js(Th)}),Pp=Us(Lp,{Format:_s(Th)}),Fp=Us(Lp,{Name:js(Th),Title:js(Th),Abstract:js(Th),KeywordList:js(xl),CRS:Rs(Th),EX_GeographicBoundingBox:js(function(t,e){var i=Xs({},Dp,t,e);if(i){var n=i.westBoundLongitude,r=i.southBoundLatitude,o=i.eastBoundLongitude,i=i.northBoundLatitude;return void 0===n||void 0===r||void 0===o||void 0===i?void 0:[n,r,o,i]}}),BoundingBox:Rs(function(t){var e=[Ah(t.getAttribute("minx")),Ah(t.getAttribute("miny")),Ah(t.getAttribute("maxx")),Ah(t.getAttribute("maxy"))],i=[Ah(t.getAttribute("resx")),Ah(t.getAttribute("resy"))];return{crs:t.getAttribute("CRS"),extent:e,res:i}}),Dimension:Rs(function(t){return{name:t.getAttribute("name"),units:t.getAttribute("units"),unitSymbol:t.getAttribute("unitSymbol"),default:t.getAttribute("default"),multipleValues:Ch(t.getAttribute("multipleValues")),nearestValue:Ch(t.getAttribute("nearestValue")),current:Ch(t.getAttribute("current")),values:Th(t)}}),Attribution:js(function(t,e){return Xs({},_p,t,e)}),AuthorityURL:Rs(function(t,e){var i=ml(t,e);if(i)return i.name=t.getAttribute("name"),i}),Identifier:Rs(Th),MetadataURL:Rs(function(t,e){var i=ml(t,e);if(i)return i.type=t.getAttribute("type"),i}),DataURL:Rs(ml),FeatureListURL:Rs(ml),Style:Rs(function(t,e){return Xs({},Bp,t,e)}),MinScaleDenominator:js(kh),MaxScaleDenominator:js(kh),Layer:Rs(function(t,e){var i=e[e.length-1],n=Xs({},Fp,t,e);if(n){var r=Ch(t.getAttribute("queryable"));return void 0===r&&(r=i.queryable),n.queryable=void 0!==r&&r,r=Ih(t.getAttribute("cascaded")),void 0===r&&(r=i.cascaded),n.cascaded=r,r=Ch(t.getAttribute("opaque")),void 0===r&&(r=i.opaque),n.opaque=void 0!==r&&r,r=Ch(t.getAttribute("noSubsets")),void 0===r&&(r=i.noSubsets),n.noSubsets=void 0!==r&&r,(r=Ah(t.getAttribute("fixedWidth")))||(r=i.fixedWidth),n.fixedWidth=r,(r=Ah(t.getAttribute("fixedHeight")))||(r=i.fixedHeight),n.fixedHeight=r,["Style","CRS","AuthorityURL"].forEach(function(t){t in i&&(n[t]=(n[t]||[]).concat(i[t]))}),"EX_GeographicBoundingBox BoundingBox Dimension Attribution MinScaleDenominator MaxScaleDenominator".split(" ").forEach(function(t){t in n||(n[t]=i[t])}),n}})}),_p=Us(Lp,{Title:js(Th),OnlineResource:js(yl),LogoURL:js(wl)}),Dp=Us(Lp,{westBoundLongitude:js(kh),eastBoundLongitude:js(kh),southBoundLatitude:js(kh),northBoundLatitude:js(kh)}),Rp=Us(Lp,{GetCapabilities:js(bl),GetMap:js(bl),GetFeatureInfo:js(bl)}),jp=Us(Lp,{Format:Rs(Th),DCPType:Rs(function(t,e){return Xs({},Np,t,e)})}),Np=Us(Lp,{HTTP:js(function(t,e){return Xs({},Op,t,e)})}),Op=Us(Lp,{Get:js(ml),Post:js(ml)}),Bp=Us(Lp,{Name:js(Th),Title:js(Th),Abstract:js(Th),LegendURL:Rs(wl),StyleSheetURL:js(ml),StyleURL:js(ml)}),Vp=Us(Lp,{Format:js(Th),OnlineResource:js(yl)}),Up=Us(Lp,{Keyword:_s(Th)}),Wp=[null,"http://www.opengis.net/wmts/1.0"],Xp=[null,"http://www.opengis.net/ows/1.1"];Us(Wp,{Contents:js(function(t,e){return Xs({},Hp,t,e)})});var Hp=Us(Wp,{Layer:Rs(function(t,e){return Xs({},Gp,t,e)}),TileMatrixSet:Rs(function(t,e){return Xs({},Qp,t,e)})}),Gp=Us(Wp,{Style:Rs(function(t,e){var i=Xs({},zp,t,e);if(i){var n="true"===t.getAttribute("isDefault");return i.isDefault=n,i}}),Format:Rs(Th),TileMatrixSetLink:Rs(function(t,e){return Xs({},Yp,t,e)}),Dimension:Rs(function(t,e){return Xs({},Kp,t,e)}),ResourceURL:Rs(function(t){var e=t.getAttribute("format"),i=t.getAttribute("template");t=t.getAttribute("resourceType");var n={};return e&&(n.format=e),i&&(n.template=i),t&&(n.resourceType=t),n})},Us(Xp,{Title:js(Th),Abstract:js(Th),WGS84BoundingBox:js(function(t,e){var i=Xs([],Zp,t,e);return 2!=i.length?void 0:et(i)}),Identifier:js(Th)})),zp=Us(Wp,{LegendURL:Rs(function(t){var e={};return e.format=t.getAttribute("format"),e.href=yl(t),e})},Us(Xp,{Title:js(Th),Identifier:js(Th)})),Yp=Us(Wp,{TileMatrixSet:js(Th),TileMatrixSetLimits:js(function(t,e){return Xs([],qp,t,e)})}),qp=Us(Wp,{TileMatrixLimits:_s(function(t,e){return Xs({},Jp,t,e)})}),Jp=Us(Wp,{TileMatrix:js(Th),MinTileRow:js(Eh),MaxTileRow:js(Eh),MinTileCol:js(Eh),MaxTileCol:js(Eh)}),Kp=Us(Wp,{Default:js(Th),Value:Rs(Th)},Us(Xp,{Identifier:js(Th)})),Zp=Us(Xp,{LowerCorner:_s(Ml),UpperCorner:_s(Ml)}),Qp=Us(Wp,{WellKnownScaleSet:js(Th),TileMatrix:Rs(function(t,e){return Xs({},$p,t,e)})},Us(Xp,{SupportedCRS:js(Th),Identifier:js(Th)})),$p=Us(Wp,{TopLeftCorner:js(Ml),ScaleDenominator:js(kh),TileWidth:js(Eh),TileHeight:js(Eh),MatrixWidth:js(Eh),MatrixHeight:js(Eh)},Us(Xp,{Identifier:js(Th)}));i(Sl,Yt),Sl.prototype.clone=function(){var t=new Sl(null);return Jt(t,this.X,this.s.slice()),t.v(),t},Sl.prototype.Cb=function(t){var e=this.s,i=e[this.a]-e[0];return st(e[0]-i,e[1]-i,e[0]+i,e[1]+i,t)},Sl.prototype.f=function(){var t=this.s[this.a]-this.s[0],e=this.s[this.a+1]-this.s[1];return Math.sqrt(t*t+e*e)},Sl.prototype.$=function(){return"Circle"},i(Ll,Vi),gu=Ll.prototype,gu.Z=function(){1==this.state&&kl(this),this.a&&A(this.a),this.state=5,this.v(),Vi.prototype.Z.call(this)},gu.Za=function(){return this.c},gu.getKey=function(){return this.f},gu.Fe=function(){this.state=3,kl(this),this.v()},gu.Ge=function(){this.state=this.c.naturalWidth&&this.c.naturalHeight?oc:4,kl(this),this.v()},gu.load=function(){0!=this.state&&3!=this.state||(this.state=1,this.v(),this.b=[M(this.c,"error",this.Fe,this,!0),M(this.c,"load",this.Ge,this,!0)],this.g(this,this.f))},i(El,as),gu=El.prototype,gu.$b=function(t){var e=o(t).toString();if(Tl(this,e,t)){Il(this,e,t);var i=t.T();i?(e=i.M(),this.a&&this.a.Ha(e,t)):this.b[e]=t,P(this,new jl(tv,t))}this.v()},gu.clear=function(t){if(t){for(var e in this.l)this.l[e].forEach(C);this.i||(this.l={},this.f={},this.j={})}else if(this.a){this.a.forEach(this.tc,this);for(var i in this.b)this.tc(this.b[i])}this.i&&this.i.clear(),this.a&&this.a.clear(),this.C.clear(),this.b={},P(this,new jl(iv)),this.v()},gu.Me=function(){var t;return this.i?t=this.i.a:this.a&&(t=Sa(this.a),g(this.b)||V(t,v(this.b))),t},gu.M=function(){return this.a.M()},gu.Qd=function(t){return t=this.f[t.toString()],void 0!==t?t:null},gu.hd=function(t){t=t.target;var e=o(t).toString(),i=t.T();i?(i=i.M(),e in this.b?(delete this.b[e],this.a&&this.a.Ha(i,t)):this.a&&Ma(this.a,i,t)):e in this.b||(this.a&&this.a.remove(t),this.b[e]=t),i=t.a,void 0!==i?(i=i.toString(),e in this.j?(delete this.j[e],this.f[i]=t):this.f[i]!==t&&(Rl(this,t),this.f[i]=t)):e in this.j||(Rl(this,t),this.j[e]=t),this.v(),P(this,new jl(ev,t))},gu.ld=function(t){var e=o(t).toString();e in this.b?delete this.b[e]:this.a&&this.a.remove(t),this.tc(t),this.v()},gu.tc=function(t){var e=o(t).toString();this.l[e].forEach(C),delete this.l[e];var i=t.a;void 0!==i?delete this.f[i.toString()]:delete this.j[e],P(this,new jl(nv,t))},i(jl,E);var tv="addfeature",ev="changefeature",iv="clear",nv="removefeature";i(Nl,hn),Nl.prototype.setMap=function(t){hn.prototype.setMap.call(this,t),this.Ja()},Nl.prototype.C=Mt,Nl.prototype.Ja=function(){var t=this.V,e=this.get(ac);t&&e||Yl(this),this.ca.setMap(e?t:null)};var rv="Point",ov="LineString",av="Polygon",sv="Circle";i(Kl,E);var hv="drawstart",lv="drawend";return i(Zl,Vi),Zl.prototype.Z=function(){1==this.state&&(this.ab.forEach(C),this.ab=null),Vi.prototype.Z.call(this)},Zl.prototype.Za=function(){return this.j},Zl.prototype.md=function(){var t=[];if(this.c.forEach(function(e){e&&e.aa()==oc&&t.push({extent:Oe(this.b,e.ga),image:e.Za()})},this),this.c.length=0,0===t.length)this.state=3;else{var e=this.i[0],i=Ve(this.g,e),n="number"==typeof i?i:i[0],i="number"==typeof i?i:i[1],e=this.g.a[e],r=this.b.a[this.f],o=Oe(this.g,this.i);this.j=is(n,i,this.u,r,this.b.M(),e,o,this.o,t,this.l,this.B),this.state=oc}this.v()},Zl.prototype.load=function(){if(0==this.state){this.state=1,this.v();var t=0;this.ab=[],this.c.forEach(function(e){var i=e.aa();if(0==i||1==i){t++;var n;n=M(e,"change",function(){var i=e.aa();i!=oc&&3!=i&&4!=i||(C(n),t--,0===t&&(this.ab.forEach(C),this.ab=null,this.md()))},this),this.ab.push(n)}},this),this.c.forEach(function(t){0==t.aa()&&t.load()}),0===t&&setTimeout(this.md.bind(this),0)}},i(iu,ds),iu.prototype.Sa=function(t){for(var e,i;nu(this);){e=this.a.Na,i=e.ga[0].toString();var n;if((n=i in t)&&(e=e.ga,n=Ae(t[i],e[1],e[2])),n)break;A(this.pop())}},i(ru,as),gu=ru.prototype,gu.gd=function(){return nu(this.a)},gu.Sa=function(t,e){var i=this.qb(t);i&&i.Sa(e)},gu.gc=function(){return 0},gu.getKey=function(){return this.La},gu.Eb=function(t,e,i){return t+"/"+e+"/"+i},gu.jc=function(){return this.C},gu.Ga=function(t){return this.tileGrid?this.tileGrid:Xe(t)},gu.qb=function(t){var e=this.g;return e&&!Nt(e,t)?null:this.a},gu.ud=n,i(hu,E),i(lu,ru),lu.prototype.A=function(t){switch(t=t.target,t.aa()){case 1:P(this,new hu("tileloadstart",t));break;case oc:P(this,new hu("tileloadend",t));break;case 3:P(this,new hu("tileloaderror",t))}},lu.prototype.ud=function(t,e,i){t=this.Eb(t,e,i),ps(this.a,t)&&this.a.get(t)},i(cu,lu),gu=cu.prototype,gu.gd=function(){if(nu(this.a))return!0;for(var t in this.b)if(nu(this.b[t]))return!0;return!1},gu.Sa=function(t,e){var i=this.qb(t);this.a.Sa(this.a==i?e:{});for(var n in this.b){var r=this.b[n];r.Sa(r==i?e:{})}},gu.gc=function(t){return this.g&&t&&Nt(this.g,t),0},gu.jc=function(t){return!(this.g&&t&&!Nt(this.g,t))&&lu.prototype.jc.call(this,t)},gu.Ga=function(t){var e=this.g;return!this.tileGrid||e&&!Nt(e,t)?(e=o(t).toString(),e in this.j||(this.j[e]=Xe(t)),this.j[e]):this.tileGrid},gu.qb=function(t){var e=this.g;return!e||Nt(e,t)?this.a:(t=o(t).toString(),t in this.b||(this.b[t]=new iu),this.b[t])},function(){var t={},i={S:t};!function(e){if("object"==typeof t&&"undefined"!=typeof i)i.S=e();else{var n;n="undefined"!=typeof window?window:"undefined"!=typeof r?r:"undefined"!=typeof self?self:this,n.Hf=e()}}(function(){return function t(i,n,r){function o(s,h){if(!n[s]){if(!i[s]){var l="function"==typeof e&&e;if(!h&&l)return l(s,!0);if(a)return a(s,!0);throw l=Error("Cannot find module '"+s+"'"),l.code="MODULE_NOT_FOUND",l}l=n[s]={S:{}},i[s][0].call(l.S,function(t){var e=i[s][1][t];return o(e?e:t)},l,l.S,t,i,n,r)}return n[s].S}for(var a="function"==typeof e&&e,s=0;s<r.length;s++)o(r[s]);return o}({1:[function(t,e,i){t=t("./processor"),i.zf=t},{"./processor":2}],2:[function(t,e){function i(t){var e=!0;try{new ImageData(10,10)}catch(t){e=!1}return function(i){var n=i.buffers,r=i.meta,o=i.width,a=i.height,s=n.length,h=n[0].byteLength;if(i.imageOps){for(h=Array(s),i=0;i<s;++i){var l,u=h,c=i;l=new Uint8ClampedArray(n[i]);var f=o,d=a;l=e?new ImageData(l,f,d):{data:l,width:f,height:d},u[c]=l}o=t(h,r).data}else{for(o=new Uint8ClampedArray(h),a=Array(s),u=Array(s),i=0;i<s;++i)a[i]=new Uint8ClampedArray(n[i]),u[i]=[0,0,0,0];for(n=0;n<h;n+=4){for(i=0;i<s;++i)c=a[i],u[i][0]=c[n],u[i][1]=c[n+1],u[i][2]=c[n+2],u[i][3]=c[n+3];i=t(u,r),o[n]=i[0],o[n+1]=i[1],o[n+2]=i[2],o[n+3]=i[3]}}return o.buffer}}function n(t,e){var n=Object.keys(t.lib||{}).map(function(e){return"var "+e+" = "+t.lib[e].toString()+";"}).concat(["var __minion__ = ("+i.toString()+")(",t.operation.toString(),");",'self.addEventListener("message", function(event) {',"  var buffer = __minion__(event.data);","  self.postMessage({buffer: buffer, meta: event.data.meta}, [buffer]);","});"]),n=URL.createObjectURL(new Blob(n,{type:"text/javascript"})),n=new Worker(n);return n.addEventListener("message",e),n}function r(t,e){var n=i(t.operation);return{postMessage:function(t){setTimeout(function(){e({data:{buffer:n(t),meta:t.meta}})},0)}}}function o(t){this.Wb=!!t.Ff;var e;e=0===t.threads?0:this.Wb?1:t.threads||1;var i=[];if(e)for(var o=0;o<e;++o)i[o]=n(t,this.Gc.bind(this,o));else i[0]=r(t,this.Gc.bind(this,0));this.yb=i,this.Hc=[],this.wb=0,this.Pa={},this.Xb=null}var a=t("./util").Be;o.prototype.Cd=function(){if(0===this.wb&&0<this.Hc.length){var t=this.Xb=this.Hc.shift(),e=t.Wa[0].width,i=t.Wa[0].height,n=t.Wa.map(function(t){return t.data.buffer}),r=this.yb.length;if(this.wb=r,1===r)this.yb[0].postMessage({buffers:n,meta:t.me,imageOps:this.Wb,width:e,height:i},n);else for(var o=4*Math.ceil(t.Wa[0].data.length/4/r),a=0;a<r;++a){for(var s=a*o,h=[],l=0,u=n.length;l<u;++l)h.push(n[a].slice(s,s+o));this.yb[a].postMessage({buffers:h,meta:t.me,imageOps:this.Wb,width:e,height:i},h)}}},o.prototype.Gc=function(t,e){this.Ef||(this.Pa[t]=e.data,--this.wb,0===this.wb&&this.Ed())},o.prototype.Ed=function(){var t,e,i=this.Xb,n=this.yb.length;if(1===n)t=new Uint8ClampedArray(this.Pa[0].buffer),e=this.Pa[0].meta;else{var r=i.Wa[0].data.length;t=new Uint8ClampedArray(r),e=Array(r);for(var r=4*Math.ceil(r/4/n),o=0;o<n;++o){var s=o*r;t.set(new Uint8ClampedArray(this.Pa[o].buffer),s),e[o]=this.Pa[o].meta}}this.Xb=null,this.Pa={},i.Bb(null,a(t,i.Wa[0].width,i.Wa[0].height),e),this.Cd()},e.S=o},{"./util":3}],3:[function(t,e,i){var n=!0;try{new ImageData(10,10)}catch(t){n=!1}var r=document.createElement("canvas").getContext("2d");i.Be=function(t,e,i){return n?new ImageData(t,e,i):(e=r.createImageData(e,i),e.data.set(t),e)}},{}]},{},[1])(1)})}(),t("ol.Collection",ze),t("ol.Feature",As),As.prototype.getGeometry=As.prototype.T,As.prototype.getId=As.prototype.De,As.prototype.setStyle=As.prototype.ad,t("ol.Map",bs),bs.prototype.addInteraction=bs.prototype.Id,bs.prototype.addLayer=bs.prototype.Jd,bs.prototype.addOverlay=bs.prototype.Kd,bs.prototype.forEachFeatureAtPixel=bs.prototype.Pd,bs.prototype.getEventPixel=bs.prototype.Tc,bs.prototype.getLayerGroup=bs.prototype.Fb,bs.prototype.getSize=bs.prototype.Ya,
bs.prototype.getView=bs.prototype.W,bs.prototype.getViewport=bs.prototype.Sd,bs.prototype.on=bs.prototype.ka,bs.prototype.removeInteraction=bs.prototype.af,bs.prototype.setLayerGroup=bs.prototype.ef,t("ol.Observable",_),t("ol.Observable.unByKey",function(t){if(Array.isArray(t))for(var e=0,i=t.length;e<i;++e)C(t[e]);else C(t)}),t("ol.Overlay",Ss),t("ol.View",ge),ge.prototype.animate=ge.prototype.animate,ge.prototype.calculateExtent=ge.prototype.Mc,ge.prototype.getZoom=ge.prototype.Td,ge.prototype.setZoom=ge.prototype.ff,t("ol.control.defaults",li),t("ol.extent.containsXY",ot),t("ol.extent.getCenter",vt),t("ol.format.GeoJSON",gh),t("ol.geom.Circle",Sl),Sl.prototype.getLastCoordinate=Sl.prototype.Uc,Sl.prototype.getRadius=Sl.prototype.f,Sl.prototype.on=Sl.prototype.ka,t("ol.geom.LineString",th),th.prototype.getCoordinateAt=th.prototype.Sc,th.prototype.getCoordinates=th.prototype.ua,th.prototype.getLastCoordinate=th.prototype.Uc,th.prototype.getLength=th.prototype.Ie,th.prototype.on=th.prototype.ka,th.prototype.setCoordinates=th.prototype.ea,t("ol.geom.LinearRing",re),t("ol.geom.MultiPolygon",sh),t("ol.geom.Point",oe),oe.prototype.getCoordinates=oe.prototype.ua,t("ol.geom.Polygon",fe),fe.prototype.appendLinearRing=fe.prototype.Ld,fe.prototype.getExtent=fe.prototype.M,t("ol.interaction.Draw",Nl),Nl.prototype.on=Nl.prototype.ka,t("ol.interaction.defaults",Xn),t("ol.layer.Group",zn),zn.prototype.getVisible=zn.prototype.f,zn.prototype.setVisible=zn.prototype.l,t("ol.layer.Tile",vr),vr.prototype.getVisible=vr.prototype.f,vr.prototype.setVisible=vr.prototype.l,t("ol.layer.Vector",Ar),Ar.prototype.getSource=Ar.prototype.oa,Ar.prototype.getVisible=Ar.prototype.f,Ar.prototype.setVisible=Ar.prototype.l,t("ol.proj.Projection",Lt),Lt.prototype.getExtent=Lt.prototype.M,t("ol.proj.addCoordinateTransforms",Dt),t("ol.proj.addProjection",Pt),t("ol.proj.transform",Wt),Zn.prototype.frameState=Zn.prototype.frameState,Zn.prototype.vectorContext=Zn.prototype.vectorContext,t("ol.render.VectorContext",Er),Ir.prototype.drawCircle=Ir.prototype.Ra,Ir.prototype.setStyle=Ir.prototype.cd,t("ol.source.TileImage",cu),t("ol.source.Vector",El),El.prototype.addFeature=El.prototype.$b,El.prototype.clear=El.prototype.clear,El.prototype.getFeatureById=El.prototype.Qd,El.prototype.getFeatures=El.prototype.Me,El.prototype.removeFeature=El.prototype.ld,t("ol.style.Circle",br),t("ol.style.Fill",wr),t("ol.style.Icon",Xh),t("ol.style.RegularShape",mr),t("ol.style.Stroke",xr),t("ol.style.Style",Mr),t("ol.tilegrid.TileGrid",Pe),mu.ol})}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],20:[function(t,e,i){var n={map_w:16384,map_h:16384,map_x_boundaries:[-8475.58617377,9327.49124559],map_y_boundaries:[9028.52473332,-8836.61406266],resolutions:[16,8,4,2,1],visionRadius:{observer:1600,sentry:850,darkness:675},defaultMovementSpeed:300,creepBaseMovementSpeed:325,pullRangeTiming:[4,2.25,4.75]};n.imgCenter=[n.map_w/2,n.map_h/2],n.scale=Math.abs(n.map_x_boundaries[1]-n.map_x_boundaries[0])/n.map_w,e.exports=n},{}],21:[function(t,e,i){var n=t("openlayers"),r=t("./conversionFunctions"),o=t("./mapConstants"),a=new n.proj.Projection({code:"pixel",units:"pixels",extent:[0,0,o.map_w,o.map_h]}),s=new n.proj.Projection({code:"dota",extent:[-8288,-8288,8288,8288],units:"units"});n.proj.addProjection(a),n.proj.addCoordinateTransforms("pixel",s,r.latLonToWorld,r.worldToLatLon),n.proj.addProjection(s),n.proj.addCoordinateTransforms("dota",a,r.worldToLatLon,r.latLonToWorld),e.exports={pixel:a,dota:s}},{"./conversionFunctions":13,"./mapConstants":20,openlayers:19}],22:[function(t,e,i){var n=t("rollbar-browser"),r={accessToken:"fe7cf327f2b24bb8991e252239f6200f",captureUncaught:!0,ignoredMessages:["Error:  DOM Exception 18","SecurityError: DOM Exception 18: An attempt was made to break through the security policy of the user agent.","SecurityError:  An attempt was made to break through the security policy of the user agent.","Script error."],payload:{environment:"production",client:{javascript:{source_map_enabled:!0,code_version:"4eac1c0e61ae75859e961008f5948f72c3ffdc57",guess_uncaught_frames:!0}}}},o=n.init(r);e.exports=o},{"rollbar-browser":1}],23:[function(t,e,i){var n=t("openlayers"),r=t("./util/getFeatureCenter"),o=new n.style.Style({fill:new n.style.Fill({color:"rgba(255,255,255,0.4)"}),stroke:new n.style.Stroke({color:"#3399CC",width:1.25})}),a={creepSpawn:new n.style.Style({image:new n.style.RegularShape({points:6,radius:8,fill:new n.style.Fill({color:"rgba(0, 0, 255, 0.3)"}),stroke:new n.style.Stroke({color:"rgba(0, 0, 255, 0.7)",width:2})})}),neutralCamp:[new n.style.Style({image:new n.style.RegularShape({points:3,radius:8,fill:new n.style.Fill({color:"rgba(0, 255, 0, 0.3)"}),stroke:new n.style.Stroke({color:"rgba(0, 255, 0, 0.7)",width:2})})}),new n.style.Style({image:new n.style.RegularShape({points:3,radius:9,fill:new n.style.Fill({color:"rgba(255, 255, 0, 0.3)"}),stroke:new n.style.Stroke({color:"rgba(255, 255, 0, 0.7)",width:2})})}),new n.style.Style({image:new n.style.RegularShape({points:3,radius:10,fill:new n.style.Fill({color:"rgba(255, 150, 0, 0.3)"}),stroke:new n.style.Stroke({color:"rgba(255, 150, 0, 0.7)",width:2})})}),new n.style.Style({image:new n.style.RegularShape({points:3,radius:11,fill:new n.style.Fill({color:"rgba(255, 0, 0, 0.3)"}),stroke:new n.style.Stroke({color:"rgba(255, 0, 0, 0.7)",width:2})})})],dire:new n.style.Style({fill:new n.style.Fill({color:"rgba(255, 51, 51, 0.2)"}),stroke:new n.style.Stroke({color:"#FF3333",width:2})}),radiant:new n.style.Style({fill:new n.style.Fill({color:"rgba(51, 255, 51, 0.2)"}),stroke:new n.style.Stroke({color:"#33FF33",width:2})}),direCreep:new n.style.Style({fill:new n.style.Fill({color:"rgba(255, 51, 51, 0.2)"}),stroke:new n.style.Stroke({color:"#FF3333",width:10})}),radiantCreep:new n.style.Style({fill:new n.style.Fill({color:"rgba(51, 255, 51, 0.2)"}),stroke:new n.style.Stroke({color:"#33FF33",width:10})}),highlight:new n.style.Style({fill:new n.style.Fill({color:"rgba(255, 255, 0, 0.2)"}),stroke:new n.style.Stroke({color:"#ffff00",width:2})}),select:new n.style.Style({fill:new n.style.Fill({color:"rgba(0, 255, 0, 0.2)"}),stroke:new n.style.Stroke({color:"#00ff00",width:2})}),cursor:new n.style.Style({fill:new n.style.Fill({color:"rgba(255, 255, 255, 0.2)"}),stroke:new n.style.Stroke({color:"rgba(255, 255, 255, 1)",width:1})}),visionSimulation:new n.style.Style({fill:new n.style.Fill({color:"rgba(255, 255, 0, 0.2)"}),stroke:new n.style.Stroke({color:"rgba(255, 255, 0, 1)",width:1})}),dayVision:new n.style.Style({fill:new n.style.Fill({color:"rgba(238, 153, 0, 0.1)"}),stroke:new n.style.Stroke({color:"rgba(238, 153, 0, 0.5)",width:2})}),nightVision:new n.style.Style({fill:new n.style.Fill({color:"rgba(0, 127, 255, 0.1)"}),stroke:new n.style.Stroke({color:"rgba(0, 0, 255, 0.5)",width:2})}),trueSight:new n.style.Style({fill:new n.style.Fill({color:"rgba(0, 127, 255, 0.1)"}),stroke:new n.style.Stroke({color:"rgba(0, 127, 255, 0.5)",width:2})}),attackRange:new n.style.Style({fill:new n.style.Fill({color:"rgba(255, 0, 0, 0.1)"}),stroke:new n.style.Stroke({color:"rgba(255, 0, 0, 0.5)",width:2})}),ent_dota_fountain:[o,new n.style.Style({image:new n.style.Icon({src:"img/svgs/water-15.svg",anchor:[.5,.5]}),geometry:r})],npc_dota_barracks:[o,new n.style.Style({image:new n.style.Icon({src:"img/svgs/stadium-15.svg",anchor:[.5,.5]}),geometry:r})],npc_dota_filler:[o,new n.style.Style({image:new n.style.Icon({src:"img/svgs/landmark-15.svg",anchor:[.5,.5]}),geometry:r})],npc_dota_tower:[o,new n.style.Style({image:new n.style.Icon({src:"img/svgs/castle-15.svg",anchor:[.5,.5]}),geometry:r})],ent_dota_shop:[o,new n.style.Style({image:new n.style.Icon({src:"img/svgs/shop-15.svg",anchor:[.5,.5]}),geometry:r})],npc_dota_fort:[o,new n.style.Style({image:new n.style.Icon({src:"img/svgs/town-hall-15.svg",anchor:[.5,.5]}),geometry:r})],npc_dota_healer:[o,new n.style.Style({image:new n.style.Icon({src:"img/svgs/place-of-worship-15.svg",anchor:[.5,.5]}),geometry:r})],measure:new n.style.Style({fill:new n.style.Fill({color:"rgba(255, 255, 255, 0.3)"}),stroke:new n.style.Stroke({color:"rgba(255,165,0, 0.7)",lineDash:[10,10],width:3}),image:new n.style.Circle({radius:5,stroke:new n.style.Stroke({color:"rgba(255,165,0, 0.7)",width:2}),fill:new n.style.Fill({color:"rgba(255,165,0, 0.3)"})})}),observer:{normal:new n.style.Style({image:new n.style.Icon({src:"img/ward_observer.png",anchor:[.5,1]})}),highlight:new n.style.Style({image:new n.style.Icon({src:"img/ward_observer.png",anchor:[.5,1],color:"#0000ff"})}),remove:new n.style.Style({image:new n.style.Icon({src:"img/ward_observer.png",anchor:[.5,1],color:"#ff0000"})})},sentry:{normal:new n.style.Style({image:new n.style.Icon({src:"img/ward_sentry.png",anchor:[.5,1]})}),highlight:new n.style.Style({image:new n.style.Icon({src:"img/ward_sentry.png",anchor:[.5,1],color:"#0000ff"})}),remove:new n.style.Style({image:new n.style.Icon({src:"img/ward_sentry.png",anchor:[.5,1],color:"#ff0000"})})},tree:{alive:new n.style.Style({fill:new n.style.Fill({color:[0,255,0,.3]}),stroke:new n.style.Stroke({color:[0,255,0,.8]})}),dead:new n.style.Style({fill:new n.style.Fill({color:[51,25,0,.7]}),stroke:new n.style.Stroke({color:[255,128,0,.8]})})},bountyRune:new n.style.Style({image:new n.style.Icon({src:"img/bountyrune.png",anchor:[.5,.5]})}),rune:new n.style.Style({image:new n.style.Icon({src:"img/doubledamage.png",anchor:[.5,.5]})}),roshan:new n.style.Style({image:new n.style.Icon({src:"img/roshan.png",anchor:[.5,.5]})}),pullRange:new n.style.Style({fill:new n.style.Fill({color:"rgba(0, 153, 238, 0.1)"}),stroke:new n.style.Stroke({color:"rgba(0, 153, 238, 0.5)",width:2})})};a.teamColor=function(t,e){return t.getId().indexOf("_bad_")==-1?a.radiant:a.dire},a.creepColor=function(t,e){return t.getId().indexOf("_bad_")==-1?a.radiantCreep:a.direCreep},e.exports=a},{"./util/getFeatureCenter":27,openlayers:19}],24:[function(t,e,i){function n(t){return t.charAt(0).toUpperCase()+t.slice(1)}e.exports=n},{}],25:[function(t,e,i){function n(t,e,i,n){for(var r=360/n,o=[],a=0,s=0;s<n;s++){a+=r;var h=t+i*Math.cos(a*Math.PI/180),l=e+i*Math.sin(a*Math.PI/180);o.push([h,l])}return o}e.exports=n},{}],26:[function(t,e,i){var n=function(t,e,i){for(var n=0;n<t.length;n++)e.call(i,t[n],n)};e.exports=n},{}],27:[function(t,e,i){var n=t("openlayers"),r=function(t){var e=t.getGeometry().getExtent(),i=n.extent.getCenter(e);return new n.geom.Point(i)};e.exports=r},{openlayers:19}],28:[function(t,e,i){function n(t,e){var i=new XMLHttpRequest;return i.open("GET",t,!0),i.onload=function(){if(i.status>=200&&i.status<400){var t=JSON.parse(i.responseText);e(t)}else alert("Error loading page.")},i.onerror=function(){alert("Error loading page.")},i.send(),i}e.exports=n},{}],29:[function(t,e,i){function n(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),i=e.exec(location.search);return null==i?"":decodeURIComponent(i[1].replace(/\+/g," "))}function r(t,e){history&&history.replaceState&&history.replaceState(null,"",s(t,e))}function o(t,e){var i=n(t);i=h(h(i," ;")+";"+e," ;"),history&&history.replaceState&&history.replaceState(null,"",s(t,i))}function a(t,e){var i=n(t);i=h(h(i," ;").replace(e,"").replace(/;;/g,"")," ;"),history&&history.replaceState&&history.replaceState(null,"",s(t,""!=i?i:null))}function s(t,e,i){i||(i=window.location.href);var n,r=new RegExp("([?&])"+t+"=.*?(&|#|$)(.*)","gi");if(r.test(i))return"undefined"!=typeof e&&null!==e?i.replace(r,"$1"+t+"="+e+"$2$3"):(n=i.split("#"),i=n[0].replace(r,"$1$3").replace(/(&|\?)$/,""),"undefined"!=typeof n[1]&&null!==n[1]&&(i+="#"+n[1]),i);if("undefined"!=typeof e&&null!==e){var o=i.indexOf("?")!==-1?"&":"?";return n=i.split("#"),i=n[0]+o+t+"="+e,"undefined"!=typeof n[1]&&null!==n[1]&&(i+="#"+n[1]),i}return i}var h=t("./trim");e.exports={getParameterByName:n,setQueryString:r,addQueryStringValue:o,removeQueryStringValue:a,updateQueryString:s}},{"./trim":30}],30:[function(t,e,i){function n(t){return t.replace(/[\[\](){}?*+\^$\\.|\-]/g,"\\$&")}var r=function(t,e,i){if(i=i||"g","string"!=typeof t||"string"!=typeof e||"string"!=typeof i)throw new TypeError("argument must be string");if(!/^[gi]*$/.test(i))throw new TypeError("Invalid flags supplied '"+i.match(new RegExp("[^gi]*"))+"'");return e=n(e),t.replace(new RegExp("^["+e+"]+|["+e+"]+$",i),"")};e.exports=r},{}],31:[function(t,e,i){function n(t){this.imagePath=t,self.canvas=null,self.png=null}var r=t("png-js");n.prototype.load=function(t){var e=this;Date.now();e.canvas=document.createElement("canvas"),r.load(this.imagePath,e.canvas,function(i){e.png=i,e.ctx=e.canvas.getContext("2d"),t()})},n.prototype.scan=function(t,e,i,n,r){for(var o=this.ctx.getImageData(t,0,e,i),a=o.data,s=0;s<a.length;s+=4){var h=a[s],l=a[s+1],u=a[s+2],c=(a[s+3],Math.floor(s/4%e)),f=Math.floor(s/4/i);n(c,f,[h,l,u],r)}},e.exports=n},{"png-js":32}],32:[function(t,e,i){var n,r=t("./zlib");n=function(){function t(t){var e,i,n,r,o,a,s,h,l,u,c,f;for(this.data=t,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.text={},n=null;;){switch(e=this.readUInt32(),s=function(){var t,e;for(e=[],r=t=0;t<4;r=++t)e.push(String.fromCharCode(this.data[this.pos++]));return e}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"PLTE":this.palette=this.read(e);break;case"IDAT":for("fdAT"===s&&(this.pos+=4,e-=4),t=(null!=n?n.data:void 0)||this.imgData,r=u=0;0<=e?u<e:u>e;r=0<=e?++u:--u)t.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(this.transparency.indexed=this.read(e),h=255-this.transparency.indexed.length,h>0)for(r=c=0;0<=h?c<h:c>h;r=0<=h?++c:--c)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(e)[0];break;case 2:this.transparency.rgb=this.read(e)}break;case"tEXt":l=this.read(e),o=l.indexOf(0),a=String.fromCharCode.apply(String,l.slice(0,o)),this.text[a]=String.fromCharCode.apply(String,l.slice(o+1));break;case"IEND":return n&&this.animation.frames.push(n),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=4===(f=this.colorType)||6===f,i=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*i,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=e}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}return t.load=function(e,i,n){var r;return"function"==typeof i&&(n=i),r=new XMLHttpRequest,r.open("GET",e,!0),r.responseType="arraybuffer",r.onload=function(){var e,o;return e=new Uint8Array(r.response||r.mozResponseArrayBuffer),o=new t(e),"function"==typeof(null!=i?i.getContext:void 0)&&o.render(i),"function"==typeof n?n(o):void 0},r.send(null)},t.prototype.read=function(t){var e,i,n;for(n=[],e=i=0;0<=t?i<t:i>t;e=0<=t?++i:--i)n.push(this.data[this.pos++]);return n},t.prototype.readUInt32=function(){var t,e,i,n;return t=this.data[this.pos++]<<24,e=this.data[this.pos++]<<16,i=this.data[this.pos++]<<8,n=this.data[this.pos++],t|e|i|n},t.prototype.readUInt16=function(){var t,e;return t=this.data[this.pos++]<<8,e=this.data[this.pos++],t|e},t.prototype.decodePixels=function(t){var e,i,n,o,a,s,h,l,u,c,f,d,p,v,g,y,m,b,w,x,M,S,C;if(null==t&&(t=this.imgData),0===t.length)return new Uint8Array(0);for(t=new r(t),t=t.getBytes(),d=this.pixelBitlength/8,y=d*this.width,p=new Uint8Array(y*this.height),s=t.length,g=0,v=0,i=0;v<s;){switch(t[v++]){case 0:for(o=w=0;w<y;o=w+=1)p[i++]=t[v++];break;case 1:for(o=x=0;x<y;o=x+=1)e=t[v++],a=o<d?0:p[i-d],p[i++]=(e+a)%256;break;case 2:for(o=M=0;M<y;o=M+=1)e=t[v++],n=(o-o%d)/d,m=g&&p[(g-1)*y+n*d+o%d],p[i++]=(m+e)%256;break;case 3:for(o=S=0;S<y;o=S+=1)e=t[v++],n=(o-o%d)/d,a=o<d?0:p[i-d],m=g&&p[(g-1)*y+n*d+o%d],p[i++]=(e+Math.floor((a+m)/2))%256;break;case 4:for(o=C=0;C<y;o=C+=1)e=t[v++],n=(o-o%d)/d,a=o<d?0:p[i-d],0===g?m=b=0:(m=p[(g-1)*y+n*d+o%d],b=n&&p[(g-1)*y+(n-1)*d+o%d]),h=a+m-b,l=Math.abs(h-a),c=Math.abs(h-m),f=Math.abs(h-b),u=l<=c&&l<=f?a:c<=f?m:b,p[i++]=(e+u)%256;break;default:throw new Error("Invalid filter algorithm: "+t[v-1])}g++}return p},t.prototype.decodePalette=function(){var t,e,i,n,r,o,a,s,h,l;for(n=this.palette,a=this.transparency.indexed||[],o=new Uint8Array((a.length||0)+n.length),r=0,i=n.length,t=0,e=s=0,h=n.length;s<h;e=s+=3)o[r++]=n[e],o[r++]=n[e+1],o[r++]=n[e+2],o[r++]=null!=(l=a[t++])?l:255;return o},t.prototype.copyToImageData=function(t,e){var i,n,r,o,a,s,h,l,u,c,f;if(n=this.colors,u=null,i=this.hasAlphaChannel,this.palette.length&&(u=null!=(f=this._decodedPalette)?f:this._decodedPalette=this.decodePalette(),n=4,i=!0),r=t.data||t,l=r.length,a=u||e,o=s=0,1===n)for(;o<l;)h=u?4*e[o/4]:s,c=a[h++],r[o++]=c,r[o++]=c,r[o++]=c,r[o++]=i?a[h++]:255,s=h;else for(;o<l;)h=u?4*e[o/4]:s,r[o++]=a[h++],r[o++]=a[h++],r[o++]=a[h++],r[o++]=i?a[h++]:255,s=h},t.prototype.decode=function(){var t;return t=new Uint8Array(this.width*this.height*4),this.copyToImageData(t,this.decodePixels()),t},t.prototype.render=function(t){var e,i;return t.width=this.width,t.height=this.height,e=t.getContext("2d"),i=e.createImageData(this.width,this.height),this.copyToImageData(i,this.decodePixels()),e.putImageData(i,0,0)},t}(),e.exports=n},{"./zlib":33}],33:[function(t,e,i){var n=function(){function t(){this.pos=0,this.bufferLength=0,this.eof=!1,this.buffer=null}return t.prototype={ensureBuffer:function(t){var e=this.buffer,i=e?e.byteLength:0;if(t<i)return e;for(var n=512;n<t;)n<<=1;for(var r=new Uint8Array(n),o=0;o<i;++o)r[o]=e[o];return this.buffer=r},getByte:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return this.buffer[this.pos++]},getBytes:function(t){var e=this.pos;if(t){this.ensureBuffer(e+t);for(var i=e+t;!this.eof&&this.bufferLength<i;)this.readBlock();var n=this.bufferLength;i>n&&(i=n)}else{for(;!this.eof;)this.readBlock();var i=this.bufferLength}return this.pos=i,this.buffer.subarray(e,i)},lookChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos])},getChar:function(){for(var t=this.pos;this.bufferLength<=t;){if(this.eof)return null;this.readBlock()}return String.fromCharCode(this.buffer[this.pos++])},makeSubStream:function(t,e,i){for(var n=t+e;this.bufferLength<=n&&!this.eof;)this.readBlock();return new Stream(this.buffer,t,e,i)},skip:function(t){t||(t=1),this.pos+=t},reset:function(){this.pos=0}},t}(),r=function(){function t(t){throw new Error(t)}function e(e){var i=0,r=e[i++],o=e[i++];r!=-1&&o!=-1||t("Invalid header in flate stream"),8!=(15&r)&&t("Unknown compression method in flate stream"),((r<<8)+o)%31!=0&&t("Bad FCHECK in flate stream"),32&o&&t("FDICT bit set in flate stream"),this.bytes=e,this.bytesPos=i,this.codeSize=0,this.codeBuf=0,n.call(this)}var i=new Uint32Array([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),r=new Uint32Array([3,4,5,6,7,8,9,10,65547,65549,65551,65553,131091,131095,131099,131103,196643,196651,196659,196667,262211,262227,262243,262259,327811,327843,327875,327907,258,258,258]),o=new Uint32Array([1,2,3,4,65541,65543,131081,131085,196625,196633,262177,262193,327745,327777,393345,393409,459009,459137,524801,525057,590849,591361,657409,658433,724993,727041,794625,798721,868353,876545]),a=[new Uint32Array([459008,524368,524304,524568,459024,524400,524336,590016,459016,524384,524320,589984,524288,524416,524352,590048,459012,524376,524312,589968,459028,524408,524344,590032,459020,524392,524328,59e4,524296,524424,524360,590064,459010,524372,524308,524572,459026,524404,524340,590024,459018,524388,524324,589992,524292,524420,524356,590056,459014,524380,524316,589976,459030,524412,524348,590040,459022,524396,524332,590008,524300,524428,524364,590072,459009,524370,524306,524570,459025,524402,524338,590020,459017,524386,524322,589988,524290,524418,524354,590052,459013,524378,524314,589972,459029,524410,524346,590036,459021,524394,524330,590004,524298,524426,524362,590068,459011,524374,524310,524574,459027,524406,524342,590028,459019,524390,524326,589996,524294,524422,524358,590060,459015,524382,524318,589980,459031,524414,524350,590044,459023,524398,524334,590012,524302,524430,524366,590076,459008,524369,524305,524569,459024,524401,524337,590018,459016,524385,524321,589986,524289,524417,524353,590050,459012,524377,524313,589970,459028,524409,524345,590034,459020,524393,524329,590002,524297,524425,524361,590066,459010,524373,524309,524573,459026,524405,524341,590026,459018,524389,524325,589994,524293,524421,524357,590058,459014,524381,524317,589978,459030,524413,524349,590042,459022,524397,524333,590010,524301,524429,524365,590074,459009,524371,524307,524571,459025,524403,524339,590022,459017,524387,524323,589990,524291,524419,524355,590054,459013,524379,524315,589974,459029,524411,524347,590038,459021,524395,524331,590006,524299,524427,524363,590070,459011,524375,524311,524575,459027,524407,524343,590030,459019,524391,524327,589998,524295,524423,524359,590062,459015,524383,524319,589982,459031,524415,524351,590046,459023,524399,524335,590014,524303,524431,524367,590078,459008,524368,524304,524568,459024,524400,524336,590017,459016,524384,524320,589985,524288,524416,524352,590049,459012,524376,524312,589969,459028,524408,524344,590033,459020,524392,524328,590001,524296,524424,524360,590065,459010,524372,524308,524572,459026,524404,524340,590025,459018,524388,524324,589993,524292,524420,524356,590057,459014,524380,524316,589977,459030,524412,524348,590041,459022,524396,524332,590009,524300,524428,524364,590073,459009,524370,524306,524570,459025,524402,524338,590021,459017,524386,524322,589989,524290,524418,524354,590053,459013,524378,524314,589973,459029,524410,524346,590037,459021,524394,524330,590005,524298,524426,524362,590069,459011,524374,524310,524574,459027,524406,524342,590029,459019,524390,524326,589997,524294,524422,524358,590061,459015,524382,524318,589981,459031,524414,524350,590045,459023,524398,524334,590013,524302,524430,524366,590077,459008,524369,524305,524569,459024,524401,524337,590019,459016,524385,524321,589987,524289,524417,524353,590051,459012,524377,524313,589971,459028,524409,524345,590035,459020,524393,524329,590003,524297,524425,524361,590067,459010,524373,524309,524573,459026,524405,524341,590027,459018,524389,524325,589995,524293,524421,524357,590059,459014,524381,524317,589979,459030,524413,524349,590043,459022,524397,524333,590011,524301,524429,524365,590075,459009,524371,524307,524571,459025,524403,524339,590023,459017,524387,524323,589991,524291,524419,524355,590055,459013,524379,524315,589975,459029,524411,524347,590039,459021,524395,524331,590007,524299,524427,524363,590071,459011,524375,524311,524575,459027,524407,524343,590031,459019,524391,524327,589999,524295,524423,524359,590063,459015,524383,524319,589983,459031,524415,524351,590047,459023,524399,524335,590015,524303,524431,524367,590079]),9],s=[new Uint32Array([327680,327696,327688,327704,327684,327700,327692,327708,327682,327698,327690,327706,327686,327702,327694,0,327681,327697,327689,327705,327685,327701,327693,327709,327683,327699,327691,327707,327687,327703,327695,0]),5];return e.prototype=Object.create(n.prototype),e.prototype.getBits=function(e){for(var i,n=this.codeSize,r=this.codeBuf,o=this.bytes,a=this.bytesPos;n<e;)"undefined"==typeof(i=o[a++])&&t("Bad encoding in flate stream"),r|=i<<n,n+=8;return i=r&(1<<e)-1,this.codeBuf=r>>e,this.codeSize=n-=e,this.bytesPos=a,i},e.prototype.getCode=function(e){for(var i=e[0],n=e[1],r=this.codeSize,o=this.codeBuf,a=this.bytes,s=this.bytesPos;r<n;){var h;"undefined"==typeof(h=a[s++])&&t("Bad encoding in flate stream"),o|=h<<r,r+=8}var l=i[o&(1<<n)-1],u=l>>16,c=65535&l;return(0==r||r<u||0==u)&&t("Bad encoding in flate stream"),this.codeBuf=o>>u,this.codeSize=r-u,this.bytesPos=s,c},e.prototype.generateHuffmanTable=function(t){for(var e=t.length,i=0,n=0;n<e;++n)t[n]>i&&(i=t[n]);for(var r=1<<i,o=new Uint32Array(r),a=1,s=0,h=2;a<=i;++a,s<<=1,h<<=1)for(var l=0;l<e;++l)if(t[l]==a){for(var u=0,c=s,n=0;n<a;++n)u=u<<1|1&c,c>>=1;for(var n=u;n<r;n+=h)o[n]=a<<16|l;++s}return[o,i]},e.prototype.readBlock=function(){function e(t,e,i,n,r){for(var o=t.getBits(i)+n;o-- >0;)e[S++]=r}var n=this.getBits(3);if(1&n&&(this.eof=!0),n>>=1,0==n){var h,l=this.bytes,u=this.bytesPos;"undefined"==typeof(h=l[u++])&&t("Bad block header in flate stream");var c=h;"undefined"==typeof(h=l[u++])&&t("Bad block header in flate stream"),c|=h<<8,"undefined"==typeof(h=l[u++])&&t("Bad block header in flate stream");var f=h;"undefined"==typeof(h=l[u++])&&t("Bad block header in flate stream"),f|=h<<8,f!=(65535&~c)&&t("Bad uncompressed block length in flate stream"),this.codeBuf=0,this.codeSize=0;var d=this.bufferLength,p=this.ensureBuffer(d+c),v=d+c;this.bufferLength=v;for(var g=d;g<v;++g){if("undefined"==typeof(h=l[u++])){this.eof=!0;break}p[g]=h}return void(this.bytesPos=u)}var y,m;if(1==n)y=a,m=s;else if(2==n){for(var b=this.getBits(5)+257,w=this.getBits(5)+1,x=this.getBits(4)+4,M=Array(i.length),S=0;S<x;)M[i[S++]]=this.getBits(3);for(var C=this.generateHuffmanTable(M),L=0,S=0,k=b+w,A=new Array(k);S<k;){var E=this.getCode(C);16==E?e(this,A,2,3,L):17==E?e(this,A,3,3,L=0):18==E?e(this,A,7,11,L=0):A[S++]=L=E}y=this.generateHuffmanTable(A.slice(0,b)),m=this.generateHuffmanTable(A.slice(b,k))}else t("Unknown block type in flate stream");for(var p=this.buffer,I=p?p.length:0,T=this.bufferLength;;){var P=this.getCode(y);if(P<256)T+1>=I&&(p=this.ensureBuffer(T+1),I=p.length),p[T++]=P;else{if(256==P)return void(this.bufferLength=T);P-=257,P=r[P];var F=P>>16;F>0&&(F=this.getBits(F));var L=(65535&P)+F;P=this.getCode(m),P=o[P],F=P>>16,F>0&&(F=this.getBits(F));var _=(65535&P)+F;T+L>=I&&(p=this.ensureBuffer(T+L),I=p.length);for(var D=0;D<L;++D,++T)p[T]=p[T-_]}}},e}();e.exports=r},{}],34:[function(t,e,i){function n(t,e){return t>0&&e<0||!(e>0&&t<0)&&t<e}function r(t,e){return!n(t,e)}function o(t,e,i){return e<i?e<=t&&t<=i:e<=t&&t<=Math.PI||-Math.PI<=t&&t<=i}function a(t){return t>Math.PI?-(2*Math.PI-t):t<-Math.PI?2*Math.PI+t:t}function s(t,e){return t>0&&e<0?Math.abs(Math.PI-t-(-Math.PI-e)):e>0&&t<0?Math.abs(-t+e):t<=0&&e<=0?r(t,e)?-t+Math.PI-(-Math.PI-e):Math.abs(e-t):r(t,e)?Math.PI+(Math.PI-t)+e:Math.abs(e-t)}function h(t){for(var e=0,i=0;i<t.length;i++)e+=s(t[i][0],t[i][1]);return e}var l={DIRS:{4:[[0,-1],[1,0],[0,1],[-1,0]],8:[[0,-1],[1,-1],[1,0],[1,1],[0,1],[-1,1],[-1,0],[-1,-1]],6:[[-1,-1],[1,-1],[2,0],[1,1],[-1,1],[-2,0]]}};Number.prototype.mod=function(t){return(this%t+t)%t},Object.create||(Object.create=function(t){var e=function(){};return e.prototype=t,new e}),Function.prototype.extend=function(t){return this.prototype=Object.create(t.prototype),this.prototype.constructor=this,this},"undefined"!=typeof window&&(window.requestAnimationFrame=window.requestAnimationFrame||window.mozRequestAnimationFrame||window.webkitRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){return setTimeout(t,1e3/60)},window.cancelAnimationFrame=window.cancelAnimationFrame||window.mozCancelAnimationFrame||window.webkitCancelAnimationFrame||window.oCancelAnimationFrame||window.msCancelAnimationFrame||function(t){return clearTimeout(t)}),l.FOV=function(t,e){this._lightPasses=t,this._options={topology:8};for(var i in e)this._options[i]=e[i]},l.FOV.prototype.compute=function(t,e,i,n){},l.FOV.prototype._getCircle=function(t,e,i){var n,r,o,a=[];switch(this._options.topology){case 4:r=1,o=[0,1],n=[l.DIRS[8][7],l.DIRS[8][1],l.DIRS[8][3],l.DIRS[8][5]];break;case 6:n=l.DIRS[6],r=1,o=[-1,1];break;case 8:n=l.DIRS[4],r=2,o=[-1,1]}for(var s=t+o[0]*i,h=e+o[1]*i,u=0;u<n.length;u++)for(var c=0;c<i*r;c++)a.push([s,h]),s+=n[u][0],h+=n[u][1];return a},l.FOV.PreciseShadowcasting=function(t,e){l.FOV.call(this,t,e)},l.FOV.PreciseShadowcasting.extend(l.FOV),l.FOV.PreciseShadowcasting.prototype.compute=function(t,e,i,n){if(n(t,e,0,1),n(t-1,e-1,0,1),n(t,e-1,0,1),n(t+1,e-1,0,1),n(t-1,e,0,1),n(t+1,e,0,1),n(t-1,e+1,0,1),n(t,e+1,0,1),n(t+1,e+1,0,1),n(t-1,e-2,0,1),n(t,e-2,0,1),n(t+1,e-2,0,1),n(t-2,e-1,0,1),n(t-2,e,0,1),n(t-2,e+1,0,1),n(t+2,e-1,0,1),n(t+2,e,0,1),n(t+2,e+1,0,1),n(t-1,e+2,0,1),n(t,e+2,0,1),n(t+1,e+2,0,1),this._lightPasses(t,e)){for(var r,o,s,h,l,u,c,f,d,p,v,g,y,m,b,w,x=[],M={},S=1,C=1;C<=i;C++){var L=this._getCircle(t,e,C),k=L.length;S+=k,M={};for(var A=0;A<k;A++){r=L[A][0],o=L[A][1];var E=r+","+o;if((t-r)*(t-r)+(e-o)*(e-o)>=i*i)S--;else{var I=I=this.walls[E];if(I&&I.length){for(var T=!1,P=0;P<I.length;P++){var w=I[P];y=w[1],m=w[2],g=w[3],c=y-t,f=m-e,d=Math.sqrt(c*c+f*f),d>.5&&(p=Math.asin(g/d),v=Math.atan2(f,c),h=a(v-p),l=a(v+p),s=!this._lightPasses(r,o),dx1=r-t,dy1=o-e,b=Math.sqrt(dx1*dx1+dy1*dy1),b<d&&(M[w[1]+","+w[2]]=[w[1],w[2]]),c=r-t,f=o-e,d=Math.sqrt(c*c+f*f),p=Math.asin(g/d),v=Math.atan2(f,c),h=a(v-p),l=a(v+p),u=this._checkVisibility(v,h,l,!1,x),u||(T=!0))}u&&!T&&n(r,o,C,u)}else if(y=r,m=o,g=Math.SQRT2/2,c=y-t,f=m-e,d=Math.sqrt(c*c+f*f),d>.5&&(p=Math.asin(g/d),v=Math.atan2(f,c),h=a(v-p),l=a(v+p),s=!this._lightPasses(r,o),u=this._checkVisibility(v,h,l,s,x),u&&n(r,o,C,u),this.done))return}}for(var F in M)if(y=M[F][0],m=M[F][1],c=y-t,f=m-e,d=Math.sqrt(c*c+f*f),g=Math.SQRT2-.01,d>.5&&(p=Math.asin(g/d),v=Math.atan2(f,c),h=a(v-p),l=a(v+p),u=this._checkVisibility(v,h,l,!0,x),this.done))return}return S}},l.FOV.PreciseShadowcasting.prototype._checkVisibility=function(t,e,i,n,r){for(var a=!n,s=0;s<r.length;s++){var h=r[s];if(o(t,h[0],h[1])){if(!n)return!1;a=!1}}return n&&(e<0&&i>=0?(this._mergeShadows(t,0,i,n,r),this.done=!1,this._mergeShadows(t,e,0,n,r)):this._mergeShadows(t,e,i,n,r),1!=r.length||o(e,r[0][0],r[0][1])&&o(i,r[0][0],r[0][1])||e==r[0][0]||i==r[0][1]||(this.done=!0)),a},l.FOV.PreciseShadowcasting.prototype._mergeShadows=function(t,e,i,r,a){for(var s=0,l=!1,u=0;s<a.length;){var c=a[s];if(u=s,o(e,c[0],c[1])){l=!0;break}if(s>0&&o(e,a[s-1][1],c[0])){l=!1;break}if(n(e,c[1])){if(n(e,c[0]))break;s++}else s++,u=s}for(var f=a.length-1,d=!1,p=0;f>=0;){var c=a[f];if(p=f,o(i,c[0],c[1])){d=!0;break}if(n(i,c[0]))f--,p=f;else{if(!n(i,c[1]))break;f--}}if(u==a.length&&!l&&0==p&&d&&(u=0),0==a.length)a.push([e,i]);else{var v=[l?a[u][0]:e,d?a[p][1]:i];p=Math.max(u,p);var g=h(a),y=!1;o(0,v[0],v[1])&&0!=v[0]&&0!=v[1]?(a.splice(u,u!=p||l!=d||l?p-u+1:0,[v[0],0]),0!=a[0][0]&&a[0][1]!=v[1]&&a.splice(u+1,0,[0,v[1]]),y=!0):a.splice(u,u!=p||l!=d||l?p-u+1:0,v);var m=h(a);if(m<g&&(this.done=!0),0==v[0]||y)for(var b=0;0!=a[0][0]&&(a.push(a.shift()),!(b>=a.length));)b++}},e.exports=l},{}],35:[function(t,e,i){function n(t){if(t in f)return f[t];var e=t.split(",").map(function(t){return parseInt(t)}),i={x:e[0],y:e[1],key:t};return f[t]=i,i}function r(t,e){return t+","+e}function o(t,e){return{x:t,y:e,key:t+","+e}}function a(t){return t.x+","+t.y}function s(t,e){var i=(Date.now(),{});for(var n in t){var r=t[n];if(r.z>e)t:for(var o=-1;o<=1;o++)for(var a=-1;a<=1;a++)if(0!==o||0!==a){var s=r.x+o+","+(r.y+a);if(t[s]&&t[s].z<=e){i[r.key]=r;break t}}}return i}function h(t,e,i,n,r,o){for(var a in i)e<n[a]&&r[a]&&o[a].forEach(function(e){var n=e.x+","+e.y;t[n]=(t[n]||[]).concat([["tree",i[a].x,i[a].y,Math.SQRT2]])})}function l(t,e,i,n){function r(t,e,i,n,r){var o={};return t.scan(e,i,n,r,o),o}function a(t,e,i,n){var r=d.ImageXYtoGridXY(t,e);0===i[0]&&(n[r.x+","+r.y]=r)}function s(t,e,i,n){var r=d.ImageXYtoGridXY(t,e);r.z=i[0],n[r.x+","+r.y]=r,d.elevationValues.indexOf(i[0])==-1&&d.elevationValues.push(i[0])}function l(t,e,i,n){var r=d.ImageXYtoGridXY(t,e);if(0==i[1]&&0==i[2]){var a=o(r.x-.5,r.y-.5),s=i[0]+40,h=a.key;d.tree[h]=a,d.tree_elevations[h]=s,d.tree_blocks[h]=[],d.tree_state[h]=!0,[Math.floor,Math.ceil].forEach(function(t){
[Math.floor,Math.ceil].forEach(function(e){var i=o(t(a.x),e(a.y));d.tree_relations[i.key]=(d.tree_relations[i.key]||[]).concat(a),d.tree_blocks[h].push(i)})})}}var d=this;this.opts=n||{},this.grid=[],this.gridnav=null,this.ent_fow_blocker_node=null,this.tools_no_wards=null,this.elevationValues=[],this.elevationGrid=null,this.elevationWalls={},this.treeWalls={},this.tree={},this.tree_blocks={},this.tree_relations={},this.tree_elevations={},this.tree_state={},this.walls={},this.radius=this.opts.radius||parseInt(25),this.lights={},this.worldMinX=t.worldMinX,this.worldMinY=t.worldMinY,this.worldMaxX=t.worldMaxX,this.worldMaxY=t.worldMaxY,this.worldWidth=this.worldMaxX-this.worldMinX,this.worldHeight=this.worldMaxY-this.worldMinY,this.gridWidth=this.worldWidth/64+1,this.gridHeight=this.worldHeight/64+1,this.ready=!1,this.area=0,this.imageHandler=new u(e);Date.now();this.imageHandler.load(function(){Date.now();d.gridnav=r(d.imageHandler,2*d.gridWidth,d.gridWidth,d.gridHeight,a),d.ent_fow_blocker_node=r(d.imageHandler,3*d.gridWidth,d.gridWidth,d.gridHeight,a),d.tools_no_wards=r(d.imageHandler,4*d.gridWidth,d.gridWidth,d.gridHeight,a),r(d.imageHandler,d.gridWidth,d.gridWidth,d.gridHeight,l),d.elevationGrid=r(d.imageHandler,0,d.gridWidth,d.gridHeight,s);Date.now();d.elevationValues.forEach(function(t){d.treeWalls[t]={},h(d.treeWalls[t],t,d.tree,d.tree_elevations,d.tree_state,d.tree_blocks)});for(var t=(Date.now(),0);t<d.gridWidth;t++){d.grid[t]=[];for(var e=0;e<d.gridHeight;e++){var n=o(t,e);f[n.key]=n,d.grid[t].push(n)}}Date.now();d.ready=!0,i()}),this.lightPassesCallback=function(t,e){var i=t+","+e;return!(i in d.elevationWalls[d.elevation]||i in d.ent_fow_blocker_node||i in d.treeWalls[d.elevation]&&d.treeWalls[d.elevation][i].length>0)},this.fov=new c.FOV.PreciseShadowcasting(this.lightPassesCallback,{topology:8})}var u=t("./imageHandler.js"),c=t("./rot6.js"),f={};l.prototype.updateVisibility=function(t,e,i){var n=this,o=r(t,e);i=i||n.radius,this.elevation=this.elevationGrid[o].z,this.walls=this.treeWalls[this.elevation],this.elevationWalls[this.elevation]||(this.elevationWalls[this.elevation]=s(this.elevationGrid,this.elevation)),this.fov.walls=this.walls,this.lights={},this.area=this.fov.compute(t,e,i,function(t,e,i,o){var a=r(t,e);if(n.elevationGrid[a]){var s=n.tree_relations[a],h=!1;if(s)for(var l=0;l<s.length;l++){var u=s[l];if(h=n.tree_state[u.key]&&n.tree_elevations[u.key]>n.elevation)break}1!=o||n.ent_fow_blocker_node[a]||h||(n.lights[a]=255)}}),this.lightArea=Object.keys(this.lights).length},l.prototype.isValidXY=function(t,e,i,n,o){if(!this.ready)return!1;var a=r(t,e),s=!1;if(o){var h=this.tree_relations[a];if(h)for(var l=0;l<h.length;l++){var u=h[l];if(s=this.tree_state[u.key])break}}return!(!(t>=0&&t<this.gridWidth&&e>=0&&e<this.gridHeight)||i&&this.gridnav[a]||n&&this.tools_no_wards[a]||o&&s)},l.prototype.toggleTree=function(t,e){var i=this,n=r(t,e),o=!!this.tree_relations[n];if(o)for(var a=this.tree_relations[n],s=0;s<a.length;s++){var h=a[s];this.tree_state[h.key]=!this.tree_state[h.key],this.elevationValues.forEach(function(t){t<i.tree_elevations[h.key]&&(i.tree_blocks[h.key].forEach(function(e){for(var n=i.treeWalls[t][e.key].length-1;n>=0;n--)h.x==i.treeWalls[t][e.key][n][1]&&h.y==i.treeWalls[t][e.key][n][2]&&i.treeWalls[t][e.key].splice(n,1)}),i.tree_state[h.key]&&i.tree_blocks[h.key].forEach(function(e){i.treeWalls[t][e.key]=(i.treeWalls[t][e.key]||[]).concat([["tree",h.x,h.y,Math.SQRT2]])}))})}return o},l.prototype.setRadius=function(t){this.radius=t},l.prototype.WorldXYtoGridXY=function(t,e,i){var n=(t-this.worldMinX)/64,r=(e-this.worldMinY)/64;return i||(n=parseInt(Math.round(n)),r=parseInt(Math.round(r))),{x:n,y:r,key:n+","+r}},l.prototype.GridXYtoWorldXY=function(t,e){return{x:64*t+this.worldMinX,y:64*e+this.worldMinY}},l.prototype.GridXYtoImageXY=function(t,e){return{x:t,y:this.gridHeight-e-1}},l.prototype.ImageXYtoGridXY=function(t,e){var i=this.gridHeight-e-1;return{x:t,y:i,key:t+","+i}},l.prototype.WorldXYtoImageXY=function(t,e){var i=this.WorldXYtoGridXY(t,e);return this.GridXYtoImageXY(i.x,i.y)},l.prototype.key2pt=n,l.prototype.xy2key=r,l.prototype.xy2pt=o,l.prototype.pt2key=a,e.exports=l},{"./imageHandler.js":31,"./rot6.js":34}],36:[function(t,e,i){e.exports={worldMinX:-8288,worldMaxX:8288,worldMinY:-8288,worldMaxY:8288}},{}]},{},[17])(17)});
//# sourceMappingURL=bundle-4eac1c0.min.js.map